var b0=t=>{throw TypeError(t)};var Tf=(t,e,n)=>e.has(t)||b0("Cannot "+n);var z=(t,e,n)=>(Tf(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>e.has(t)?b0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),he=(t,e,n,r)=>(Tf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Dt=(t,e,n)=>(Tf(t,e,"access private method"),n);var Xc=(t,e,n,r)=>({set _(i){he(t,e,i,n)},get _(){return z(t,e,r)}});function $P(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function fE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pE={exports:{}},oh={},mE={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=Symbol.for("react.element"),WP=Symbol.for("react.portal"),HP=Symbol.for("react.fragment"),GP=Symbol.for("react.strict_mode"),qP=Symbol.for("react.profiler"),KP=Symbol.for("react.provider"),QP=Symbol.for("react.context"),YP=Symbol.for("react.forward_ref"),XP=Symbol.for("react.suspense"),JP=Symbol.for("react.memo"),ZP=Symbol.for("react.lazy"),T0=Symbol.iterator;function ek(t){return t===null||typeof t!="object"?null:(t=T0&&t[T0]||t["@@iterator"],typeof t=="function"?t:null)}var gE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vE=Object.assign,yE={};function ca(t,e,n){this.props=t,this.context=e,this.refs=yE,this.updater=n||gE}ca.prototype.isReactComponent={};ca.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wE(){}wE.prototype=ca.prototype;function pg(t,e,n){this.props=t,this.context=e,this.refs=yE,this.updater=n||gE}var mg=pg.prototype=new wE;mg.constructor=pg;vE(mg,ca.prototype);mg.isPureReactComponent=!0;var I0=Array.isArray,_E=Object.prototype.hasOwnProperty,gg={current:null},EE={key:!0,ref:!0,__self:!0,__source:!0};function xE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_E.call(e,r)&&!EE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ac,type:t,key:s,ref:o,props:i,_owner:gg.current}}function tk(t,e){return{$$typeof:ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ac}function nk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C0=/\/+/g;function If(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nk(""+t.key):e.toString(36)}function ku(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ac:case WP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+If(o,0):r,I0(i)?(n="",t!=null&&(n=t.replace(C0,"$&/")+"/"),ku(i,e,n,"",function(u){return u})):i!=null&&(vg(i)&&(i=tk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(C0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",I0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+If(s,a);o+=ku(s,e,n,l,i)}else if(l=ek(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+If(s,a++),o+=ku(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jc(t,e,n){if(t==null)return t;var r=[],i=0;return ku(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},Ru={transition:null},ik={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Ru,ReactCurrentOwner:gg};function bE(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Jc,forEach:function(t,e,n){Jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jc(t,function(){e++}),e},toArray:function(t){return Jc(t,function(e){return e})||[]},only:function(t){if(!vg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=ca;ge.Fragment=HP;ge.Profiler=qP;ge.PureComponent=pg;ge.StrictMode=GP;ge.Suspense=XP;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ik;ge.act=bE;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_E.call(e,l)&&!EE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ac,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:QP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KP,_context:t},t.Consumer=t};ge.createElement=xE;ge.createFactory=function(t){var e=xE.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:YP,render:t}};ge.isValidElement=vg;ge.lazy=function(t){return{$$typeof:ZP,_payload:{_status:-1,_result:t},_init:rk}};ge.memo=function(t,e){return{$$typeof:JP,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Ru.transition;Ru.transition={};try{t()}finally{Ru.transition=e}};ge.unstable_act=bE;ge.useCallback=function(t,e){return Yt.current.useCallback(t,e)};ge.useContext=function(t){return Yt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Yt.current.useEffect(t,e)};ge.useId=function(){return Yt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Yt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};ge.useRef=function(t){return Yt.current.useRef(t)};ge.useState=function(t){return Yt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Yt.current.useTransition()};ge.version="18.3.1";mE.exports=ge;var w=mE.exports;const q=fE(w),TE=$P({__proto__:null,default:q},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sk=w,ok=Symbol.for("react.element"),ak=Symbol.for("react.fragment"),lk=Object.prototype.hasOwnProperty,ck=sk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uk={key:!0,ref:!0,__self:!0,__source:!0};function IE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lk.call(e,r)&&!uk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ok,type:t,key:s,ref:o,props:i,_owner:ck.current}}oh.Fragment=ak;oh.jsx=IE;oh.jsxs=IE;pE.exports=oh;var m=pE.exports,CE={exports:{}},wn={},SE={exports:{}},AE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,$){var J=L.length;L.push($);e:for(;0<J;){var Q=J-1>>>1,ee=L[Q];if(0<i(ee,$))L[Q]=$,L[J]=ee,J=Q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],J=L.pop();if(J!==$){L[0]=J;e:for(var Q=0,ee=L.length,re=ee>>>1;Q<re;){var Se=2*(Q+1)-1,We=L[Se],pe=Se+1,te=L[pe];if(0>i(We,J))pe<ee&&0>i(te,We)?(L[Q]=te,L[pe]=J,Q=pe):(L[Q]=We,L[Se]=J,Q=Se);else if(pe<ee&&0>i(te,J))L[Q]=te,L[pe]=J,Q=pe;else break e}}return $}function i(L,$){var J=L.sortIndex-$.sortIndex;return J!==0?J:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,_=!1,T=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=L)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function P(L){if(v=!1,E(L),!T)if(n(l)!==null)T=!0,j(O);else{var $=n(u);$!==null&&K(P,$.startTime-L)}}function O(L,$){T=!1,v&&(v=!1,x(I),I=-1),_=!0;var J=h;try{for(E($),f=n(l);f!==null&&(!(f.expirationTime>$)||L&&!N());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var ee=Q(f.expirationTime<=$);$=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),E($)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var Se=n(u);Se!==null&&K(P,Se.startTime-$),re=!1}return re}finally{f=null,h=J,_=!1}}var M=!1,C=null,I=-1,A=5,k=-1;function N(){return!(t.unstable_now()-k<A)}function D(){if(C!==null){var L=t.unstable_now();k=L;var $=!0;try{$=C(!0,L)}finally{$?R():(M=!1,C=null)}}else M=!1}var R;if(typeof y=="function")R=function(){y(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ne=H.port2;H.port1.onmessage=D,R=function(){ne.postMessage(null)}}else R=function(){b(D,0)};function j(L){C=L,M||(M=!0,R())}function K(L,$){I=b(function(){L(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){T||_||(T=!0,j(O))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var J=h;h=$;try{return L()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var J=h;h=L;try{return $()}finally{h=J}},t.unstable_scheduleCallback=function(L,$,J){var Q=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Q+J:Q):J=Q,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=J+ee,L={id:d++,callback:$,priorityLevel:L,startTime:J,expirationTime:ee,sortIndex:-1},J>Q?(L.sortIndex=J,e(u,L),n(l)===null&&L===n(u)&&(v?(x(I),I=-1):v=!0,K(P,J-Q))):(L.sortIndex=ee,e(l,L),T||_||(T=!0,j(O))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var $=h;return function(){var J=h;h=$;try{return L.apply(this,arguments)}finally{h=J}}}})(AE);SE.exports=AE;var dk=SE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk=w,vn=dk;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PE=new Set,Il={};function Ws(t,e){Ko(t,e),Ko(t+"Capture",e)}function Ko(t,e){for(Il[t]=e,t=0;t<e.length;t++)PE.add(e[t])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tp=Object.prototype.hasOwnProperty,fk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S0={},A0={};function pk(t){return Tp.call(A0,t)?!0:Tp.call(S0,t)?!1:fk.test(t)?A0[t]=!0:(S0[t]=!0,!1)}function mk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gk(t,e,n,r){if(e===null||typeof e>"u"||mk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var yg=/[\-:]([a-z])/g;function wg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yg,wg);At[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yg,wg);At[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yg,wg);At[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function _g(t,e,n,r){var i=At.hasOwnProperty(e)?At[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gk(e,n,i,r)&&(n=null),r||i===null?pk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),uo=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),kE=Symbol.for("react.provider"),RE=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Sp=Symbol.for("react.suspense_list"),bg=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),NE=Symbol.for("react.offscreen"),P0=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=P0&&t[P0]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Cf;function Ja(t){if(Cf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cf=e&&e[1]||""}return`
`+Cf+t}var Sf=!1;function Af(t,e){if(!t||Sf)return"";Sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ja(t):""}function vk(t){switch(t.tag){case 5:return Ja(t.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 2:case 15:return t=Af(t.type,!1),t;case 11:return t=Af(t.type.render,!1),t;case 1:return t=Af(t.type,!0),t;default:return""}}function Ap(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ho:return"Fragment";case uo:return"Portal";case Ip:return"Profiler";case Eg:return"StrictMode";case Cp:return"Suspense";case Sp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RE:return(t.displayName||"Context")+".Consumer";case kE:return(t._context.displayName||"Context")+".Provider";case xg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bg:return e=t.displayName||null,e!==null?e:Ap(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return Ap(t(e))}catch{}}return null}function yk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ap(e);case 8:return e===Eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wk(t){var e=DE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function eu(t){t._valueTracker||(t._valueTracker=wk(t))}function OE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pp(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function k0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ME(t,e){e=e.checked,e!=null&&_g(t,"checked",e,!1)}function kp(t,e){ME(t,e);var n=Fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rp(t,e.type,Fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rp(t,e,n){(e!=="number"||ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Za=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Np(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function N0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Za(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fi(n)}}function LE(t,e){var n=Fi(e.value),r=Fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tu,jE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tu=tu||document.createElement("div"),tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_k=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(t){_k.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cl[e]=cl[t]})});function FE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cl.hasOwnProperty(t)&&cl[t]?(""+e).trim():e+"px"}function UE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=FE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ek=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Op(t,e){if(e){if(Ek[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lp=null;function Tg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vp=null,To=null,Io=null;function O0(t){if(t=uc(t)){if(typeof Vp!="function")throw Error(W(280));var e=t.stateNode;e&&(e=dh(e),Vp(t.stateNode,t.type,e))}}function BE(t){To?Io?Io.push(t):Io=[t]:To=t}function zE(){if(To){var t=To,e=Io;if(Io=To=null,O0(t),e)for(t=0;t<e.length;t++)O0(e[t])}}function $E(t,e){return t(e)}function WE(){}var Pf=!1;function HE(t,e,n){if(Pf)return t(e,n);Pf=!0;try{return $E(t,e,n)}finally{Pf=!1,(To!==null||Io!==null)&&(WE(),zE())}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var r=dh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var jp=!1;if(Fr)try{var $a={};Object.defineProperty($a,"passive",{get:function(){jp=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{jp=!1}function xk(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ul=!1,ld=null,cd=!1,Fp=null,bk={onError:function(t){ul=!0,ld=t}};function Tk(t,e,n,r,i,s,o,a,l){ul=!1,ld=null,xk.apply(bk,arguments)}function Ik(t,e,n,r,i,s,o,a,l){if(Tk.apply(this,arguments),ul){if(ul){var u=ld;ul=!1,ld=null}else throw Error(W(198));cd||(cd=!0,Fp=u)}}function Hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function GE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function M0(t){if(Hs(t)!==t)throw Error(W(188))}function Ck(t){var e=t.alternate;if(!e){if(e=Hs(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return M0(i),t;if(s===r)return M0(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function qE(t){return t=Ck(t),t!==null?KE(t):null}function KE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KE(t);if(e!==null)return e;t=t.sibling}return null}var QE=vn.unstable_scheduleCallback,L0=vn.unstable_cancelCallback,Sk=vn.unstable_shouldYield,Ak=vn.unstable_requestPaint,it=vn.unstable_now,Pk=vn.unstable_getCurrentPriorityLevel,Ig=vn.unstable_ImmediatePriority,YE=vn.unstable_UserBlockingPriority,ud=vn.unstable_NormalPriority,kk=vn.unstable_LowPriority,XE=vn.unstable_IdlePriority,ah=null,hr=null;function Rk(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(ah,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:Ok,Nk=Math.log,Dk=Math.LN2;function Ok(t){return t>>>=0,t===0?32:31-(Nk(t)/Dk|0)|0}var nu=64,ru=4194304;function el(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=el(a):(s&=o,s!==0&&(r=el(s)))}else o=n&~i,o!==0?r=el(o):s!==0&&(r=el(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),i=1<<n,r|=t[n],e&=~i;return r}function Mk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-zn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Mk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Up(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JE(){var t=nu;return nu<<=1,!(nu&4194240)&&(nu=64),t}function kf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function Vk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Cg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function ZE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ex,Sg,tx,nx,rx,Bp=!1,iu=[],Ii=null,Ci=null,Si=null,Al=new Map,Pl=new Map,di=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V0(t,e){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(e.pointerId)}}function Wa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=uc(e),e!==null&&Sg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Fk(t,e,n,r,i){switch(e){case"focusin":return Ii=Wa(Ii,t,e,n,r,i),!0;case"dragenter":return Ci=Wa(Ci,t,e,n,r,i),!0;case"mouseover":return Si=Wa(Si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Al.set(s,Wa(Al.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pl.set(s,Wa(Pl.get(s)||null,t,e,n,r,i)),!0}return!1}function ix(t){var e=vs(t.target);if(e!==null){var n=Hs(e);if(n!==null){if(e=n.tag,e===13){if(e=GE(n),e!==null){t.blockedOn=e,rx(t.priority,function(){tx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lp=r,n.target.dispatchEvent(r),Lp=null}else return e=uc(n),e!==null&&Sg(e),t.blockedOn=n,!1;e.shift()}return!0}function j0(t,e,n){Nu(t)&&n.delete(e)}function Uk(){Bp=!1,Ii!==null&&Nu(Ii)&&(Ii=null),Ci!==null&&Nu(Ci)&&(Ci=null),Si!==null&&Nu(Si)&&(Si=null),Al.forEach(j0),Pl.forEach(j0)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,Bp||(Bp=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,Uk)))}function kl(t){function e(i){return Ha(i,t)}if(0<iu.length){Ha(iu[0],t);for(var n=1;n<iu.length;n++){var r=iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ii!==null&&Ha(Ii,t),Ci!==null&&Ha(Ci,t),Si!==null&&Ha(Si,t),Al.forEach(e),Pl.forEach(e),n=0;n<di.length;n++)r=di[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<di.length&&(n=di[0],n.blockedOn===null);)ix(n),n.blockedOn===null&&di.shift()}var Co=Qr.ReactCurrentBatchConfig,hd=!0;function Bk(t,e,n,r){var i=De,s=Co.transition;Co.transition=null;try{De=1,Ag(t,e,n,r)}finally{De=i,Co.transition=s}}function zk(t,e,n,r){var i=De,s=Co.transition;Co.transition=null;try{De=4,Ag(t,e,n,r)}finally{De=i,Co.transition=s}}function Ag(t,e,n,r){if(hd){var i=zp(t,e,n,r);if(i===null)Uf(t,e,r,fd,n),V0(t,r);else if(Fk(i,t,e,n,r))r.stopPropagation();else if(V0(t,r),e&4&&-1<jk.indexOf(t)){for(;i!==null;){var s=uc(i);if(s!==null&&ex(s),s=zp(t,e,n,r),s===null&&Uf(t,e,r,fd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Uf(t,e,r,null,n)}}var fd=null;function zp(t,e,n,r){if(fd=null,t=Tg(r),t=vs(t),t!==null)if(e=Hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=GE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fd=t,null}function sx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pk()){case Ig:return 1;case YE:return 4;case ud:case kk:return 16;case XE:return 536870912;default:return 16}default:return 16}}var Ei=null,Pg=null,Du=null;function ox(){if(Du)return Du;var t,e=Pg,n=e.length,r,i="value"in Ei?Ei.value:Ei.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Du=i.slice(t,1<r?1-r:void 0)}function Ou(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function su(){return!0}function F0(){return!1}function _n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?su:F0,this.isPropagationStopped=F0,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),e}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kg=_n(ua),cc=Qe({},ua,{view:0,detail:0}),$k=_n(cc),Rf,Nf,Ga,lh=Qe({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(Rf=t.screenX-Ga.screenX,Nf=t.screenY-Ga.screenY):Nf=Rf=0,Ga=t),Rf)},movementY:function(t){return"movementY"in t?t.movementY:Nf}}),U0=_n(lh),Wk=Qe({},lh,{dataTransfer:0}),Hk=_n(Wk),Gk=Qe({},cc,{relatedTarget:0}),Df=_n(Gk),qk=Qe({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),Kk=_n(qk),Qk=Qe({},ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yk=_n(Qk),Xk=Qe({},ua,{data:0}),B0=_n(Xk),Jk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eR[t])?!!e[t]:!1}function Rg(){return tR}var nR=Qe({},cc,{key:function(t){if(t.key){var e=Jk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ou(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rg,charCode:function(t){return t.type==="keypress"?Ou(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ou(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rR=_n(nR),iR=Qe({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z0=_n(iR),sR=Qe({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rg}),oR=_n(sR),aR=Qe({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),lR=_n(aR),cR=Qe({},lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uR=_n(cR),dR=[9,13,27,32],Ng=Fr&&"CompositionEvent"in window,dl=null;Fr&&"documentMode"in document&&(dl=document.documentMode);var hR=Fr&&"TextEvent"in window&&!dl,ax=Fr&&(!Ng||dl&&8<dl&&11>=dl),$0=" ",W0=!1;function lx(t,e){switch(t){case"keyup":return dR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function fR(t,e){switch(t){case"compositionend":return cx(e);case"keypress":return e.which!==32?null:(W0=!0,$0);case"textInput":return t=e.data,t===$0&&W0?null:t;default:return null}}function pR(t,e){if(fo)return t==="compositionend"||!Ng&&lx(t,e)?(t=ox(),Du=Pg=Ei=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ax&&e.locale!=="ko"?null:e.data;default:return null}}var mR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mR[t.type]:e==="textarea"}function ux(t,e,n,r){BE(r),e=pd(e,"onChange"),0<e.length&&(n=new kg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hl=null,Rl=null;function gR(t){Ex(t,0)}function ch(t){var e=go(t);if(OE(e))return t}function vR(t,e){if(t==="change")return e}var dx=!1;if(Fr){var Of;if(Fr){var Mf="oninput"in document;if(!Mf){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),Mf=typeof G0.oninput=="function"}Of=Mf}else Of=!1;dx=Of&&(!document.documentMode||9<document.documentMode)}function q0(){hl&&(hl.detachEvent("onpropertychange",hx),Rl=hl=null)}function hx(t){if(t.propertyName==="value"&&ch(Rl)){var e=[];ux(e,Rl,t,Tg(t)),HE(gR,e)}}function yR(t,e,n){t==="focusin"?(q0(),hl=e,Rl=n,hl.attachEvent("onpropertychange",hx)):t==="focusout"&&q0()}function wR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ch(Rl)}function _R(t,e){if(t==="click")return ch(e)}function ER(t,e){if(t==="input"||t==="change")return ch(e)}function xR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:xR;function Nl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Tp.call(e,i)||!Hn(t[i],e[i]))return!1}return!0}function K0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q0(t,e){var n=K0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=K0(n)}}function fx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function px(){for(var t=window,e=ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ad(t.document)}return e}function Dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bR(t){var e=px(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fx(n.ownerDocument.documentElement,n)){if(r!==null&&Dg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Q0(n,s);var o=Q0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TR=Fr&&"documentMode"in document&&11>=document.documentMode,po=null,$p=null,fl=null,Wp=!1;function Y0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wp||po==null||po!==ad(r)||(r=po,"selectionStart"in r&&Dg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Nl(fl,r)||(fl=r,r=pd($p,"onSelect"),0<r.length&&(e=new kg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=po)))}function ou(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mo={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Lf={},mx={};Fr&&(mx=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function uh(t){if(Lf[t])return Lf[t];if(!mo[t])return t;var e=mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mx)return Lf[t]=e[n];return t}var gx=uh("animationend"),vx=uh("animationiteration"),yx=uh("animationstart"),wx=uh("transitionend"),_x=new Map,X0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(t,e){_x.set(t,e),Ws(e,[t])}for(var Vf=0;Vf<X0.length;Vf++){var jf=X0[Vf],IR=jf.toLowerCase(),CR=jf[0].toUpperCase()+jf.slice(1);Ji(IR,"on"+CR)}Ji(gx,"onAnimationEnd");Ji(vx,"onAnimationIteration");Ji(yx,"onAnimationStart");Ji("dblclick","onDoubleClick");Ji("focusin","onFocus");Ji("focusout","onBlur");Ji(wx,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function J0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ik(r,e,void 0,t),t.currentTarget=null}function Ex(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;J0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;J0(i,a,u),s=l}}}if(cd)throw t=Fp,cd=!1,Fp=null,t}function ze(t,e){var n=e[Qp];n===void 0&&(n=e[Qp]=new Set);var r=t+"__bubble";n.has(r)||(xx(e,t,2,!1),n.add(r))}function Ff(t,e,n){var r=0;e&&(r|=4),xx(n,t,r,e)}var au="_reactListening"+Math.random().toString(36).slice(2);function Dl(t){if(!t[au]){t[au]=!0,PE.forEach(function(n){n!=="selectionchange"&&(SR.has(n)||Ff(n,!1,t),Ff(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[au]||(e[au]=!0,Ff("selectionchange",!1,e))}}function xx(t,e,n,r){switch(sx(e)){case 1:var i=Bk;break;case 4:i=zk;break;default:i=Ag}n=i.bind(null,e,n,t),i=void 0,!jp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Uf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=vs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}HE(function(){var u=s,d=Tg(n),f=[];e:{var h=_x.get(t);if(h!==void 0){var _=kg,T=t;switch(t){case"keypress":if(Ou(n)===0)break e;case"keydown":case"keyup":_=rR;break;case"focusin":T="focus",_=Df;break;case"focusout":T="blur",_=Df;break;case"beforeblur":case"afterblur":_=Df;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Hk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=oR;break;case gx:case vx:case yx:_=Kk;break;case wx:_=lR;break;case"scroll":_=$k;break;case"wheel":_=uR;break;case"copy":case"cut":case"paste":_=Yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=z0}var v=(e&4)!==0,b=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,E;y!==null;){E=y;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,x!==null&&(P=Sl(y,x),P!=null&&v.push(Ol(y,P,E)))),b)break;y=y.return}0<v.length&&(h=new _(h,T,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",h&&n!==Lp&&(T=n.relatedTarget||n.fromElement)&&(vs(T)||T[Ur]))break e;if((_||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,_?(T=n.relatedTarget||n.toElement,_=u,T=T?vs(T):null,T!==null&&(b=Hs(T),T!==b||T.tag!==5&&T.tag!==6)&&(T=null)):(_=null,T=u),_!==T)){if(v=U0,P="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=z0,P="onPointerLeave",x="onPointerEnter",y="pointer"),b=_==null?h:go(_),E=T==null?h:go(T),h=new v(P,y+"leave",_,n,d),h.target=b,h.relatedTarget=E,P=null,vs(d)===u&&(v=new v(x,y+"enter",T,n,d),v.target=E,v.relatedTarget=b,P=v),b=P,_&&T)t:{for(v=_,x=T,y=0,E=v;E;E=to(E))y++;for(E=0,P=x;P;P=to(P))E++;for(;0<y-E;)v=to(v),y--;for(;0<E-y;)x=to(x),E--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=to(v),x=to(x)}v=null}else v=null;_!==null&&Z0(f,h,_,v,!1),T!==null&&b!==null&&Z0(f,b,T,v,!0)}}e:{if(h=u?go(u):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var O=vR;else if(H0(h))if(dx)O=ER;else{O=wR;var M=yR}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=_R);if(O&&(O=O(t,u))){ux(f,O,n,d);break e}M&&M(t,h,u),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Rp(h,"number",h.value)}switch(M=u?go(u):window,t){case"focusin":(H0(M)||M.contentEditable==="true")&&(po=M,$p=u,fl=null);break;case"focusout":fl=$p=po=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,Y0(f,n,d);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":Y0(f,n,d)}var C;if(Ng)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else fo?lx(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(ax&&n.locale!=="ko"&&(fo||I!=="onCompositionStart"?I==="onCompositionEnd"&&fo&&(C=ox()):(Ei=d,Pg="value"in Ei?Ei.value:Ei.textContent,fo=!0)),M=pd(u,I),0<M.length&&(I=new B0(I,t,null,n,d),f.push({event:I,listeners:M}),C?I.data=C:(C=cx(n),C!==null&&(I.data=C)))),(C=hR?fR(t,n):pR(t,n))&&(u=pd(u,"onBeforeInput"),0<u.length&&(d=new B0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}Ex(f,e)})}function Ol(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sl(t,n),s!=null&&r.unshift(Ol(t,s,i)),s=Sl(t,e),s!=null&&r.push(Ol(t,s,i))),t=t.return}return r}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Z0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Sl(n,s),l!=null&&o.unshift(Ol(n,l,a))):i||(l=Sl(n,s),l!=null&&o.push(Ol(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var AR=/\r\n?/g,PR=/\u0000|\uFFFD/g;function ew(t){return(typeof t=="string"?t:""+t).replace(AR,`
`).replace(PR,"")}function lu(t,e,n){if(e=ew(e),ew(t)!==e&&n)throw Error(W(425))}function md(){}var Hp=null,Gp=null;function qp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kp=typeof setTimeout=="function"?setTimeout:void 0,kR=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(t){return tw.resolve(null).then(t).catch(NR)}:Kp;function NR(t){setTimeout(function(){throw t})}function Bf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kl(e)}function Ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var da=Math.random().toString(36).slice(2),or="__reactFiber$"+da,Ml="__reactProps$"+da,Ur="__reactContainer$"+da,Qp="__reactEvents$"+da,DR="__reactListeners$"+da,OR="__reactHandles$"+da;function vs(t){var e=t[or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nw(t);t!==null;){if(n=t[or])return n;t=nw(t)}return e}t=n,n=t.parentNode}return null}function uc(t){return t=t[or]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function dh(t){return t[Ml]||null}var Yp=[],vo=-1;function Zi(t){return{current:t}}function $e(t){0>vo||(t.current=Yp[vo],Yp[vo]=null,vo--)}function je(t,e){vo++,Yp[vo]=t.current,t.current=e}var Ui={},Bt=Zi(Ui),rn=Zi(!1),Ps=Ui;function Qo(t,e){var n=t.type.contextTypes;if(!n)return Ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function gd(){$e(rn),$e(Bt)}function rw(t,e,n){if(Bt.current!==Ui)throw Error(W(168));je(Bt,e),je(rn,n)}function bx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,yk(t)||"Unknown",i));return Qe({},n,r)}function vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ui,Ps=Bt.current,je(Bt,t),je(rn,rn.current),!0}function iw(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=bx(t,e,Ps),r.__reactInternalMemoizedMergedChildContext=t,$e(rn),$e(Bt),je(Bt,t)):$e(rn),je(rn,n)}var kr=null,hh=!1,zf=!1;function Tx(t){kr===null?kr=[t]:kr.push(t)}function MR(t){hh=!0,Tx(t)}function es(){if(!zf&&kr!==null){zf=!0;var t=0,e=De;try{var n=kr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kr=null,hh=!1}catch(i){throw kr!==null&&(kr=kr.slice(t+1)),QE(Ig,es),i}finally{De=e,zf=!1}}return null}var yo=[],wo=0,yd=null,wd=0,Tn=[],In=0,ks=null,Nr=1,Dr="";function ps(t,e){yo[wo++]=wd,yo[wo++]=yd,yd=t,wd=e}function Ix(t,e,n){Tn[In++]=Nr,Tn[In++]=Dr,Tn[In++]=ks,ks=t;var r=Nr;t=Dr;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var s=32-zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nr=1<<32-zn(e)+i|n<<i|r,Dr=s+t}else Nr=1<<s|n<<i|r,Dr=t}function Og(t){t.return!==null&&(ps(t,1),Ix(t,1,0))}function Mg(t){for(;t===yd;)yd=yo[--wo],yo[wo]=null,wd=yo[--wo],yo[wo]=null;for(;t===ks;)ks=Tn[--In],Tn[In]=null,Dr=Tn[--In],Tn[In]=null,Nr=Tn[--In],Tn[In]=null}var mn=null,fn=null,Ge=!1,Un=null;function Cx(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,fn=Ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ks!==null?{id:Nr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,fn=null,!0):!1;default:return!1}}function Xp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jp(t){if(Ge){var e=fn;if(e){var n=e;if(!sw(t,e)){if(Xp(t))throw Error(W(418));e=Ai(n.nextSibling);var r=mn;e&&sw(t,e)?Cx(r,n):(t.flags=t.flags&-4097|2,Ge=!1,mn=t)}}else{if(Xp(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ge=!1,mn=t}}}function ow(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function cu(t){if(t!==mn)return!1;if(!Ge)return ow(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qp(t.type,t.memoizedProps)),e&&(e=fn)){if(Xp(t))throw Sx(),Error(W(418));for(;e;)Cx(t,e),e=Ai(e.nextSibling)}if(ow(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=Ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=mn?Ai(t.stateNode.nextSibling):null;return!0}function Sx(){for(var t=fn;t;)t=Ai(t.nextSibling)}function Yo(){fn=mn=null,Ge=!1}function Lg(t){Un===null?Un=[t]:Un.push(t)}var LR=Qr.ReactCurrentBatchConfig;function qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function uu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aw(t){var e=t._init;return e(t._payload)}function Ax(t){function e(x,y){if(t){var E=x.deletions;E===null?(x.deletions=[y],x.flags|=16):E.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=Ni(x,y),x.index=0,x.sibling=null,x}function s(x,y,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<y?(x.flags|=2,y):E):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,E,P){return y===null||y.tag!==6?(y=Qf(E,x.mode,P),y.return=x,y):(y=i(y,E),y.return=x,y)}function l(x,y,E,P){var O=E.type;return O===ho?d(x,y,E.props.children,P,E.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ci&&aw(O)===y.type)?(P=i(y,E.props),P.ref=qa(x,y,E),P.return=x,P):(P=Bu(E.type,E.key,E.props,null,x.mode,P),P.ref=qa(x,y,E),P.return=x,P)}function u(x,y,E,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Yf(E,x.mode,P),y.return=x,y):(y=i(y,E.children||[]),y.return=x,y)}function d(x,y,E,P,O){return y===null||y.tag!==7?(y=Ss(E,x.mode,P,O),y.return=x,y):(y=i(y,E),y.return=x,y)}function f(x,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Qf(""+y,x.mode,E),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zc:return E=Bu(y.type,y.key,y.props,null,x.mode,E),E.ref=qa(x,null,y),E.return=x,E;case uo:return y=Yf(y,x.mode,E),y.return=x,y;case ci:var P=y._init;return f(x,P(y._payload),E)}if(Za(y)||za(y))return y=Ss(y,x.mode,E,null),y.return=x,y;uu(x,y)}return null}function h(x,y,E,P){var O=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(x,y,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zc:return E.key===O?l(x,y,E,P):null;case uo:return E.key===O?u(x,y,E,P):null;case ci:return O=E._init,h(x,y,O(E._payload),P)}if(Za(E)||za(E))return O!==null?null:d(x,y,E,P,null);uu(x,E)}return null}function _(x,y,E,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(E)||null,a(y,x,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Zc:return x=x.get(P.key===null?E:P.key)||null,l(y,x,P,O);case uo:return x=x.get(P.key===null?E:P.key)||null,u(y,x,P,O);case ci:var M=P._init;return _(x,y,E,M(P._payload),O)}if(Za(P)||za(P))return x=x.get(E)||null,d(y,x,P,O,null);uu(y,P)}return null}function T(x,y,E,P){for(var O=null,M=null,C=y,I=y=0,A=null;C!==null&&I<E.length;I++){C.index>I?(A=C,C=null):A=C.sibling;var k=h(x,C,E[I],P);if(k===null){C===null&&(C=A);break}t&&C&&k.alternate===null&&e(x,C),y=s(k,y,I),M===null?O=k:M.sibling=k,M=k,C=A}if(I===E.length)return n(x,C),Ge&&ps(x,I),O;if(C===null){for(;I<E.length;I++)C=f(x,E[I],P),C!==null&&(y=s(C,y,I),M===null?O=C:M.sibling=C,M=C);return Ge&&ps(x,I),O}for(C=r(x,C);I<E.length;I++)A=_(C,x,I,E[I],P),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?I:A.key),y=s(A,y,I),M===null?O=A:M.sibling=A,M=A);return t&&C.forEach(function(N){return e(x,N)}),Ge&&ps(x,I),O}function v(x,y,E,P){var O=za(E);if(typeof O!="function")throw Error(W(150));if(E=O.call(E),E==null)throw Error(W(151));for(var M=O=null,C=y,I=y=0,A=null,k=E.next();C!==null&&!k.done;I++,k=E.next()){C.index>I?(A=C,C=null):A=C.sibling;var N=h(x,C,k.value,P);if(N===null){C===null&&(C=A);break}t&&C&&N.alternate===null&&e(x,C),y=s(N,y,I),M===null?O=N:M.sibling=N,M=N,C=A}if(k.done)return n(x,C),Ge&&ps(x,I),O;if(C===null){for(;!k.done;I++,k=E.next())k=f(x,k.value,P),k!==null&&(y=s(k,y,I),M===null?O=k:M.sibling=k,M=k);return Ge&&ps(x,I),O}for(C=r(x,C);!k.done;I++,k=E.next())k=_(C,x,I,k.value,P),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?I:k.key),y=s(k,y,I),M===null?O=k:M.sibling=k,M=k);return t&&C.forEach(function(D){return e(x,D)}),Ge&&ps(x,I),O}function b(x,y,E,P){if(typeof E=="object"&&E!==null&&E.type===ho&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Zc:e:{for(var O=E.key,M=y;M!==null;){if(M.key===O){if(O=E.type,O===ho){if(M.tag===7){n(x,M.sibling),y=i(M,E.props.children),y.return=x,x=y;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ci&&aw(O)===M.type){n(x,M.sibling),y=i(M,E.props),y.ref=qa(x,M,E),y.return=x,x=y;break e}n(x,M);break}else e(x,M);M=M.sibling}E.type===ho?(y=Ss(E.props.children,x.mode,P,E.key),y.return=x,x=y):(P=Bu(E.type,E.key,E.props,null,x.mode,P),P.ref=qa(x,y,E),P.return=x,x=P)}return o(x);case uo:e:{for(M=E.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(x,y.sibling),y=i(y,E.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=Yf(E,x.mode,P),y.return=x,x=y}return o(x);case ci:return M=E._init,b(x,y,M(E._payload),P)}if(Za(E))return T(x,y,E,P);if(za(E))return v(x,y,E,P);uu(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,E),y.return=x,x=y):(n(x,y),y=Qf(E,x.mode,P),y.return=x,x=y),o(x)):n(x,y)}return b}var Xo=Ax(!0),Px=Ax(!1),_d=Zi(null),Ed=null,_o=null,Vg=null;function jg(){Vg=_o=Ed=null}function Fg(t){var e=_d.current;$e(_d),t._currentValue=e}function Zp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function So(t,e){Ed=t,Vg=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(Vg!==t)if(t={context:t,memoizedValue:e,next:null},_o===null){if(Ed===null)throw Error(W(308));_o=t,Ed.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var ys=null;function Ug(t){ys===null?ys=[t]:ys.push(t)}function kx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ug(e)):(n.next=i.next,i.next=n),e.interleaved=n,Br(t,r)}function Br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ui=!1;function Bg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Br(t,n)}return i=r.interleaved,i===null?(e.next=e,Ug(r)):(e.next=i.next,i.next=e),r.interleaved=e,Br(t,n)}function Mu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cg(t,n)}}function lw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xd(t,e,n,r){var i=t.updateQueue;ui=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,_=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,v=a;switch(h=e,_=n,v.tag){case 1:if(T=v.payload,typeof T=="function"){f=T.call(_,f,h);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=v.payload,h=typeof T=="function"?T.call(_,f,h):T,h==null)break e;f=Qe({},f,h);break e;case 2:ui=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else _={eventTime:_,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=_,l=f):d=d.next=_,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ns|=o,t.lanes=o,t.memoizedState=f}}function cw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var dc={},fr=Zi(dc),Ll=Zi(dc),Vl=Zi(dc);function ws(t){if(t===dc)throw Error(W(174));return t}function zg(t,e){switch(je(Vl,e),je(Ll,t),je(fr,dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dp(e,t)}$e(fr),je(fr,e)}function Jo(){$e(fr),$e(Ll),$e(Vl)}function Nx(t){ws(Vl.current);var e=ws(fr.current),n=Dp(e,t.type);e!==n&&(je(Ll,t),je(fr,n))}function $g(t){Ll.current===t&&($e(fr),$e(Ll))}var qe=Zi(0);function bd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $f=[];function Wg(){for(var t=0;t<$f.length;t++)$f[t]._workInProgressVersionPrimary=null;$f.length=0}var Lu=Qr.ReactCurrentDispatcher,Wf=Qr.ReactCurrentBatchConfig,Rs=0,Ke=null,mt=null,wt=null,Td=!1,pl=!1,jl=0,VR=0;function Ot(){throw Error(W(321))}function Hg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function Gg(t,e,n,r,i,s){if(Rs=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lu.current=t===null||t.memoizedState===null?BR:zR,t=n(r,i),pl){s=0;do{if(pl=!1,jl=0,25<=s)throw Error(W(301));s+=1,wt=mt=null,e.updateQueue=null,Lu.current=$R,t=n(r,i)}while(pl)}if(Lu.current=Id,e=mt!==null&&mt.next!==null,Rs=0,wt=mt=Ke=null,Td=!1,e)throw Error(W(300));return t}function qg(){var t=jl!==0;return jl=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ke.memoizedState=wt=t:wt=wt.next=t,wt}function Rn(){if(mt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=wt===null?Ke.memoizedState:wt.next;if(e!==null)wt=e,mt=t;else{if(t===null)throw Error(W(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},wt===null?Ke.memoizedState=wt=t:wt=wt.next=t}return wt}function Fl(t,e){return typeof e=="function"?e(t):e}function Hf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Rs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ke.lanes|=d,Ns|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,Ns|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hn(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Dx(){}function Ox(t,e){var n=Ke,r=Rn(),i=e(),s=!Hn(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,Kg(Vx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Ul(9,Lx.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(W(349));Rs&30||Mx(n,e,i)}return i}function Mx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lx(t,e,n,r){e.value=n,e.getSnapshot=r,jx(e)&&Fx(t)}function Vx(t,e,n){return n(function(){jx(e)&&Fx(t)})}function jx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function Fx(t){var e=Br(t,1);e!==null&&$n(e,t,1,-1)}function uw(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:t},e.queue=t,t=t.dispatch=UR.bind(null,Ke,t),[e.memoizedState,t]}function Ul(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ux(){return Rn().memoizedState}function Vu(t,e,n,r){var i=er();Ke.flags|=t,i.memoizedState=Ul(1|e,n,void 0,r===void 0?null:r)}function fh(t,e,n,r){var i=Rn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&Hg(r,o.deps)){i.memoizedState=Ul(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=Ul(1|e,n,s,r)}function dw(t,e){return Vu(8390656,8,t,e)}function Kg(t,e){return fh(2048,8,t,e)}function Bx(t,e){return fh(4,2,t,e)}function zx(t,e){return fh(4,4,t,e)}function $x(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wx(t,e,n){return n=n!=null?n.concat([t]):null,fh(4,4,$x.bind(null,e,t),n)}function Qg(){}function Hx(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gx(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qx(t,e,n){return Rs&21?(Hn(n,e)||(n=JE(),Ke.lanes|=n,Ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function jR(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Wf.transition;Wf.transition={};try{t(!1),e()}finally{De=n,Wf.transition=r}}function Kx(){return Rn().memoizedState}function FR(t,e,n){var r=Ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qx(t))Yx(e,n);else if(n=kx(t,e,n,r),n!==null){var i=Qt();$n(n,t,r,i),Xx(n,e,r)}}function UR(t,e,n){var r=Ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qx(t))Yx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ug(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kx(t,e,i,r),n!==null&&(i=Qt(),$n(n,t,r,i),Xx(n,e,r))}}function Qx(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function Yx(t,e){pl=Td=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cg(t,n)}}var Id={readContext:kn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},BR={readContext:kn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:dw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vu(4194308,4,$x.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vu(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FR.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:uw,useDebugValue:Qg,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=uw(!1),e=t[0];return t=jR.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=er();if(Ge){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),_t===null)throw Error(W(349));Rs&30||Mx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,dw(Vx.bind(null,r,s,t),[t]),r.flags|=2048,Ul(9,Lx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=er(),e=_t.identifierPrefix;if(Ge){var n=Dr,r=Nr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zR={readContext:kn,useCallback:Hx,useContext:kn,useEffect:Kg,useImperativeHandle:Wx,useInsertionEffect:Bx,useLayoutEffect:zx,useMemo:Gx,useReducer:Hf,useRef:Ux,useState:function(){return Hf(Fl)},useDebugValue:Qg,useDeferredValue:function(t){var e=Rn();return qx(e,mt.memoizedState,t)},useTransition:function(){var t=Hf(Fl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:Dx,useSyncExternalStore:Ox,useId:Kx,unstable_isNewReconciler:!1},$R={readContext:kn,useCallback:Hx,useContext:kn,useEffect:Kg,useImperativeHandle:Wx,useInsertionEffect:Bx,useLayoutEffect:zx,useMemo:Gx,useReducer:Gf,useRef:Ux,useState:function(){return Gf(Fl)},useDebugValue:Qg,useDeferredValue:function(t){var e=Rn();return mt===null?e.memoizedState=t:qx(e,mt.memoizedState,t)},useTransition:function(){var t=Gf(Fl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:Dx,useSyncExternalStore:Ox,useId:Kx,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function em(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ph={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Ri(t),s=Lr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Pi(t,s,i),e!==null&&($n(e,t,i,r),Mu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Ri(t),s=Lr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pi(t,s,i),e!==null&&($n(e,t,i,r),Mu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=Ri(t),i=Lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pi(t,i,r),e!==null&&($n(e,t,r,n),Mu(e,t,r))}};function hw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Nl(n,r)||!Nl(i,s):!0}function Jx(t,e,n){var r=!1,i=Ui,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=sn(e)?Ps:Bt.current,r=e.contextTypes,s=(r=r!=null)?Qo(t,i):Ui),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function fw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ph.enqueueReplaceState(e,e.state,null)}function tm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Bg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=sn(e)?Ps:Bt.current,i.context=Qo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(em(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ph.enqueueReplaceState(i,i.state,null),xd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zo(t,e){try{var n="",r=e;do n+=vk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WR=typeof WeakMap=="function"?WeakMap:Map;function Zx(t,e,n){n=Lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sd||(Sd=!0,hm=r),nm(t,e)},n}function eb(t,e,n){n=Lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){nm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nm(t,e),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=i2.bind(null,t,e,n),e.then(t,t))}function mw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lr(-1,1),e.tag=2,Pi(n,e,1))),n.lanes|=1),t)}var HR=Qr.ReactCurrentOwner,nn=!1;function qt(t,e,n,r){e.child=t===null?Px(e,null,n,r):Xo(e,t.child,n,r)}function vw(t,e,n,r,i){n=n.render;var s=e.ref;return So(e,i),r=Gg(t,e,n,r,s,i),n=qg(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(Ge&&n&&Og(e),e.flags|=1,qt(t,e,r,i),e.child)}function yw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!rv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tb(t,e,s,r,i)):(t=Bu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(o,r)&&t.ref===e.ref)return zr(t,e,i)}return e.flags|=1,t=Ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function tb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Nl(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,zr(t,e,i)}return rm(t,e,n,r,i)}function nb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(xo,un),un|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(xo,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(xo,un),un|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(xo,un),un|=r;return qt(t,e,i,n),e.child}function rb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rm(t,e,n,r,i){var s=sn(n)?Ps:Bt.current;return s=Qo(e,s),So(e,i),n=Gg(t,e,n,r,s,i),r=qg(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(Ge&&r&&Og(e),e.flags|=1,qt(t,e,n,i),e.child)}function ww(t,e,n,r,i){if(sn(n)){var s=!0;vd(e)}else s=!1;if(So(e,i),e.stateNode===null)ju(t,e),Jx(e,n,r),tm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kn(u):(u=sn(n)?Ps:Bt.current,u=Qo(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&fw(e,o,r,u),ui=!1;var h=e.memoizedState;o.state=h,xd(e,r,o,i),l=e.memoizedState,a!==r||h!==l||rn.current||ui?(typeof d=="function"&&(em(e,n,d,r),l=e.memoizedState),(a=ui||hw(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Rx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ln(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=sn(n)?Ps:Bt.current,l=Qo(e,l));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&fw(e,o,r,l),ui=!1,h=e.memoizedState,o.state=h,xd(e,r,o,i);var T=e.memoizedState;a!==f||h!==T||rn.current||ui?(typeof _=="function"&&(em(e,n,_,r),T=e.memoizedState),(u=ui||hw(e,n,u,r,h,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return im(t,e,n,r,s,i)}function im(t,e,n,r,i,s){rb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&iw(e,n,!1),zr(t,e,s);r=e.stateNode,HR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xo(e,t.child,null,s),e.child=Xo(e,null,a,s)):qt(t,e,a,s),e.memoizedState=r.state,i&&iw(e,n,!0),e.child}function ib(t){var e=t.stateNode;e.pendingContext?rw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rw(t,e.context,!1),zg(t,e.containerInfo)}function _w(t,e,n,r,i){return Yo(),Lg(i),e.flags|=256,qt(t,e,n,r),e.child}var sm={dehydrated:null,treeContext:null,retryLane:0};function om(t){return{baseLanes:t,cachePool:null,transitions:null}}function sb(t,e,n){var r=e.pendingProps,i=qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(qe,i&1),t===null)return Jp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vh(o,r,0,null),t=Ss(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=om(n),e.memoizedState=sm,t):Yg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return GR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ni(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ni(a,s):(s=Ss(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?om(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sm,r}return s=t.child,t=s.sibling,r=Ni(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yg(t,e){return e=vh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function du(t,e,n,r){return r!==null&&Lg(r),Xo(e,t.child,null,n),t=Yg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=qf(Error(W(422))),du(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=vh({mode:"visible",children:r.children},i,0,null),s=Ss(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xo(e,t.child,null,o),e.child.memoizedState=om(o),e.memoizedState=sm,s);if(!(e.mode&1))return du(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=qf(s,r,void 0),du(t,e,o,r)}if(a=(o&t.childLanes)!==0,nn||a){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Br(t,i),$n(r,t,i,-1))}return nv(),r=qf(Error(W(421))),du(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=s2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=Ai(i.nextSibling),mn=e,Ge=!0,Un=null,t!==null&&(Tn[In++]=Nr,Tn[In++]=Dr,Tn[In++]=ks,Nr=t.id,Dr=t.overflow,ks=e),e=Yg(e,r.children),e.flags|=4096,e)}function Ew(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zp(t.return,e,n)}function Kf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ob(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ew(t,n,e);else if(t.tag===19)Ew(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kf(e,!0,n,null,s);break;case"together":Kf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qR(t,e,n){switch(e.tag){case 3:ib(e),Yo();break;case 5:Nx(e);break;case 1:sn(e.type)&&vd(e);break;case 4:zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(_d,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?sb(t,e,n):(je(qe,qe.current&1),t=zr(t,e,n),t!==null?t.sibling:null);je(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ob(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,nb(t,e,n)}return zr(t,e,n)}var ab,am,lb,cb;ab=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};am=function(){};lb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ws(fr.current);var s=null;switch(n){case"input":i=Pp(t,i),r=Pp(t,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=Np(t,i),r=Np(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=md)}Op(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Il.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Il.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};cb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KR(t,e,n){var r=e.pendingProps;switch(Mg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return sn(e.type)&&gd(),Mt(e),null;case 3:return r=e.stateNode,Jo(),$e(rn),$e(Bt),Wg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(mm(Un),Un=null))),am(t,e),Mt(e),null;case 5:$g(e);var i=ws(Vl.current);if(n=e.type,t!==null&&e.stateNode!=null)lb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Mt(e),null}if(t=ws(fr.current),cu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[or]=e,r[Ml]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<tl.length;i++)ze(tl[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":k0(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":N0(r,s),ze("invalid",r)}Op(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lu(r.textContent,a,t),i=["children",""+a]):Il.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":eu(r),R0(r,s,!0);break;case"textarea":eu(r),D0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=md)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[or]=e,t[Ml]=r,ab(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mp(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<tl.length;i++)ze(tl[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":k0(t,r),i=Pp(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),ze("invalid",t);break;case"textarea":N0(t,r),i=Np(t,r),ze("invalid",t);break;default:i=r}Op(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?UE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cl(t,l):typeof l=="number"&&Cl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Il.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&_g(t,s,l,o))}switch(n){case"input":eu(t),R0(t,r,!1);break;case"textarea":eu(t),D0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?bo(t,!!r.multiple,s,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)cb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ws(Vl.current),ws(fr.current),cu(e)){if(r=e.stateNode,n=e.memoizedProps,r[or]=e,(s=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:lu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[or]=e,e.stateNode=r}return Mt(e),null;case 13:if($e(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&fn!==null&&e.mode&1&&!(e.flags&128))Sx(),Yo(),e.flags|=98560,s=!1;else if(s=cu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[or]=e}else Yo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else Un!==null&&(mm(Un),Un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?gt===0&&(gt=3):nv())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Jo(),am(t,e),t===null&&Dl(e.stateNode.containerInfo),Mt(e),null;case 10:return Fg(e.type._context),Mt(e),null;case 17:return sn(e.type)&&gd(),Mt(e),null;case 19:if($e(qe),s=e.memoizedState,s===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ka(s,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bd(t),o!==null){for(e.flags|=128,Ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(qe,qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>ea&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=bd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Mt(e),null}else 2*it()-s.renderingStartTime>ea&&n!==1073741824&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=qe.current,je(qe,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return tv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function QR(t,e){switch(Mg(e),e.tag){case 1:return sn(e.type)&&gd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jo(),$e(rn),$e(Bt),Wg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $g(e),null;case 13:if($e(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(qe),null;case 4:return Jo(),null;case 10:return Fg(e.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var hu=!1,Ft=!1,YR=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function lm(t,e,n){try{n()}catch(r){nt(t,e,r)}}var xw=!1;function XR(t,e){if(Hp=hd,t=px(),Dg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)h=f,f=_;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(_=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gp={focusedElem:t,selectionRange:n},hd=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var v=T.memoizedProps,b=T.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ln(e.type,v),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(P){nt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return T=xw,xw=!1,T}function ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lm(e,n,s)}i=i.next}while(i!==r)}}function mh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ub(t){var e=t.alternate;e!==null&&(t.alternate=null,ub(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[or],delete e[Ml],delete e[Qp],delete e[DR],delete e[OR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function db(t){return t.tag===5||t.tag===3||t.tag===4}function bw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||db(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=md));else if(r!==4&&(t=t.child,t!==null))for(um(t,e,n),t=t.sibling;t!==null;)um(t,e,n),t=t.sibling}function dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dm(t,e,n),t=t.sibling;t!==null;)dm(t,e,n),t=t.sibling}var Tt=null,Fn=!1;function ri(t,e,n){for(n=n.child;n!==null;)hb(t,e,n),n=n.sibling}function hb(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(ah,n)}catch{}switch(n.tag){case 5:Ft||Eo(n,e);case 6:var r=Tt,i=Fn;Tt=null,ri(t,e,n),Tt=r,Fn=i,Tt!==null&&(Fn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Fn?(t=Tt,n=n.stateNode,t.nodeType===8?Bf(t.parentNode,n):t.nodeType===1&&Bf(t,n),kl(t)):Bf(Tt,n.stateNode));break;case 4:r=Tt,i=Fn,Tt=n.stateNode.containerInfo,Fn=!0,ri(t,e,n),Tt=r,Fn=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lm(n,e,o),i=i.next}while(i!==r)}ri(t,e,n);break;case 1:if(!Ft&&(Eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,ri(t,e,n),Ft=r):ri(t,e,n);break;default:ri(t,e,n)}}function Tw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YR),e.forEach(function(r){var i=o2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function On(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,Fn=!1;break e;case 3:Tt=a.stateNode.containerInfo,Fn=!0;break e;case 4:Tt=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(Tt===null)throw Error(W(160));hb(s,o,i),Tt=null,Fn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){nt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fb(e,t),e=e.sibling}function fb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),Zn(t),r&4){try{ml(3,t,t.return),mh(3,t)}catch(v){nt(t,t.return,v)}try{ml(5,t,t.return)}catch(v){nt(t,t.return,v)}}break;case 1:On(e,t),Zn(t),r&512&&n!==null&&Eo(n,n.return);break;case 5:if(On(e,t),Zn(t),r&512&&n!==null&&Eo(n,n.return),t.flags&32){var i=t.stateNode;try{Cl(i,"")}catch(v){nt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ME(i,s),Mp(a,o);var u=Mp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?UE(i,f):d==="dangerouslySetInnerHTML"?jE(i,f):d==="children"?Cl(i,f):_g(i,d,f,u)}switch(a){case"input":kp(i,s);break;case"textarea":LE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?bo(i,!!s.multiple,_,!1):h!==!!s.multiple&&(s.defaultValue!=null?bo(i,!!s.multiple,s.defaultValue,!0):bo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ml]=s}catch(v){nt(t,t.return,v)}}break;case 6:if(On(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){nt(t,t.return,v)}}break;case 3:if(On(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(e.containerInfo)}catch(v){nt(t,t.return,v)}break;case 4:On(e,t),Zn(t);break;case 13:On(e,t),Zn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zg=it())),r&4&&Tw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||d,On(e,t),Ft=u):On(e,t),Zn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,_=h.child,h.tag){case 0:case 11:case 14:case 15:ml(4,h,h.return);break;case 1:Eo(h,h.return);var T=h.stateNode;if(typeof T.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(v){nt(r,n,v)}}break;case 5:Eo(h,h.return);break;case 22:if(h.memoizedState!==null){Cw(f);continue}}_!==null?(_.return=h,Z=_):Cw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FE("display",o))}catch(v){nt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){nt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:On(e,t),Zn(t),r&4&&Tw(t);break;case 21:break;default:On(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(db(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cl(i,""),r.flags&=-33);var s=bw(t);dm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bw(t);um(t,a,o);break;default:throw Error(W(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JR(t,e,n){Z=t,pb(t)}function pb(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=hu;var u=Ft;if(hu=o,(Ft=l)&&!u)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?Sw(i):l!==null?(l.return=o,Z=l):Sw(i);for(;s!==null;)Z=s,pb(s),s=s.sibling;Z=i,hu=a,Ft=u}Iw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):Iw(t)}}function Iw(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||mh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&kl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ft||e.flags&512&&cm(e)}catch(h){nt(e,e.return,h)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Cw(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Sw(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mh(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){nt(e,i,l)}}var s=e.return;try{cm(e)}catch(l){nt(e,s,l)}break;case 5:var o=e.return;try{cm(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var ZR=Math.ceil,Cd=Qr.ReactCurrentDispatcher,Xg=Qr.ReactCurrentOwner,An=Qr.ReactCurrentBatchConfig,Ie=0,_t=null,ct=null,St=0,un=0,xo=Zi(0),gt=0,Bl=null,Ns=0,gh=0,Jg=0,gl=null,en=null,Zg=0,ea=1/0,Pr=null,Sd=!1,hm=null,ki=null,fu=!1,xi=null,Ad=0,vl=0,fm=null,Fu=-1,Uu=0;function Qt(){return Ie&6?it():Fu!==-1?Fu:Fu=it()}function Ri(t){return t.mode&1?Ie&2&&St!==0?St&-St:LR.transition!==null?(Uu===0&&(Uu=JE()),Uu):(t=De,t!==0||(t=window.event,t=t===void 0?16:sx(t.type)),t):1}function $n(t,e,n,r){if(50<vl)throw vl=0,fm=null,Error(W(185));lc(t,n,r),(!(Ie&2)||t!==_t)&&(t===_t&&(!(Ie&2)&&(gh|=n),gt===4&&hi(t,St)),on(t,r),n===1&&Ie===0&&!(e.mode&1)&&(ea=it()+500,hh&&es()))}function on(t,e){var n=t.callbackNode;Lk(t,e);var r=dd(t,t===_t?St:0);if(r===0)n!==null&&L0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&L0(n),e===1)t.tag===0?MR(Aw.bind(null,t)):Tx(Aw.bind(null,t)),RR(function(){!(Ie&6)&&es()}),n=null;else{switch(ZE(r)){case 1:n=Ig;break;case 4:n=YE;break;case 16:n=ud;break;case 536870912:n=XE;break;default:n=ud}n=xb(n,mb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mb(t,e){if(Fu=-1,Uu=0,Ie&6)throw Error(W(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=dd(t,t===_t?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pd(t,r);else{e=r;var i=Ie;Ie|=2;var s=vb();(_t!==t||St!==e)&&(Pr=null,ea=it()+500,Cs(t,e));do try{n2();break}catch(a){gb(t,a)}while(!0);jg(),Cd.current=s,Ie=i,ct!==null?e=0:(_t=null,St=0,e=gt)}if(e!==0){if(e===2&&(i=Up(t),i!==0&&(r=i,e=pm(t,i))),e===1)throw n=Bl,Cs(t,0),hi(t,r),on(t,it()),n;if(e===6)hi(t,r);else{if(i=t.current.alternate,!(r&30)&&!e2(i)&&(e=Pd(t,r),e===2&&(s=Up(t),s!==0&&(r=s,e=pm(t,s))),e===1))throw n=Bl,Cs(t,0),hi(t,r),on(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ms(t,en,Pr);break;case 3:if(hi(t,r),(r&130023424)===r&&(e=Zg+500-it(),10<e)){if(dd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kp(ms.bind(null,t,en,Pr),e);break}ms(t,en,Pr);break;case 4:if(hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZR(r/1960))-r,10<r){t.timeoutHandle=Kp(ms.bind(null,t,en,Pr),r);break}ms(t,en,Pr);break;case 5:ms(t,en,Pr);break;default:throw Error(W(329))}}}return on(t,it()),t.callbackNode===n?mb.bind(null,t):null}function pm(t,e){var n=gl;return t.current.memoizedState.isDehydrated&&(Cs(t,e).flags|=256),t=Pd(t,e),t!==2&&(e=en,en=n,e!==null&&mm(e)),t}function mm(t){en===null?en=t:en.push.apply(en,t)}function e2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hi(t,e){for(e&=~Jg,e&=~gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function Aw(t){if(Ie&6)throw Error(W(327));Ao();var e=dd(t,0);if(!(e&1))return on(t,it()),null;var n=Pd(t,e);if(t.tag!==0&&n===2){var r=Up(t);r!==0&&(e=r,n=pm(t,r))}if(n===1)throw n=Bl,Cs(t,0),hi(t,e),on(t,it()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ms(t,en,Pr),on(t,it()),null}function ev(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(ea=it()+500,hh&&es())}}function Ds(t){xi!==null&&xi.tag===0&&!(Ie&6)&&Ao();var e=Ie;Ie|=1;var n=An.transition,r=De;try{if(An.transition=null,De=1,t)return t()}finally{De=r,An.transition=n,Ie=e,!(Ie&6)&&es()}}function tv(){un=xo.current,$e(xo)}function Cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kR(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gd();break;case 3:Jo(),$e(rn),$e(Bt),Wg();break;case 5:$g(r);break;case 4:Jo();break;case 13:$e(qe);break;case 19:$e(qe);break;case 10:Fg(r.type._context);break;case 22:case 23:tv()}n=n.return}if(_t=t,ct=t=Ni(t.current,null),St=un=e,gt=0,Bl=null,Jg=gh=Ns=0,en=gl=null,ys!==null){for(e=0;e<ys.length;e++)if(n=ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ys=null}return t}function gb(t,e){do{var n=ct;try{if(jg(),Lu.current=Id,Td){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Td=!1}if(Rs=0,wt=mt=Ke=null,pl=!1,jl=0,Xg.current=null,n===null||n.return===null){gt=1,Bl=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=mw(o);if(_!==null){_.flags&=-257,gw(_,o,a,s,e),_.mode&1&&pw(s,u,e),e=_,l=u;var T=e.updateQueue;if(T===null){var v=new Set;v.add(l),e.updateQueue=v}else T.add(l);break e}else{if(!(e&1)){pw(s,u,e),nv();break e}l=Error(W(426))}}else if(Ge&&a.mode&1){var b=mw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),gw(b,o,a,s,e),Lg(Zo(l,a));break e}}s=l=Zo(l,a),gt!==4&&(gt=2),gl===null?gl=[s]:gl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Zx(s,l,e);lw(s,x);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ki===null||!ki.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=eb(s,a,e);lw(s,P);break e}}s=s.return}while(s!==null)}wb(n)}catch(O){e=O,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function vb(){var t=Cd.current;return Cd.current=Id,t===null?Id:t}function nv(){(gt===0||gt===3||gt===2)&&(gt=4),_t===null||!(Ns&268435455)&&!(gh&268435455)||hi(_t,St)}function Pd(t,e){var n=Ie;Ie|=2;var r=vb();(_t!==t||St!==e)&&(Pr=null,Cs(t,e));do try{t2();break}catch(i){gb(t,i)}while(!0);if(jg(),Ie=n,Cd.current=r,ct!==null)throw Error(W(261));return _t=null,St=0,gt}function t2(){for(;ct!==null;)yb(ct)}function n2(){for(;ct!==null&&!Sk();)yb(ct)}function yb(t){var e=Eb(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?wb(t):ct=e,Xg.current=null}function wb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QR(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ct=null;return}}else if(n=KR(n,e,un),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);gt===0&&(gt=5)}function ms(t,e,n){var r=De,i=An.transition;try{An.transition=null,De=1,r2(t,e,n,r)}finally{An.transition=i,De=r}return null}function r2(t,e,n,r){do Ao();while(xi!==null);if(Ie&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Vk(t,s),t===_t&&(ct=_t=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fu||(fu=!0,xb(ud,function(){return Ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=De;De=1;var a=Ie;Ie|=4,Xg.current=null,XR(t,n),fb(n,t),bR(Gp),hd=!!Hp,Gp=Hp=null,t.current=n,JR(n),Ak(),Ie=a,De=o,An.transition=s}else t.current=n;if(fu&&(fu=!1,xi=t,Ad=i),s=t.pendingLanes,s===0&&(ki=null),Rk(n.stateNode),on(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sd)throw Sd=!1,t=hm,hm=null,t;return Ad&1&&t.tag!==0&&Ao(),s=t.pendingLanes,s&1?t===fm?vl++:(vl=0,fm=t):vl=0,es(),null}function Ao(){if(xi!==null){var t=ZE(Ad),e=An.transition,n=De;try{if(An.transition=null,De=16>t?16:t,xi===null)var r=!1;else{if(t=xi,xi=null,Ad=0,Ie&6)throw Error(W(331));var i=Ie;for(Ie|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:ml(8,d,s)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,_=d.return;if(ub(d),d===u){Z=null;break}if(h!==null){h.return=_,Z=h;break}Z=_}}}var T=s.alternate;if(T!==null){var v=T.child;if(v!==null){T.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ml(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Z=x;break e}Z=s.return}}var y=t.current;for(Z=y;Z!==null;){o=Z;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Z=E;else e:for(o=y;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mh(9,a)}}catch(O){nt(a,a.return,O)}if(a===o){Z=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Z=P;break e}Z=a.return}}if(Ie=i,es(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(ah,t)}catch{}r=!0}return r}finally{De=n,An.transition=e}}return!1}function Pw(t,e,n){e=Zo(n,e),e=Zx(t,e,1),t=Pi(t,e,1),e=Qt(),t!==null&&(lc(t,1,e),on(t,e))}function nt(t,e,n){if(t.tag===3)Pw(t,t,n);else for(;e!==null;){if(e.tag===3){Pw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){t=Zo(n,t),t=eb(e,t,1),e=Pi(e,t,1),t=Qt(),e!==null&&(lc(e,1,t),on(e,t));break}}e=e.return}}function i2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(St&n)===n&&(gt===4||gt===3&&(St&130023424)===St&&500>it()-Zg?Cs(t,0):Jg|=n),on(t,e)}function _b(t,e){e===0&&(t.mode&1?(e=ru,ru<<=1,!(ru&130023424)&&(ru=4194304)):e=1);var n=Qt();t=Br(t,e),t!==null&&(lc(t,e,n),on(t,n))}function s2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_b(t,n)}function o2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),_b(t,n)}var Eb;Eb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,qR(t,e,n);nn=!!(t.flags&131072)}else nn=!1,Ge&&e.flags&1048576&&Ix(e,wd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ju(t,e),t=e.pendingProps;var i=Qo(e,Bt.current);So(e,n),i=Gg(null,e,r,t,i,n);var s=qg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,vd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bg(e),i.updater=ph,e.stateNode=i,i._reactInternals=e,tm(e,r,t,n),e=im(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&Og(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ju(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=l2(r),t=Ln(r,t),i){case 0:e=rm(null,e,r,t,n);break e;case 1:e=ww(null,e,r,t,n);break e;case 11:e=vw(null,e,r,t,n);break e;case 14:e=yw(null,e,r,Ln(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),rm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),ww(t,e,r,i,n);case 3:e:{if(ib(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Rx(t,e),xd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zo(Error(W(423)),e),e=_w(t,e,r,n,i);break e}else if(r!==i){i=Zo(Error(W(424)),e),e=_w(t,e,r,n,i);break e}else for(fn=Ai(e.stateNode.containerInfo.firstChild),mn=e,Ge=!0,Un=null,n=Px(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yo(),r===i){e=zr(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return Nx(e),t===null&&Jp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qp(r,i)?o=null:s!==null&&qp(r,s)&&(e.flags|=32),rb(t,e),qt(t,e,o,n),e.child;case 6:return t===null&&Jp(e),null;case 13:return sb(t,e,n);case 4:return zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xo(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),vw(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(_d,r._currentValue),r._currentValue=o,s!==null)if(Hn(s.value,o)){if(s.children===i.children&&!rn.current){e=zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Lr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Zp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,So(e,n),i=kn(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=Ln(r,e.pendingProps),i=Ln(r.type,i),yw(t,e,r,i,n);case 15:return tb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),ju(t,e),e.tag=1,sn(r)?(t=!0,vd(e)):t=!1,So(e,n),Jx(e,r,i),tm(e,r,i,n),im(null,e,r,!0,t,n);case 19:return ob(t,e,n);case 22:return nb(t,e,n)}throw Error(W(156,e.tag))};function xb(t,e){return QE(t,e)}function a2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new a2(t,e,n,r)}function rv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l2(t){if(typeof t=="function")return rv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xg)return 11;if(t===bg)return 14}return 2}function Ni(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")rv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ho:return Ss(n.children,i,s,e);case Eg:o=8,i|=8;break;case Ip:return t=Sn(12,n,e,i|2),t.elementType=Ip,t.lanes=s,t;case Cp:return t=Sn(13,n,e,i),t.elementType=Cp,t.lanes=s,t;case Sp:return t=Sn(19,n,e,i),t.elementType=Sp,t.lanes=s,t;case NE:return vh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kE:o=10;break e;case RE:o=9;break e;case xg:o=11;break e;case bg:o=14;break e;case ci:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ss(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function vh(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=NE,t.lanes=n,t.stateNode={isHidden:!1},t}function Qf(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function Yf(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iv(t,e,n,r,i,s,o,a,l){return t=new c2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bg(s),t}function u2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bb(t){if(!t)return Ui;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(sn(n))return bx(t,n,e)}return e}function Tb(t,e,n,r,i,s,o,a,l){return t=iv(n,r,!0,t,i,s,o,a,l),t.context=bb(null),n=t.current,r=Qt(),i=Ri(n),s=Lr(r,i),s.callback=e??null,Pi(n,s,i),t.current.lanes=i,lc(t,i,r),on(t,r),t}function yh(t,e,n,r){var i=e.current,s=Qt(),o=Ri(i);return n=bb(n),e.context===null?e.context=n:e.pendingContext=n,e=Lr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pi(i,e,o),t!==null&&($n(t,i,o,s),Mu(t,i,o)),o}function kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sv(t,e){kw(t,e),(t=t.alternate)&&kw(t,e)}function d2(){return null}var Ib=typeof reportError=="function"?reportError:function(t){console.error(t)};function ov(t){this._internalRoot=t}wh.prototype.render=ov.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));yh(t,e,null,null)};wh.prototype.unmount=ov.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ds(function(){yh(null,t,null,null)}),e[Ur]=null}};function wh(t){this._internalRoot=t}wh.prototype.unstable_scheduleHydration=function(t){if(t){var e=nx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<di.length&&e!==0&&e<di[n].priority;n++);di.splice(n,0,t),n===0&&ix(t)}};function av(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rw(){}function h2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=kd(o);s.call(u)}}var o=Tb(e,r,t,0,null,!1,!1,"",Rw);return t._reactRootContainer=o,t[Ur]=o.current,Dl(t.nodeType===8?t.parentNode:t),Ds(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=kd(l);a.call(u)}}var l=iv(t,0,!1,null,null,!1,!1,"",Rw);return t._reactRootContainer=l,t[Ur]=l.current,Dl(t.nodeType===8?t.parentNode:t),Ds(function(){yh(e,l,n,r)}),l}function Eh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=kd(o);a.call(l)}}yh(e,o,t,i)}else o=h2(n,e,t,i,r);return kd(o)}ex=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=el(e.pendingLanes);n!==0&&(Cg(e,n|1),on(e,it()),!(Ie&6)&&(ea=it()+500,es()))}break;case 13:Ds(function(){var r=Br(t,1);if(r!==null){var i=Qt();$n(r,t,1,i)}}),sv(t,1)}};Sg=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var n=Qt();$n(e,t,134217728,n)}sv(t,134217728)}};tx=function(t){if(t.tag===13){var e=Ri(t),n=Br(t,e);if(n!==null){var r=Qt();$n(n,t,e,r)}sv(t,e)}};nx=function(){return De};rx=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Vp=function(t,e,n){switch(e){case"input":if(kp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dh(r);if(!i)throw Error(W(90));OE(r),kp(r,i)}}}break;case"textarea":LE(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};$E=ev;WE=Ds;var f2={usingClientEntryPoint:!1,Events:[uc,go,dh,BE,zE,ev]},Qa={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p2={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qE(t),t===null?null:t.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||d2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{ah=pu.inject(p2),hr=pu}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f2;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!av(e))throw Error(W(200));return u2(t,e,null,n)};wn.createRoot=function(t,e){if(!av(t))throw Error(W(299));var n=!1,r="",i=Ib;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iv(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,Dl(t.nodeType===8?t.parentNode:t),new ov(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=qE(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return Ds(t)};wn.hydrate=function(t,e,n){if(!_h(e))throw Error(W(200));return Eh(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!av(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ib;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Tb(e,null,t,1,n??null,i,!1,s,o),t[Ur]=e.current,Dl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wh(e)};wn.render=function(t,e,n){if(!_h(e))throw Error(W(200));return Eh(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!_h(t))throw Error(W(40));return t._reactRootContainer?(Ds(function(){Eh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};wn.unstable_batchedUpdates=ev;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_h(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Eh(t,e,n,!1,r)};wn.version="18.3.1-next-f1338f8080-20240426";function Cb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cb)}catch(t){console.error(t)}}Cb(),CE.exports=wn;var Gs=CE.exports;const Sb=fE(Gs);var Ab,Nw=Gs;Ab=Nw.createRoot,Nw.hydrateRoot;const m2=1,g2=1e6;let Xf=0;function v2(){return Xf=(Xf+1)%Number.MAX_SAFE_INTEGER,Xf.toString()}const Jf=new Map,Dw=t=>{if(Jf.has(t))return;const e=setTimeout(()=>{Jf.delete(t),yl({type:"REMOVE_TOAST",toastId:t})},g2);Jf.set(t,e)},y2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,m2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Dw(n):t.toasts.forEach(r=>{Dw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},zu=[];let $u={toasts:[]};function yl(t){$u=y2($u,t),zu.forEach(e=>{e($u)})}function w2({...t}){const e=v2(),n=i=>yl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>yl({type:"DISMISS_TOAST",toastId:e});return yl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function hc(){const[t,e]=w.useState($u);return w.useEffect(()=>(zu.push(e),()=>{const n=zu.indexOf(e);n>-1&&zu.splice(n,1)}),[t]),{...t,toast:w2,dismiss:n=>yl({type:"DISMISS_TOAST",toastId:n})}}function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function _2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Pb(...t){return e=>t.forEach(n=>_2(n,e))}function Fe(...t){return w.useCallback(Pb(...t),t)}function E2(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:_,...T}=f,v=(h==null?void 0:h[t][l])||a,b=w.useMemo(()=>T,Object.values(T));return m.jsx(v.Provider,{value:b,children:_})}function d(f,h){const _=(h==null?void 0:h[t][l])||a,T=w.useContext(_);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,x2(i,...e)]}function x2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Os=w.forwardRef((t,e)=>{const{children:n,...r}=t,i=w.Children.toArray(n),s=i.find(b2);if(s){const o=s.props.children,a=i.map(l=>l===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return m.jsx(gm,{...r,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return m.jsx(gm,{...r,ref:e,children:n})});Os.displayName="Slot";var gm=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const i=I2(n);return w.cloneElement(n,{...T2(r,n.props),ref:e?Pb(e,i):i})}return w.Children.count(n)>1?w.Children.only(null):null});gm.displayName="SlotClone";var kb=({children:t})=>m.jsx(m.Fragment,{children:t});function b2(t){return w.isValidElement(t)&&t.type===kb}function T2(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function I2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Rb(t){const e=t+"CollectionProvider",[n,r]=E2(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:T,children:v}=_,b=q.useRef(null),x=q.useRef(new Map).current;return m.jsx(i,{scope:T,itemMap:x,collectionRef:b,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=q.forwardRef((_,T)=>{const{scope:v,children:b}=_,x=s(a,v),y=Fe(T,x.collectionRef);return m.jsx(Os,{ref:y,children:b})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=q.forwardRef((_,T)=>{const{scope:v,children:b,...x}=_,y=q.useRef(null),E=Fe(T,y),P=s(u,v);return q.useEffect(()=>(P.itemMap.set(y,{ref:y,...x}),()=>void P.itemMap.delete(y))),m.jsx(Os,{[d]:"",ref:E,children:b})});f.displayName=u;function h(_){const T=s(t+"CollectionConsumer",_);return q.useCallback(()=>{const b=T.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(T.itemMap.values()).sort((P,O)=>x.indexOf(P.ref.current)-x.indexOf(O.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function C2(t,e){const n=w.createContext(e),r=s=>{const{children:o,...a}=s,l=w.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function fc(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:_,...T}=f,v=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,b=w.useMemo(()=>T,Object.values(T));return m.jsx(v.Provider,{value:b,children:_})};u.displayName=s+"Provider";function d(f,h){var v;const _=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,T=w.useContext(_);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,S2(i,...e)]}function S2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var A2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=A2.reduce((t,e)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Os:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Nb(t,e){t&&Gs.flushSync(()=>t.dispatchEvent(e))}function yn(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function P2(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var k2="DismissableLayer",vm="dismissableLayer.update",R2="dismissableLayer.pointerDownOutside",N2="dismissableLayer.focusOutside",Ow,Db=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pc=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=w.useContext(Db),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=w.useState({}),T=Fe(e,C=>f(C)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(b),y=d?v.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,P=y>=x,O=O2(C=>{const I=C.target,A=[...u.branches].some(k=>k.contains(I));!P||A||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),M=M2(C=>{const I=C.target;[...u.branches].some(k=>k.contains(I))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return P2(C=>{y===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ow=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Mw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ow)}},[d,h,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Mw())},[d,u]),w.useEffect(()=>{const C=()=>_({});return document.addEventListener(vm,C),()=>document.removeEventListener(vm,C)},[]),m.jsx(xe.div,{...l,ref:T,style:{pointerEvents:E?P?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,O.onPointerDownCapture)})});pc.displayName=k2;var D2="DismissableLayerBranch",Ob=w.forwardRef((t,e)=>{const n=w.useContext(Db),r=w.useRef(null),i=Fe(e,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(xe.div,{...t,ref:i})});Ob.displayName=D2;function O2(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Mb(R2,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function M2(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&Mb(N2,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Mw(){const t=new CustomEvent(vm);document.dispatchEvent(t)}function Mb(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Nb(i,s):i.dispatchEvent(s)}var L2=pc,V2=Ob,zt=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},j2="Portal",xh=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=w.useState(!1);zt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Sb.createPortal(m.jsx(xe.div,{...r,ref:e}),o):null});xh.displayName=j2;function F2(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var ha=t=>{const{present:e,children:n}=t,r=U2(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Fe(r.ref,B2(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};ha.displayName="Presence";function U2(t){const[e,n]=w.useState(),r=w.useRef({}),i=w.useRef(t),s=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=F2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=mu(r.current);s.current=a==="mounted"?u:"none"},[a]),zt(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,_=mu(u);t?l("MOUNT"):_==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),zt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=_=>{const v=mu(r.current).includes(_.animationName);if(_.target===e&&v&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=_=>{_.target===e&&(s.current=mu(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function mu(t){return(t==null?void 0:t.animationName)||"none"}function B2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=z2({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=yn(n),l=w.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,l]}function z2({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,i=w.useRef(r),s=yn(e);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var $2="VisuallyHidden",mc=w.forwardRef((t,e)=>m.jsx(xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));mc.displayName=$2;var W2=mc,lv="ToastProvider",[cv,H2,G2]=Rb("Toast"),[Lb,dB]=fc("Toast",[G2]),[q2,bh]=Lb(lv),Vb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lv}\`. Expected non-empty \`string\`.`),m.jsx(cv.Provider,{scope:e,children:m.jsx(q2,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>d(_=>_+1),[]),onToastRemove:w.useCallback(()=>d(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Vb.displayName=lv;var jb="ToastViewport",K2=["F8"],ym="toast.viewportPause",wm="toast.viewportResume",Fb=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=K2,label:i="Notifications ({hotkey})",...s}=t,o=bh(jb,n),a=H2(n),l=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=Fe(e,f,o.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;w.useEffect(()=>{const b=x=>{var E;r.length!==0&&r.every(P=>x[P]||x.code===P)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),w.useEffect(()=>{const b=l.current,x=f.current;if(T&&b&&x){const y=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(ym);x.dispatchEvent(M),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(wm);x.dispatchEvent(M),o.isClosePausedRef.current=!1}},P=M=>{!b.contains(M.relatedTarget)&&E()},O=()=>{b.contains(document.activeElement)||E()};return b.addEventListener("focusin",y),b.addEventListener("focusout",P),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",E),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",P),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",E)}}},[T,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:b})=>{const y=a().map(E=>{const P=E.ref.current,O=[P,...aN(P)];return b==="forwards"?O:O.reverse()});return(b==="forwards"?y.reverse():y).flat()},[a]);return w.useEffect(()=>{const b=f.current;if(b){const x=y=>{var O,M,C;const E=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!E){const I=document.activeElement,A=y.shiftKey;if(y.target===b&&A){(O=u.current)==null||O.focus();return}const D=v({tabbingDirection:A?"backwards":"forwards"}),R=D.findIndex(H=>H===I);Zf(D.slice(R+1))?y.preventDefault():A?(M=u.current)==null||M.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[a,v]),m.jsxs(V2,{ref:l,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&m.jsx(_m,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});Zf(b)}}),m.jsx(cv.Slot,{scope:n,children:m.jsx(xe.ol,{tabIndex:-1,...s,ref:h})}),T&&m.jsx(_m,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});Zf(b)}})]})});Fb.displayName=jb;var Ub="ToastFocusProxy",_m=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=bh(Ub,n);return m.jsx(mc,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});_m.displayName=Ub;var Th="Toast",Q2="toast.swipeStart",Y2="toast.swipeMove",X2="toast.swipeCancel",J2="toast.swipeEnd",Bb=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=zl({prop:r,defaultProp:i,onChange:s});return m.jsx(ha,{present:n||a,children:m.jsx(tN,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:yn(t.onPause),onResume:yn(t.onResume),onSwipeStart:ue(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ue(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Bb.displayName=Th;var[Z2,eN]=Lb(Th,{onClose(){}}),tN=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:_,...T}=t,v=bh(Th,n),[b,x]=w.useState(null),y=Fe(e,H=>x(H)),E=w.useRef(null),P=w.useRef(null),O=i||v.duration,M=w.useRef(0),C=w.useRef(O),I=w.useRef(0),{onToastAdd:A,onToastRemove:k}=v,N=yn(()=>{var ne;(b==null?void 0:b.contains(document.activeElement))&&((ne=v.viewport)==null||ne.focus()),o()}),D=w.useCallback(H=>{!H||H===1/0||(window.clearTimeout(I.current),M.current=new Date().getTime(),I.current=window.setTimeout(N,H))},[N]);w.useEffect(()=>{const H=v.viewport;if(H){const ne=()=>{D(C.current),u==null||u()},j=()=>{const K=new Date().getTime()-M.current;C.current=C.current-K,window.clearTimeout(I.current),l==null||l()};return H.addEventListener(ym,j),H.addEventListener(wm,ne),()=>{H.removeEventListener(ym,j),H.removeEventListener(wm,ne)}}},[v.viewport,O,l,u,D]),w.useEffect(()=>{s&&!v.isClosePausedRef.current&&D(O)},[s,O,v.isClosePausedRef,D]),w.useEffect(()=>(A(),()=>k()),[A,k]);const R=w.useMemo(()=>b?Kb(b):null,[b]);return v.viewport?m.jsxs(m.Fragment,{children:[R&&m.jsx(nN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),m.jsx(Z2,{scope:n,onClose:N,children:Gs.createPortal(m.jsx(cv.ItemSlot,{scope:n,children:m.jsx(L2,{asChild:!0,onEscapeKeyDown:ue(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||N(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...T,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ue(t.onPointerDown,H=>{H.button===0&&(E.current={x:H.clientX,y:H.clientY})}),onPointerMove:ue(t.onPointerMove,H=>{if(!E.current)return;const ne=H.clientX-E.current.x,j=H.clientY-E.current.y,K=!!P.current,L=["left","right"].includes(v.swipeDirection),$=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,J=L?$(0,ne):0,Q=L?0:$(0,j),ee=H.pointerType==="touch"?10:2,re={x:J,y:Q},Se={originalEvent:H,delta:re};K?(P.current=re,gu(Y2,f,Se,{discrete:!1})):Lw(re,v.swipeDirection,ee)?(P.current=re,gu(Q2,d,Se,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ne)>ee||Math.abs(j)>ee)&&(E.current=null)}),onPointerUp:ue(t.onPointerUp,H=>{const ne=P.current,j=H.target;if(j.hasPointerCapture(H.pointerId)&&j.releasePointerCapture(H.pointerId),P.current=null,E.current=null,ne){const K=H.currentTarget,L={originalEvent:H,delta:ne};Lw(ne,v.swipeDirection,v.swipeThreshold)?gu(J2,_,L,{discrete:!0}):gu(X2,h,L,{discrete:!0}),K.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),nN=t=>{const{__scopeToast:e,children:n,...r}=t,i=bh(Th,e),[s,o]=w.useState(!1),[a,l]=w.useState(!1);return sN(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:m.jsx(xh,{asChild:!0,children:m.jsx(mc,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},rN="ToastTitle",zb=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(xe.div,{...r,ref:e})});zb.displayName=rN;var iN="ToastDescription",$b=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(xe.div,{...r,ref:e})});$b.displayName=iN;var Wb="ToastAction",Hb=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(qb,{altText:n,asChild:!0,children:m.jsx(uv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Wb}\`. Expected non-empty \`string\`.`),null)});Hb.displayName=Wb;var Gb="ToastClose",uv=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=eN(Gb,n);return m.jsx(qb,{asChild:!0,children:m.jsx(xe.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,i.onClose)})})});uv.displayName=Gb;var qb=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return m.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Kb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),oN(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Kb(r))}}),e}function gu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Nb(i,s):i.dispatchEvent(s)}var Lw=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function sN(t=()=>{}){const e=yn(t);zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function oN(t){return t.nodeType===t.ELEMENT_NODE}function aN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Zf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var lN=Vb,Qb=Fb,Yb=Bb,Xb=zb,Jb=$b,Zb=Hb,eT=uv;function tT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nT(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tT(t))&&(r&&(r+=" "),r+=e);return r}const Vw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jw=nT,Ih=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return jw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=Vw(d)||Vw(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,..._}=d;return Object.entries(_).every(T=>{let[v,b]=T;return Array.isArray(b)?b.includes({...s,...a}[v]):{...s,...a}[v]===b})?[...u,f,h]:u},[]);return jw(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...uN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:rT("lucide",i),...a},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(dN,{ref:s,iconNode:e,className:rT(`lucide-${cN(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=_e("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=_e("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=_e("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=_e("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=_e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=_e("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=_e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=_e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=_e("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=_e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=_e("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=_e("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),hv="-",LN=t=>{const e=jN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(hv);return a[0]===""&&a.length!==1&&a.shift(),hT(a,e)||VN(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},hT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?hT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(hv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Fw=/^\[(.+)\]$/,VN=t=>{if(Fw.test(t)){const e=Fw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return UN(Object.entries(t.classGroups),n).forEach(([s,o])=>{bm(o,r,s,e)}),r},bm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Uw(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(FN(i)){bm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{bm(o,Uw(e,s),n,r)})})},Uw=(t,e)=>{let n=t;return e.split(hv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FN=t=>t.isThemeGetter,UN=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,BN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},fT="!",zN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let b=0;b<a.length;b++){let x=a[b];if(u===0){if(x===i&&(r||a.slice(b,b+s)===e)){l.push(a.slice(d,b)),d=b+s;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?a:a.substring(d),_=h.startsWith(fT),T=_?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:T,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},$N=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},WN=t=>({cache:BN(t.cacheSize),parseClassName:zN(t),...LN(t)}),HN=/\s+/,GN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(HN);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:_}=n(u);let T=!!_,v=r(T?h.substring(0,_):h);if(!v){if(!T){a=u+(a.length>0?" "+a:a);continue}if(v=r(h),!v){a=u+(a.length>0?" "+a:a);continue}T=!1}const b=$N(d).join(":"),x=f?b+fT:b,y=x+v;if(s.includes(y))continue;s.push(y);const E=i(v,T);for(let P=0;P<E.length;++P){const O=E[P];s.push(x+O)}a=u+(a.length>0?" "+a:a)}return a};function qN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pT(e))&&(r&&(r+=" "),r+=n);return r}const pT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=pT(t[r]))&&(n&&(n+=" "),n+=e);return n};function KN(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=WN(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=GN(l,n);return i(l,d),d}return function(){return s(qN.apply(null,arguments))}}const Be=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},mT=/^\[(?:([a-z-]+):)?(.+)\]$/i,QN=/^\d+\/\d+$/,YN=new Set(["px","full","screen"]),XN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=t=>Po(t)||YN.has(t)||QN.test(t),ii=t=>fa(t,"length",cD),Po=t=>!!t&&!Number.isNaN(Number(t)),ep=t=>fa(t,"number",Po),Ya=t=>!!t&&Number.isInteger(Number(t)),nD=t=>t.endsWith("%")&&Po(t.slice(0,-1)),de=t=>mT.test(t),si=t=>XN.test(t),rD=new Set(["length","size","percentage"]),iD=t=>fa(t,rD,gT),sD=t=>fa(t,"position",gT),oD=new Set(["image","url"]),aD=t=>fa(t,oD,dD),lD=t=>fa(t,"",uD),Xa=()=>!0,fa=(t,e,n)=>{const r=mT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},cD=t=>JN.test(t)&&!ZN.test(t),gT=()=>!1,uD=t=>eD.test(t),dD=t=>tD.test(t),hD=()=>{const t=Be("colors"),e=Be("spacing"),n=Be("blur"),r=Be("brightness"),i=Be("borderColor"),s=Be("borderRadius"),o=Be("borderSpacing"),a=Be("borderWidth"),l=Be("contrast"),u=Be("grayscale"),d=Be("hueRotate"),f=Be("invert"),h=Be("gap"),_=Be("gradientColorStops"),T=Be("gradientColorStopPositions"),v=Be("inset"),b=Be("margin"),x=Be("opacity"),y=Be("padding"),E=Be("saturate"),P=Be("scale"),O=Be("sepia"),M=Be("skew"),C=Be("space"),I=Be("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",de,e],D=()=>[de,e],R=()=>["",Sr,ii],H=()=>["auto",Po,de],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",de],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Po,de];return{cacheSize:500,separator:":",theme:{colors:[Xa],spacing:[Sr,ii],blur:["none","",si,de],brightness:Q(),borderColor:[t],borderRadius:["none","","full",si,de],borderSpacing:D(),borderWidth:R(),contrast:Q(),grayscale:$(),hueRotate:Q(),invert:$(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[nD,ii],inset:N(),margin:N(),opacity:Q(),padding:D(),saturate:Q(),scale:Q(),sepia:$(),skew:Q(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[si]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),de]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ya,de]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ya,de]}],"grid-cols":[{"grid-cols":[Xa]}],"col-start-end":[{col:["auto",{span:["full",Ya,de]},de]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Xa]}],"row-start-end":[{row:["auto",{span:[Ya,de]},de]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[si]},si]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",si,ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ep]}],"font-family":[{font:[Xa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Po,ep]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,ii]}],"underline-offset":[{"underline-offset":["auto",Sr,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),sD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Sr,de]}],"outline-w":[{outline:[Sr,ii]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Sr,ii]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",si,lD]}],"shadow-color":[{shadow:[Xa]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",si,de]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Ya,de]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Sr,ii,ep]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fD=KN(hD);function Ce(...t){return fD(nT(t))}const pD=lN,vT=w.forwardRef(({className:t,...e},n)=>m.jsx(Qb,{ref:n,className:Ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));vT.displayName=Qb.displayName;const mD=Ih("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yT=w.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(Yb,{ref:r,className:Ce(mD({variant:e}),t),...n}));yT.displayName=Yb.displayName;const gD=w.forwardRef(({className:t,...e},n)=>m.jsx(Zb,{ref:n,className:Ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));gD.displayName=Zb.displayName;const wT=w.forwardRef(({className:t,...e},n)=>m.jsx(eT,{ref:n,className:Ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(uT,{className:"h-4 w-4"})}));wT.displayName=eT.displayName;const _T=w.forwardRef(({className:t,...e},n)=>m.jsx(Xb,{ref:n,className:Ce("text-sm font-semibold",t),...e}));_T.displayName=Xb.displayName;const ET=w.forwardRef(({className:t,...e},n)=>m.jsx(Jb,{ref:n,className:Ce("text-sm opacity-90",t),...e}));ET.displayName=Jb.displayName;function vD(){const{toasts:t}=hc();return m.jsxs(pD,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return m.jsxs(yT,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(_T,{children:n}),r&&m.jsx(ET,{children:r})]}),i,m.jsx(wT,{})]},e)}),m.jsx(vT,{})]})}var Bw=["light","dark"],yD="(prefers-color-scheme: dark)",wD=w.createContext(void 0),_D={setTheme:t=>{},themes:[]},ED=()=>{var t;return(t=w.useContext(wD))!=null?t:_D};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Bw.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(T,v=!1,b=!0)=>{let x=o?o[T]:T,y=v?T+"|| ''":`'${x}'`,E="";return i&&b&&!v&&Bw.includes(T)&&(E+=`d.style.colorScheme = '${T}';`),n==="class"?v||x?E+=`c.add(${y})`:E+="null":x&&(E+=`d[s](n,${y})`),E},_=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${yD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:_}})});var xD=t=>{switch(t){case"success":return ID;case"info":return SD;case"warning":return CD;case"error":return AD;default:return null}},bD=Array(12).fill(0),TD=({visible:t})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},q.createElement("div",{className:"sonner-spinner"},bD.map((e,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ID=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),CD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),AD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),PD=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Tm=1,kD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Tm++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async o=>{if(ND(o)&&!o.ok){s=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){s=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){s=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Tm++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},cn=new kD,RD=(t,e)=>{let n=(e==null?void 0:e.id)||Tm++;return cn.addToast({title:t,...e,id:n}),n},ND=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",DD=RD,OD=()=>cn.toasts;Object.assign(DD,{success:cn.success,info:cn.info,warning:cn.warning,error:cn.error,custom:cn.custom,message:cn.message,promise:cn.promise,dismiss:cn.dismiss,loading:cn.loading},{getHistory:OD});function MD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}MD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vu(t){return t.label!==void 0}var LD=3,VD="32px",jD=4e3,FD=356,UD=14,BD=20,zD=200;function $D(...t){return t.filter(Boolean).join(" ")}var WD=t=>{var e,n,r,i,s,o,a,l,u,d;let{invert:f,toast:h,unstyled:_,interacting:T,setHeights:v,visibleToasts:b,heights:x,index:y,toasts:E,expanded:P,removeToast:O,defaultRichColors:M,closeButton:C,style:I,cancelButtonStyle:A,actionButtonStyle:k,className:N="",descriptionClassName:D="",duration:R,position:H,gap:ne,loadingIcon:j,expandByDefault:K,classNames:L,icons:$,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:Q,cn:ee}=t,[re,Se]=q.useState(!1),[We,pe]=q.useState(!1),[te,Te]=q.useState(!1),[He,me]=q.useState(!1),[Ee,ve]=q.useState(0),[ft,xt]=q.useState(0),En=q.useRef(null),Wt=q.useRef(null),xr=y===0,Ca=y+1<=b,ot=h.type,Xn=h.dismissible!==!1,Oc=h.className||"",cf=h.descriptionClassName||"",Xr=q.useMemo(()=>x.findIndex(ae=>ae.toastId===h.id)||0,[x,h.id]),Sa=q.useMemo(()=>{var ae;return(ae=h.closeButton)!=null?ae:C},[h.closeButton,C]),Aa=q.useMemo(()=>h.duration||R||jD,[h.duration,R]),at=q.useRef(0),Xe=q.useRef(0),cs=q.useRef(0),br=q.useRef(null),[Pa,uf]=H.split("-"),Jr=q.useMemo(()=>x.reduce((ae,Oe,Re)=>Re>=Xr?ae:ae+Oe.height,0),[x,Xr]),ka=PD(),Mc=h.invert||f,us=ot==="loading";Xe.current=q.useMemo(()=>Xr*ne+Jr,[Xr,Jr]),q.useEffect(()=>{Se(!0)},[]),q.useLayoutEffect(()=>{if(!re)return;let ae=Wt.current,Oe=ae.style.height;ae.style.height="auto";let Re=ae.getBoundingClientRect().height;ae.style.height=Oe,xt(Re),v(kt=>kt.find(Jt=>Jt.toastId===h.id)?kt.map(Jt=>Jt.toastId===h.id?{...Jt,height:Re}:Jt):[{toastId:h.id,height:Re,position:h.position},...kt])},[re,h.title,h.description,v,h.id]);let Jn=q.useCallback(()=>{pe(!0),ve(Xe.current),v(ae=>ae.filter(Oe=>Oe.toastId!==h.id)),setTimeout(()=>{O(h)},zD)},[h,O,v,Xe]);q.useEffect(()=>{if(h.promise&&ot==="loading"||h.duration===1/0||h.type==="loading")return;let ae,Oe=Aa;return P||T||Q&&ka?(()=>{if(cs.current<at.current){let Re=new Date().getTime()-at.current;Oe=Oe-Re}cs.current=new Date().getTime()})():Oe!==1/0&&(at.current=new Date().getTime(),ae=setTimeout(()=>{var Re;(Re=h.onAutoClose)==null||Re.call(h,h),Jn()},Oe)),()=>clearTimeout(ae)},[P,T,K,h,Aa,Jn,h.promise,ot,Q,ka]),q.useEffect(()=>{let ae=Wt.current;if(ae){let Oe=ae.getBoundingClientRect().height;return xt(Oe),v(Re=>[{toastId:h.id,height:Oe,position:h.position},...Re]),()=>v(Re=>Re.filter(kt=>kt.toastId!==h.id))}},[v,h.id]),q.useEffect(()=>{h.delete&&Jn()},[Jn,h.delete]);function df(){return $!=null&&$.loading?q.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},$.loading):j?q.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},j):q.createElement(TD,{visible:ot==="loading"})}return q.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Wt,className:ee(N,Oc,L==null?void 0:L.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[ot],(n=h==null?void 0:h.classNames)==null?void 0:n[ot]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:M,"data-styled":!(h.jsx||h.unstyled||_),"data-mounted":re,"data-promise":!!h.promise,"data-removed":We,"data-visible":Ca,"data-y-position":Pa,"data-x-position":uf,"data-index":y,"data-front":xr,"data-swiping":te,"data-dismissible":Xn,"data-type":ot,"data-invert":Mc,"data-swipe-out":He,"data-expanded":!!(P||K&&re),style:{"--index":y,"--toasts-before":y,"--z-index":E.length-y,"--offset":`${We?Ee:Xe.current}px`,"--initial-height":K?"auto":`${ft}px`,...I,...h.style},onPointerDown:ae=>{us||!Xn||(En.current=new Date,ve(Xe.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(Te(!0),br.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Oe,Re,kt;if(He||!Xn)return;br.current=null;let Jt=Number(((ae=Wt.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Zr=new Date().getTime()-((Oe=En.current)==null?void 0:Oe.getTime()),Tr=Math.abs(Jt)/Zr;if(Math.abs(Jt)>=BD||Tr>.11){ve(Xe.current),(Re=h.onDismiss)==null||Re.call(h,h),Jn(),me(!0);return}(kt=Wt.current)==null||kt.style.setProperty("--swipe-amount","0px"),Te(!1)},onPointerMove:ae=>{var Oe;if(!br.current||!Xn)return;let Re=ae.clientY-br.current.y,kt=ae.clientX-br.current.x,Jt=(Pa==="top"?Math.min:Math.max)(0,Re),Zr=ae.pointerType==="touch"?10:2;Math.abs(Jt)>Zr?(Oe=Wt.current)==null||Oe.style.setProperty("--swipe-amount",`${Re}px`):Math.abs(kt)>Zr&&(br.current=null)}},Sa&&!h.jsx?q.createElement("button",{"aria-label":J,"data-disabled":us,"data-close-button":!0,onClick:us||!Xn?()=>{}:()=>{var ae;Jn(),(ae=h.onDismiss)==null||ae.call(h,h)},className:ee(L==null?void 0:L.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||q.isValidElement(h.title)?h.jsx||h.title:q.createElement(q.Fragment,null,ot||h.icon||h.promise?q.createElement("div",{"data-icon":"",className:ee(L==null?void 0:L.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||df():null,h.type!=="loading"?h.icon||($==null?void 0:$[ot])||xD(ot):null):null,q.createElement("div",{"data-content":"",className:ee(L==null?void 0:L.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},q.createElement("div",{"data-title":"",className:ee(L==null?void 0:L.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?q.createElement("div",{"data-description":"",className:ee(D,cf,L==null?void 0:L.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),q.isValidElement(h.cancel)?h.cancel:h.cancel&&vu(h.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:ae=>{var Oe,Re;vu(h.cancel)&&Xn&&((Re=(Oe=h.cancel).onClick)==null||Re.call(Oe,ae),Jn())},className:ee(L==null?void 0:L.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,q.isValidElement(h.action)?h.action:h.action&&vu(h.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:ae=>{var Oe,Re;vu(h.action)&&(ae.defaultPrevented||((Re=(Oe=h.action).onClick)==null||Re.call(Oe,ae),Jn()))},className:ee(L==null?void 0:L.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function zw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var HD=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=LD,toastOptions:_,dir:T=zw(),gap:v=UD,loadingIcon:b,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:E,cn:P=$D}=t,[O,M]=q.useState([]),C=q.useMemo(()=>Array.from(new Set([n].concat(O.filter(Q=>Q.position).map(Q=>Q.position)))),[O,n]),[I,A]=q.useState([]),[k,N]=q.useState(!1),[D,R]=q.useState(!1),[H,ne]=q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=q.useRef(null),K=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=q.useRef(null),$=q.useRef(!1),J=q.useCallback(Q=>{var ee;(ee=O.find(re=>re.id===Q.id))!=null&&ee.delete||cn.dismiss(Q.id),M(re=>re.filter(({id:Se})=>Se!==Q.id))},[O]);return q.useEffect(()=>cn.subscribe(Q=>{if(Q.dismiss){M(ee=>ee.map(re=>re.id===Q.id?{...re,delete:!0}:re));return}setTimeout(()=>{Sb.flushSync(()=>{M(ee=>{let re=ee.findIndex(Se=>Se.id===Q.id);return re!==-1?[...ee.slice(0,re),{...ee[re],...Q},...ee.slice(re+1)]:[Q,...ee]})})})}),[]),q.useEffect(()=>{if(l!=="system"){ne(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{ne(Q?"dark":"light")})},[l]),q.useEffect(()=>{O.length<=1&&N(!1)},[O]),q.useEffect(()=>{let Q=ee=>{var re,Se;r.every(We=>ee[We]||ee.code===We)&&(N(!0),(re=j.current)==null||re.focus()),ee.code==="Escape"&&(document.activeElement===j.current||(Se=j.current)!=null&&Se.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),q.useEffect(()=>{if(j.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,$.current=!1)}},[j.current]),O.length?q.createElement("section",{"aria-label":`${y} ${K}`,tabIndex:-1},C.map((Q,ee)=>{var re;let[Se,We]=Q.split("-");return q.createElement("ol",{key:Q,dir:T==="auto"?zw():T,tabIndex:-1,ref:j,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Se,"data-x-position":We,style:{"--front-toast-height":`${((re=I[0])==null?void 0:re.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||VD,"--width":`${FD}px`,"--gap":`${v}px`,...f},onBlur:pe=>{$.current&&!pe.currentTarget.contains(pe.relatedTarget)&&($.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||$.current||($.current=!0,L.current=pe.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{D||N(!1)},onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},O.filter(pe=>!pe.position&&ee===0||pe.position===Q).map((pe,te)=>{var Te,He;return q.createElement(WD,{key:pe.id,icons:x,index:te,toast:pe,defaultRichColors:u,duration:(Te=_==null?void 0:_.duration)!=null?Te:d,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:e,visibleToasts:h,closeButton:(He=_==null?void 0:_.closeButton)!=null?He:s,interacting:D,position:Q,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:J,toasts:O.filter(me=>me.position==pe.position),heights:I.filter(me=>me.position==pe.position),setHeights:A,expandByDefault:i,gap:v,loadingIcon:b,expanded:k,pauseWhenPageIsHidden:E,cn:P})}))})):null};const GD=({...t})=>{const{theme:e="system"}=ED();return m.jsx(HD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var qD=TE.useId||(()=>{}),KD=0;function ko(t){const[e,n]=w.useState(qD());return zt(()=>{n(r=>r??String(KD++))},[t]),e?`radix-${e}`:""}const QD=["top","right","bottom","left"],Bi=Math.min,dn=Math.max,Rd=Math.round,yu=Math.floor,zi=t=>({x:t,y:t}),YD={left:"right",right:"left",bottom:"top",top:"bottom"},XD={start:"end",end:"start"};function Im(t,e,n){return dn(t,Bi(e,n))}function $r(t,e){return typeof t=="function"?t(e):t}function Wr(t){return t.split("-")[0]}function pa(t){return t.split("-")[1]}function fv(t){return t==="x"?"y":"x"}function pv(t){return t==="y"?"height":"width"}function $i(t){return["top","bottom"].includes(Wr(t))?"y":"x"}function mv(t){return fv($i(t))}function JD(t,e,n){n===void 0&&(n=!1);const r=pa(t),i=mv(t),s=pv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Nd(o)),[o,Nd(o)]}function ZD(t){const e=Nd(t);return[Cm(t),e,Cm(e)]}function Cm(t){return t.replace(/start|end/g,e=>XD[e])}function eO(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function tO(t,e,n,r){const i=pa(t);let s=eO(Wr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Cm)))),s}function Nd(t){return t.replace(/left|right|bottom|top/g,e=>YD[e])}function nO(t){return{top:0,right:0,bottom:0,left:0,...t}}function xT(t){return typeof t!="number"?nO(t):{top:t,right:t,bottom:t,left:t}}function Dd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function $w(t,e,n){let{reference:r,floating:i}=t;const s=$i(e),o=mv(e),a=pv(o),l=Wr(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let _;switch(l){case"top":_={x:d,y:r.y-i.height};break;case"bottom":_={x:d,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:f};break;case"left":_={x:r.x-i.width,y:f};break;default:_={x:r.x,y:r.y}}switch(pa(e)){case"start":_[o]-=h*(n&&u?-1:1);break;case"end":_[o]+=h*(n&&u?-1:1);break}return _}const rO=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=$w(u,r,l),h=r,_={},T=0;for(let v=0;v<a.length;v++){const{name:b,fn:x}=a[v],{x:y,y:E,data:P,reset:O}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:_,rects:u,platform:o,elements:{reference:t,floating:e}});d=y??d,f=E??f,_={..._,[b]:{..._[b],...P}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:f}=$w(u,h,l)),v=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:_}};async function Wl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:_=0}=$r(e,t),T=xT(_),b=a[h?f==="floating"?"reference":"floating":f],x=Dd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},O=Dd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:E,strategy:l}):y);return{top:(x.top-O.top+T.top)/P.y,bottom:(O.bottom-x.bottom+T.bottom)/P.y,left:(x.left-O.left+T.left)/P.x,right:(O.right-x.right+T.right)/P.x}}const iO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=$r(t,e)||{};if(u==null)return{};const f=xT(d),h={x:n,y:r},_=mv(i),T=pv(_),v=await o.getDimensions(u),b=_==="y",x=b?"top":"left",y=b?"bottom":"right",E=b?"clientHeight":"clientWidth",P=s.reference[T]+s.reference[_]-h[_]-s.floating[T],O=h[_]-s.reference[_],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=M?M[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[E]||s.floating[T]);const I=P/2-O/2,A=C/2-v[T]/2-1,k=Bi(f[x],A),N=Bi(f[y],A),D=k,R=C-v[T]-N,H=C/2-v[T]/2+I,ne=Im(D,H,R),j=!l.arrow&&pa(i)!=null&&H!==ne&&s.reference[T]/2-(H<D?k:N)-v[T]/2<0,K=j?H<D?H-D:H-R:0;return{[_]:h[_]+K,data:{[_]:ne,centerOffset:H-ne-K,...j&&{alignmentOffset:K}},reset:j}}}),sO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:v=!0,...b}=$r(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=Wr(i),y=$i(a),E=Wr(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=h||(E||!v?[Nd(a)]:ZD(a)),M=T!=="none";!h&&M&&O.push(...tO(a,v,T,P));const C=[a,...O],I=await Wl(e,b),A=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(I[x]),f){const H=JD(i,o,P);A.push(I[H[0]],I[H[1]])}if(k=[...k,{placement:i,overflows:A}],!A.every(H=>H<=0)){var N,D;const H=(((N=s.flip)==null?void 0:N.index)||0)+1,ne=C[H];if(ne)return{data:{index:H,overflows:k},reset:{placement:ne}};let j=(D=k.filter(K=>K.overflows[0]<=0).sort((K,L)=>K.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!j)switch(_){case"bestFit":{var R;const K=(R=k.filter(L=>{if(M){const $=$i(L.placement);return $===y||$==="y"}return!0}).map(L=>[L.placement,L.overflows.filter($=>$>0).reduce(($,J)=>$+J,0)]).sort((L,$)=>L[1]-$[1])[0])==null?void 0:R[0];K&&(j=K);break}case"initialPlacement":j=a;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function Ww(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Hw(t){return QD.some(e=>t[e]>=0)}const oO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=$r(t,e);switch(r){case"referenceHidden":{const s=await Wl(e,{...i,elementContext:"reference"}),o=Ww(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Hw(o)}}}case"escaped":{const s=await Wl(e,{...i,altBoundary:!0}),o=Ww(s,n.floating);return{data:{escapedOffsets:o,escaped:Hw(o)}}}default:return{}}}}};async function aO(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Wr(n),a=pa(n),l=$i(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=$r(e,t);let{mainAxis:h,crossAxis:_,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(_=a==="end"?T*-1:T),l?{x:_*d,y:h*u}:{x:h*u,y:_*d}}const lO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await aO(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},cO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x,y}=b;return{x,y}}},...l}=$r(t,e),u={x:n,y:r},d=await Wl(e,l),f=$i(Wr(i)),h=fv(f);let _=u[h],T=u[f];if(s){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=_+d[b],E=_-d[x];_=Im(y,_,E)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=T+d[b],E=T-d[x];T=Im(y,T,E)}const v=a.fn({...e,[h]:_,[f]:T});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:s,[f]:o}}}}}},uO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=$r(t,e),d={x:n,y:r},f=$i(i),h=fv(f);let _=d[h],T=d[f];const v=$r(a,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const E=h==="y"?"height":"width",P=s.reference[h]-s.floating[E]+b.mainAxis,O=s.reference[h]+s.reference[E]-b.mainAxis;_<P?_=P:_>O&&(_=O)}if(u){var x,y;const E=h==="y"?"width":"height",P=["top","left"].includes(Wr(i)),O=s.reference[f]-s.floating[E]+(P&&((x=o.offset)==null?void 0:x[f])||0)+(P?0:b.crossAxis),M=s.reference[f]+s.reference[E]+(P?0:((y=o.offset)==null?void 0:y[f])||0)-(P?b.crossAxis:0);T<O?T=O:T>M&&(T=M)}return{[h]:_,[f]:T}}}},dO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=$r(t,e),d=await Wl(e,u),f=Wr(i),h=pa(i),_=$i(i)==="y",{width:T,height:v}=s.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const y=v-d.top-d.bottom,E=T-d.left-d.right,P=Bi(v-d[b],y),O=Bi(T-d[x],E),M=!e.middlewareData.shift;let C=P,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),M&&!h){const k=dn(d.left,0),N=dn(d.right,0),D=dn(d.top,0),R=dn(d.bottom,0);_?I=T-2*(k!==0||N!==0?k+N:dn(d.left,d.right)):C=v-2*(D!==0||R!==0?D+R:dn(d.top,d.bottom))}await l({...e,availableWidth:I,availableHeight:C});const A=await o.getDimensions(a.floating);return T!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function Ch(){return typeof window<"u"}function ma(t){return bT(t)?(t.nodeName||"").toLowerCase():"#document"}function gn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Er(t){var e;return(e=(bT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bT(t){return Ch()?t instanceof Node||t instanceof gn(t).Node:!1}function Gn(t){return Ch()?t instanceof Element||t instanceof gn(t).Element:!1}function wr(t){return Ch()?t instanceof HTMLElement||t instanceof gn(t).HTMLElement:!1}function Gw(t){return!Ch()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gn(t).ShadowRoot}function gc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=qn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function hO(t){return["table","td","th"].includes(ma(t))}function Sh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function gv(t){const e=vv(),n=Gn(t)?qn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function fO(t){let e=Wi(t);for(;wr(e)&&!ta(e);){if(gv(e))return e;if(Sh(e))return null;e=Wi(e)}return null}function vv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ta(t){return["html","body","#document"].includes(ma(t))}function qn(t){return gn(t).getComputedStyle(t)}function Ah(t){return Gn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wi(t){if(ma(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Gw(t)&&t.host||Er(t);return Gw(e)?e.host:e}function TT(t){const e=Wi(t);return ta(e)?t.ownerDocument?t.ownerDocument.body:t.body:wr(e)&&gc(e)?e:TT(e)}function Hl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=TT(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=gn(i);if(s){const a=Sm(o);return e.concat(o,o.visualViewport||[],gc(i)?i:[],a&&n?Hl(a):[])}return e.concat(i,Hl(i,[],n))}function Sm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function IT(t){const e=qn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=wr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Rd(n)!==s||Rd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function yv(t){return Gn(t)?t:t.contextElement}function Ro(t){const e=yv(t);if(!wr(e))return zi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=IT(e);let o=(s?Rd(n.width):n.width)/r,a=(s?Rd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const pO=zi(0);function CT(t){const e=gn(t);return!vv()||!e.visualViewport?pO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gn(t)?!1:e}function Ms(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=yv(t);let o=zi(1);e&&(r?Gn(r)&&(o=Ro(r)):o=Ro(t));const a=mO(s,n,r)?CT(s):zi(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=gn(s),_=r&&Gn(r)?gn(r):r;let T=h,v=Sm(T);for(;v&&r&&_!==T;){const b=Ro(v),x=v.getBoundingClientRect(),y=qn(v),E=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,P=x.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,f*=b.y,l+=E,u+=P,T=gn(v),v=Sm(T)}}return Dd({width:d,height:f,x:l,y:u})}function gO(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Er(r),a=e?Sh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=zi(1);const d=zi(0),f=wr(r);if((f||!f&&!s)&&((ma(r)!=="body"||gc(o))&&(l=Ah(r)),wr(r))){const h=Ms(r);u=Ro(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function vO(t){return Array.from(t.getClientRects())}function Am(t,e){const n=Ah(t).scrollLeft;return e?e.left+n:Ms(Er(t)).left+n}function yO(t){const e=Er(t),n=Ah(t),r=t.ownerDocument.body,i=dn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=dn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Am(t);const a=-n.scrollTop;return qn(r).direction==="rtl"&&(o+=dn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function wO(t,e){const n=gn(t),r=Er(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=vv();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function _O(t,e){const n=Ms(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=wr(t)?Ro(t):zi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function qw(t,e,n){let r;if(e==="viewport")r=wO(t,n);else if(e==="document")r=yO(Er(t));else if(Gn(e))r=_O(e,n);else{const i=CT(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Dd(r)}function ST(t,e){const n=Wi(t);return n===e||!Gn(n)||ta(n)?!1:qn(n).position==="fixed"||ST(n,e)}function EO(t,e){const n=e.get(t);if(n)return n;let r=Hl(t,[],!1).filter(a=>Gn(a)&&ma(a)!=="body"),i=null;const s=qn(t).position==="fixed";let o=s?Wi(t):t;for(;Gn(o)&&!ta(o);){const a=qn(o),l=gv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gc(o)&&!l&&ST(t,o))?r=r.filter(d=>d!==o):i=a,o=Wi(o)}return e.set(t,r),r}function xO(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Sh(e)?[]:EO(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=qw(e,d,i);return u.top=dn(f.top,u.top),u.right=Bi(f.right,u.right),u.bottom=Bi(f.bottom,u.bottom),u.left=dn(f.left,u.left),u},qw(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bO(t){const{width:e,height:n}=IT(t);return{width:e,height:n}}function TO(t,e,n){const r=wr(e),i=Er(e),s=n==="fixed",o=Ms(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=zi(0);if(r||!r&&!s)if((ma(e)!=="body"||gc(i))&&(a=Ah(e)),r){const _=Ms(e,!0,s,e);l.x=_.x+e.clientLeft,l.y=_.y+e.clientTop}else i&&(l.x=Am(i));let u=0,d=0;if(i&&!r&&!s){const _=i.getBoundingClientRect();d=_.top+a.scrollTop,u=_.left+a.scrollLeft-Am(i,_)}const f=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function tp(t){return qn(t).position==="static"}function Kw(t,e){if(!wr(t)||qn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Er(t)===n&&(n=n.ownerDocument.body),n}function AT(t,e){const n=gn(t);if(Sh(t))return n;if(!wr(t)){let i=Wi(t);for(;i&&!ta(i);){if(Gn(i)&&!tp(i))return i;i=Wi(i)}return n}let r=Kw(t,e);for(;r&&hO(r)&&tp(r);)r=Kw(r,e);return r&&ta(r)&&tp(r)&&!gv(r)?n:r||fO(t)||n}const IO=async function(t){const e=this.getOffsetParent||AT,n=this.getDimensions,r=await n(t.floating);return{reference:TO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CO(t){return qn(t).direction==="rtl"}const SO={convertOffsetParentRelativeRectToViewportRelativeRect:gO,getDocumentElement:Er,getClippingRect:xO,getOffsetParent:AT,getElementRects:IO,getClientRects:vO,getDimensions:bO,getScale:Ro,isElement:Gn,isRTL:CO};function AO(t,e){let n=null,r;const i=Er(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const _=yu(d),T=yu(i.clientWidth-(u+f)),v=yu(i.clientHeight-(d+h)),b=yu(u),y={rootMargin:-_+"px "+-T+"px "+-v+"px "+-b+"px",threshold:dn(0,Bi(1,l))||1};let E=!0;function P(O){const M=O[0].intersectionRatio;if(M!==l){if(!E)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(P,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,y)}n.observe(t)}return o(!0),s}function PO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=yv(t),d=i||s?[...u?Hl(u):[],...Hl(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=u&&a?AO(u,n):null;let h=-1,_=null;o&&(_=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&_&&(_.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=_)==null||E.observe(e)})),n()}),u&&!l&&_.observe(u),_.observe(e));let T,v=l?Ms(t):null;l&&b();function b(){const x=Ms(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,T=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(x=_)==null||x.disconnect(),_=null,l&&cancelAnimationFrame(T)}}const kO=lO,RO=cO,NO=sO,DO=dO,OO=oO,Qw=iO,MO=uO,LO=(t,e,n)=>{const r=new Map,i={platform:SO,...n},s={...i.platform,_c:r};return rO(t,e,{...i,platform:s})};var Wu=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Od(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Od(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Od(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function PT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Yw(t,e){const n=PT(t);return Math.round(e*n)/n}function np(t){const e=w.useRef(t);return Wu(()=>{e.current=t}),e}function VO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,_]=w.useState(r);Od(h,r)||_(r);const[T,v]=w.useState(null),[b,x]=w.useState(null),y=w.useCallback(L=>{L!==M.current&&(M.current=L,v(L))},[]),E=w.useCallback(L=>{L!==C.current&&(C.current=L,x(L))},[]),P=s||T,O=o||b,M=w.useRef(null),C=w.useRef(null),I=w.useRef(d),A=l!=null,k=np(l),N=np(i),D=np(u),R=w.useCallback(()=>{if(!M.current||!C.current)return;const L={placement:e,strategy:n,middleware:h};N.current&&(L.platform=N.current),LO(M.current,C.current,L).then($=>{const J={...$,isPositioned:D.current!==!1};H.current&&!Od(I.current,J)&&(I.current=J,Gs.flushSync(()=>{f(J)}))})},[h,e,n,N,D]);Wu(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const H=w.useRef(!1);Wu(()=>(H.current=!0,()=>{H.current=!1}),[]),Wu(()=>{if(P&&(M.current=P),O&&(C.current=O),P&&O){if(k.current)return k.current(P,O,R);R()}},[P,O,R,k,A]);const ne=w.useMemo(()=>({reference:M,floating:C,setReference:y,setFloating:E}),[y,E]),j=w.useMemo(()=>({reference:P,floating:O}),[P,O]),K=w.useMemo(()=>{const L={position:n,left:0,top:0};if(!j.floating)return L;const $=Yw(j.floating,d.x),J=Yw(j.floating,d.y);return a?{...L,transform:"translate("+$+"px, "+J+"px)",...PT(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:J}},[n,a,j.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:R,refs:ne,elements:j,floatingStyles:K}),[d,R,ne,j,K])}const jO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Qw({element:r.current,padding:i}).fn(n):{}:r?Qw({element:r,padding:i}).fn(n):{}}}},FO=(t,e)=>({...kO(t),options:[t,e]}),UO=(t,e)=>({...RO(t),options:[t,e]}),BO=(t,e)=>({...MO(t),options:[t,e]}),zO=(t,e)=>({...NO(t),options:[t,e]}),$O=(t,e)=>({...DO(t),options:[t,e]}),WO=(t,e)=>({...OO(t),options:[t,e]}),HO=(t,e)=>({...jO(t),options:[t,e]});var GO="Arrow",kT=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx(xe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});kT.displayName=GO;var qO=kT;function KO(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:_,...T}=f,v=(h==null?void 0:h[t][l])||a,b=w.useMemo(()=>T,Object.values(T));return m.jsx(v.Provider,{value:b,children:_})}function d(f,h){const _=(h==null?void 0:h[t][l])||a,T=w.useContext(_);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,QO(i,...e)]}function QO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function RT(t){const[e,n]=w.useState(void 0);return zt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var wv="Popper",[NT,Ph]=KO(wv),[YO,DT]=NT(wv),OT=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return m.jsx(YO,{scope:e,anchor:r,onAnchorChange:i,children:n})};OT.displayName=wv;var MT="PopperAnchor",LT=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=DT(MT,n),o=w.useRef(null),a=Fe(e,o);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(xe.div,{...i,ref:a})});LT.displayName=MT;var _v="PopperContent",[XO,JO]=NT(_v),VT=w.forwardRef((t,e)=>{var te,Te,He,me,Ee,ve;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:_="optimized",onPlaced:T,...v}=t,b=DT(_v,n),[x,y]=w.useState(null),E=Fe(e,ft=>y(ft)),[P,O]=w.useState(null),M=RT(P),C=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,A=r+(s!=="center"?"-"+s:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,R={padding:k,boundary:N.filter(eM),altBoundary:D},{refs:H,floatingStyles:ne,placement:j,isPositioned:K,middlewareData:L}=VO({strategy:"fixed",placement:A,whileElementsMounted:(...ft)=>PO(...ft,{animationFrame:_==="always"}),elements:{reference:b.anchor},middleware:[FO({mainAxis:i+I,alignmentAxis:o}),l&&UO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?BO():void 0,...R}),l&&zO({...R}),$O({...R,apply:({elements:ft,rects:xt,availableWidth:En,availableHeight:Wt})=>{const{width:xr,height:Ca}=xt.reference,ot=ft.floating.style;ot.setProperty("--radix-popper-available-width",`${En}px`),ot.setProperty("--radix-popper-available-height",`${Wt}px`),ot.setProperty("--radix-popper-anchor-width",`${xr}px`),ot.setProperty("--radix-popper-anchor-height",`${Ca}px`)}}),P&&HO({element:P,padding:a}),tM({arrowWidth:C,arrowHeight:I}),h&&WO({strategy:"referenceHidden",...R})]}),[$,J]=UT(j),Q=yn(T);zt(()=>{K&&(Q==null||Q())},[K,Q]);const ee=(te=L.arrow)==null?void 0:te.x,re=(Te=L.arrow)==null?void 0:Te.y,Se=((He=L.arrow)==null?void 0:He.centerOffset)!==0,[We,pe]=w.useState();return zt(()=>{x&&pe(window.getComputedStyle(x).zIndex)},[x]),m.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:K?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(me=L.transformOrigin)==null?void 0:me.x,(Ee=L.transformOrigin)==null?void 0:Ee.y].join(" "),...((ve=L.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(XO,{scope:n,placedSide:$,onArrowChange:O,arrowX:ee,arrowY:re,shouldHideArrow:Se,children:m.jsx(xe.div,{"data-side":$,"data-align":J,...v,ref:E,style:{...v.style,animation:K?void 0:"none"}})})})});VT.displayName=_v;var jT="PopperArrow",ZO={top:"bottom",right:"left",bottom:"top",left:"right"},FT=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=JO(jT,r),o=ZO[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(qO,{...i,ref:n,style:{...i.style,display:"block"}})})});FT.displayName=jT;function eM(t){return t!==null}var tM=t=>({name:"transformOrigin",options:t,fn(e){var b,x,y;const{placement:n,rects:r,middlewareData:i}=e,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=UT(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,_=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let T="",v="";return u==="bottom"?(T=o?f:`${h}px`,v=`${-l}px`):u==="top"?(T=o?f:`${h}px`,v=`${r.floating.height+l}px`):u==="right"?(T=`${-l}px`,v=o?f:`${_}px`):u==="left"&&(T=`${r.floating.width+l}px`,v=o?f:`${_}px`),{data:{x:T,y:v}}}});function UT(t){const[e,n="center"]=t.split("-");return[e,n]}var nM=OT,BT=LT,zT=VT,$T=FT,[kh,fB]=fc("Tooltip",[Ph]),Ev=Ph(),WT="TooltipProvider",rM=700,Xw="tooltip.open",[iM,HT]=kh(WT),GT=t=>{const{__scopeTooltip:e,delayDuration:n=rM,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=w.useState(!0),l=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),m.jsx(iM,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};GT.displayName=WT;var qT="Tooltip",[pB,Rh]=kh(qT),Pm="TooltipTrigger",sM=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Rh(Pm,n),s=HT(Pm,n),o=Ev(n),a=w.useRef(null),l=Fe(e,a,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),m.jsx(BT,{asChild:!0,...o,children:m.jsx(xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ue(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ue(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ue(t.onBlur,i.onClose),onClick:ue(t.onClick,i.onClose)})})});sM.displayName=Pm;var oM="TooltipPortal",[mB,aM]=kh(oM,{forceMount:void 0}),na="TooltipContent",KT=w.forwardRef((t,e)=>{const n=aM(na,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Rh(na,t.__scopeTooltip);return m.jsx(ha,{present:r||o.open,children:o.disableHoverableContent?m.jsx(QT,{side:i,...s,ref:e}):m.jsx(lM,{side:i,...s,ref:e})})}),lM=w.forwardRef((t,e)=>{const n=Rh(na,t.__scopeTooltip),r=HT(na,t.__scopeTooltip),i=w.useRef(null),s=Fe(e,i),[o,a]=w.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=w.useCallback(()=>{a(null),f(!1)},[f]),_=w.useCallback((T,v)=>{const b=T.currentTarget,x={x:T.clientX,y:T.clientY},y=hM(x,b.getBoundingClientRect()),E=fM(x,y),P=pM(v.getBoundingClientRect()),O=gM([...E,...P]);a(O),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(l&&d){const T=b=>_(b,d),v=b=>_(b,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",v)}}},[l,d,_,h]),w.useEffect(()=>{if(o){const T=v=>{const b=v.target,x={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),E=!mM(x,o);y?h():E&&(h(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,u,h]),m.jsx(QT,{...t,ref:s})}),[cM,uM]=kh(qT,{isInside:!1}),QT=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Rh(na,n),u=Ev(n),{onClose:d}=l;return w.useEffect(()=>(document.addEventListener(Xw,d),()=>document.removeEventListener(Xw,d)),[d]),w.useEffect(()=>{if(l.trigger){const f=h=>{const _=h.target;_!=null&&_.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),m.jsx(pc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:m.jsxs(zT,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(kb,{children:r}),m.jsx(cM,{scope:n,isInside:!0,children:m.jsx(W2,{id:l.contentId,role:"tooltip",children:i||r})})]})})});KT.displayName=na;var YT="TooltipArrow",dM=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ev(n);return uM(YT,n).isInside?null:m.jsx($T,{...i,...r,ref:e})});dM.displayName=YT;function hM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function fM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function pM(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function mM(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function gM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vM(e)}function vM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var yM=GT,XT=KT;const wM=yM,_M=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(XT,{ref:r,sideOffset:e,className:Ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));_M.displayName=XT.displayName;var Nh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Dh=typeof window>"u"||"Deno"in globalThis;function Vn(){}function EM(t,e){return typeof t=="function"?t(e):t}function xM(t){return typeof t=="number"&&t>=0&&t!==1/0}function bM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jw(t,e){return typeof t=="function"?t(e):t}function TM(t,e){return typeof t=="function"?t(e):t}function Zw(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==xv(o,e.options))return!1}else if(!ql(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function e_(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Gl(e.options.mutationKey)!==Gl(s))return!1}else if(!ql(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function xv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gl)(t)}function Gl(t){return JSON.stringify(t,(e,n)=>km(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ql(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ql(t[n],e[n])):!1}function JT(t,e){if(t===e)return t;const n=t_(t)&&t_(e);if(n||km(t)&&km(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=JT(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function t_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function km(t){if(!n_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!n_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function n_(t){return Object.prototype.toString.call(t)==="[object Object]"}function IM(t){return new Promise(e=>{setTimeout(e,t)})}function CM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?JT(t,e):e}function SM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function AM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var bv=Symbol();function ZT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===bv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var xs,gi,Fo,sE,PM=(sE=class extends Nh{constructor(){super();Pe(this,xs);Pe(this,gi);Pe(this,Fo);he(this,Fo,e=>{if(!Dh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,gi)||this.setEventListener(z(this,Fo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,gi))==null||e.call(this),he(this,gi,void 0))}setEventListener(e){var n;he(this,Fo,e),(n=z(this,gi))==null||n.call(this),he(this,gi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,xs)!==e&&(he(this,xs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,xs)=="boolean"?z(this,xs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xs=new WeakMap,gi=new WeakMap,Fo=new WeakMap,sE),eI=new PM,Uo,vi,Bo,oE,kM=(oE=class extends Nh{constructor(){super();Pe(this,Uo,!0);Pe(this,vi);Pe(this,Bo);he(this,Bo,e=>{if(!Dh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,vi)||this.setEventListener(z(this,Bo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,vi))==null||e.call(this),he(this,vi,void 0))}setEventListener(e){var n;he(this,Bo,e),(n=z(this,vi))==null||n.call(this),he(this,vi,e(this.setOnline.bind(this)))}setOnline(e){z(this,Uo)!==e&&(he(this,Uo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Uo)}},Uo=new WeakMap,vi=new WeakMap,Bo=new WeakMap,oE),Md=new kM;function RM(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function NM(t){return Math.min(1e3*2**t,3e4)}function tI(t){return(t??"online")==="online"?Md.isOnline():!0}var nI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function rp(t){return t instanceof nI}function rI(t){let e=!1,n=0,r=!1,i;const s=RM(),o=v=>{var b;r||(h(new nI(v)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>eI.isFocused()&&(t.networkMode==="always"||Md.isOnline())&&t.canRun(),d=()=>tI(t.networkMode)&&t.canRun(),f=v=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,v),i==null||i(),s.resolve(v))},h=v=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,v),i==null||i(),s.reject(v))},_=()=>new Promise(v=>{var b;i=x=>{(r||u())&&v(x)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),T=()=>{if(r)return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(f).catch(x=>{var M;if(r)return;const y=t.retry??(Dh?0:3),E=t.retryDelay??NM,P=typeof E=="function"?E(n,x):E,O=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,x);if(e||!O){h(x);return}n++,(M=t.onFail)==null||M.call(t,n,x),IM(P).then(()=>u()?void 0:_()).then(()=>{e?h(x):T()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?T():_().then(T),s)}}function DM(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Kt=DM(),bs,aE,iI=(aE=class{constructor(){Pe(this,bs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xM(this.gcTime)&&he(this,bs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dh?1/0:5*60*1e3))}clearGcTimeout(){z(this,bs)&&(clearTimeout(z(this,bs)),he(this,bs,void 0))}},bs=new WeakMap,aE),zo,$o,bn,Vt,sc,Ts,jn,Ar,lE,OM=(lE=class extends iI{constructor(n){super();Pe(this,jn);Pe(this,zo);Pe(this,$o);Pe(this,bn);Pe(this,Vt);Pe(this,sc);Pe(this,Ts);he(this,Ts,!1),he(this,sc,n.defaultOptions),this.setOptions(n.options),this.observers=[],he(this,bn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,he(this,zo,LM(this.options)),this.state=n.state??z(this,zo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Vt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,sc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,bn).remove(this)}setData(n,r){const i=CM(this.state.data,n,this.options);return Dt(this,jn,Ar).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Dt(this,jn,Ar).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=z(this,Vt))==null?void 0:i.promise;return(s=z(this,Vt))==null||s.cancel(n),r?r.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,zo))}isActive(){return this.observers.some(n=>TM(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!bM(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Vt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Vt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,bn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Vt)&&(z(this,Ts)?z(this,Vt).cancel({revert:!0}):z(this,Vt).cancelRetry()),this.scheduleGc()),z(this,bn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dt(this,jn,Ar).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Vt))return z(this,Vt).continueRetry(),z(this,Vt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(_=>_.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(he(this,Ts,!0),i.signal)})},o=()=>{const h=ZT(this.options,r),_={queryKey:this.queryKey,meta:this.meta};return s(_),he(this,Ts,!1),this.options.persister?this.options.persister(h,_,this):h(_)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),he(this,$o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Dt(this,jn,Ar).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var _,T,v,b;rp(h)&&h.silent||Dt(this,jn,Ar).call(this,{type:"error",error:h}),rp(h)||((T=(_=z(this,bn).config).onError)==null||T.call(_,h,this),(b=(v=z(this,bn).config).onSettled)==null||b.call(v,this.state.data,h,this)),this.scheduleGc()};return he(this,Vt,rI({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var _,T,v,b;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(T=(_=z(this,bn).config).onSuccess)==null||T.call(_,h,this),(b=(v=z(this,bn).config).onSettled)==null||b.call(v,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,_)=>{Dt(this,jn,Ar).call(this,{type:"failed",failureCount:h,error:_})},onPause:()=>{Dt(this,jn,Ar).call(this,{type:"pause"})},onContinue:()=>{Dt(this,jn,Ar).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Vt).start()}},zo=new WeakMap,$o=new WeakMap,bn=new WeakMap,Vt=new WeakMap,sc=new WeakMap,Ts=new WeakMap,jn=new WeakSet,Ar=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...MM(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return rp(s)&&s.revert&&z(this,$o)?{...z(this,$o),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Kt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,bn).notify({query:this,type:"updated",action:n})})},lE);function MM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function LM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var nr,cE,VM=(cE=class extends Nh{constructor(e={}){super();Pe(this,nr);this.config=e,he(this,nr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??xv(i,n);let o=this.get(s);return o||(o=new OM({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,nr).has(e.queryHash)||(z(this,nr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,nr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,nr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,nr).get(e)}getAll(){return[...z(this,nr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Zw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Zw(e,r)):n}notify(e){Kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},nr=new WeakMap,cE),rr,Gt,Is,ir,ai,uE,jM=(uE=class extends iI{constructor(n){super();Pe(this,ir);Pe(this,rr);Pe(this,Gt);Pe(this,Is);this.mutationId=n.mutationId,he(this,Gt,n.mutationCache),he(this,rr,[]),this.state=n.state||FM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,rr).includes(n)||(z(this,rr).push(n),this.clearGcTimeout(),z(this,Gt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){he(this,rr,z(this,rr).filter(r=>r!==n)),this.scheduleGc(),z(this,Gt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,rr).length||(this.state.status==="pending"?this.scheduleGc():z(this,Gt).remove(this))}continue(){var n;return((n=z(this,Is))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,u,d,f,h,_,T,v,b,x,y,E,P,O,M,C,I;he(this,Is,rI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{Dt(this,ir,ai).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{Dt(this,ir,ai).call(this,{type:"pause"})},onContinue:()=>{Dt(this,ir,ai).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Gt).canRun(this)}));const r=this.state.status==="pending",i=!z(this,Is).canStart();try{if(!r){Dt(this,ir,ai).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=z(this,Gt).config).onMutate)==null?void 0:o.call(s,n,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));k!==this.state.context&&Dt(this,ir,ai).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const A=await z(this,Is).start();return await((d=(u=z(this,Gt).config).onSuccess)==null?void 0:d.call(u,A,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,A,n,this.state.context)),await((T=(_=z(this,Gt).config).onSettled)==null?void 0:T.call(_,A,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,A,null,n,this.state.context)),Dt(this,ir,ai).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(x=z(this,Gt).config).onError)==null?void 0:y.call(x,A,n,this.state.context,this)),await((P=(E=this.options).onError)==null?void 0:P.call(E,A,n,this.state.context)),await((M=(O=z(this,Gt).config).onSettled)==null?void 0:M.call(O,void 0,A,this.state.variables,this.state.context,this)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,void 0,A,n,this.state.context)),A}finally{Dt(this,ir,ai).call(this,{type:"error",error:A})}}finally{z(this,Gt).runNext(this)}}},rr=new WeakMap,Gt=new WeakMap,Is=new WeakMap,ir=new WeakSet,ai=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kt.batch(()=>{z(this,rr).forEach(i=>{i.onMutationUpdate(n)}),z(this,Gt).notify({mutation:this,type:"updated",action:n})})},uE);function FM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ln,oc,dE,UM=(dE=class extends Nh{constructor(e={}){super();Pe(this,ln);Pe(this,oc);this.config=e,he(this,ln,new Map),he(this,oc,Date.now())}build(e,n,r){const i=new jM({mutationCache:this,mutationId:++Xc(this,oc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=wu(e),r=z(this,ln).get(n)??[];r.push(e),z(this,ln).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=wu(e);if(z(this,ln).has(n)){const i=(r=z(this,ln).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,ln).delete(n):z(this,ln).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,ln).get(wu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,ln).get(wu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,ln).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>e_(n,r))}findAll(e={}){return this.getAll().filter(n=>e_(e,n))}notify(e){Kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Kt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vn))))}},ln=new WeakMap,oc=new WeakMap,dE);function wu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function r_(t){return{onFetch:(e,n)=>{var d,f,h,_,T;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((_=e.state.data)==null?void 0:_.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=ZT(e.options,e.fetchOptions),y=async(E,P,O)=>{if(v)return Promise.reject();if(P==null&&E.pages.length)return Promise.resolve(E);const M={queryKey:e.queryKey,pageParam:P,direction:O?"backward":"forward",meta:e.options.meta};b(M);const C=await x(M),{maxPages:I}=e.options,A=O?AM:SM;return{pages:A(E.pages,C,I),pageParams:A(E.pageParams,P,I)}};if(i&&s.length){const E=i==="backward",P=E?BM:i_,O={pages:s,pageParams:o},M=P(r,O);a=await y(O,M,E)}else{const E=t??s.length;do{const P=l===0?o[0]??r.initialPageParam:i_(r,a);if(l>0&&P==null)break;a=await y(a,P),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function i_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function BM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ze,yi,wi,Wo,Ho,_i,Go,qo,hE,zM=(hE=class{constructor(t={}){Pe(this,Ze);Pe(this,yi);Pe(this,wi);Pe(this,Wo);Pe(this,Ho);Pe(this,_i);Pe(this,Go);Pe(this,qo);he(this,Ze,t.queryCache||new VM),he(this,yi,t.mutationCache||new UM),he(this,wi,t.defaultOptions||{}),he(this,Wo,new Map),he(this,Ho,new Map),he(this,_i,0)}mount(){Xc(this,_i)._++,z(this,_i)===1&&(he(this,Go,eI.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ze).onFocus())})),he(this,qo,Md.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ze).onOnline())})))}unmount(){var t,e;Xc(this,_i)._--,z(this,_i)===0&&((t=z(this,Go))==null||t.call(this),he(this,Go,void 0),(e=z(this,qo))==null||e.call(this),he(this,qo,void 0))}isFetching(t){return z(this,Ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,yi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,Ze).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Jw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,Ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,Ze).get(r.queryHash),s=i==null?void 0:i.state.data,o=EM(e,s);if(o!==void 0)return z(this,Ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Kt.batch(()=>z(this,Ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Ze);Kt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Ze),r={type:"active",...t};return Kt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Kt.batch(()=>z(this,Ze).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Vn).catch(Vn)}invalidateQueries(t={},e={}){return Kt.batch(()=>{if(z(this,Ze).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Kt.batch(()=>z(this,Ze).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Vn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Vn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Ze).build(this,e);return n.isStaleByTime(Jw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vn).catch(Vn)}fetchInfiniteQuery(t){return t.behavior=r_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vn).catch(Vn)}ensureInfiniteQueryData(t){return t.behavior=r_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Md.isOnline()?z(this,yi).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Ze)}getMutationCache(){return z(this,yi)}getDefaultOptions(){return z(this,wi)}setDefaultOptions(t){he(this,wi,t)}setQueryDefaults(t,e){z(this,Wo).set(Gl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Wo).values()];let n={};return e.forEach(r=>{ql(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,Ho).set(Gl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Ho).values()];let n={};return e.forEach(r=>{ql(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,wi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===bv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,wi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Ze).clear(),z(this,yi).clear()}},Ze=new WeakMap,yi=new WeakMap,wi=new WeakMap,Wo=new WeakMap,Ho=new WeakMap,_i=new WeakMap,Go=new WeakMap,qo=new WeakMap,hE),$M=w.createContext(void 0),WM=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx($M.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const s_="popstate";function HM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Rm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ld(i)}return qM(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GM(){return Math.random().toString(36).substr(2,8)}function o_(t,e){return{usr:t.state,key:t.key,idx:e}}function Rm(t,e,n,r){return n===void 0&&(n=null),Kl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ga(e):e,{state:n,key:e&&e.key||r||GM()})}function Ld(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=bi.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Kl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=bi.Pop;let b=d(),x=b==null?null:b-u;u=b,l&&l({action:a,location:v.location,delta:x})}function h(b,x){a=bi.Push;let y=Rm(v.location,b,x);u=d()+1;let E=o_(y,u),P=v.createHref(y);try{o.pushState(E,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}s&&l&&l({action:a,location:v.location,delta:1})}function _(b,x){a=bi.Replace;let y=Rm(v.location,b,x);u=d();let E=o_(y,u),P=v.createHref(y);o.replaceState(E,"",P),s&&l&&l({action:a,location:v.location,delta:0})}function T(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:Ld(b);return y=y.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(s_,f),l=b,()=>{i.removeEventListener(s_,f),l=null}},createHref(b){return e(i,b)},createURL:T,encodeLocation(b){let x=T(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:_,go(b){return o.go(b)}};return v}var a_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(a_||(a_={}));function KM(t,e,n){return n===void 0&&(n="/"),QM(t,e,n,!1)}function QM(t,e,n,r){let i=typeof e=="string"?ga(e):e,s=Tv(i.pathname||"/",n);if(s==null)return null;let o=oI(t);YM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=aL(s);a=sL(o[l],u,r)}return a}function oI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Di([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oI(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:rL(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of aI(s.path))i(s,o,l)}),e}function aI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=aI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function YM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XM=/^:[\w-]+$/,JM=3,ZM=2,eL=1,tL=10,nL=-2,l_=t=>t==="*";function rL(t,e){let n=t.split("/"),r=n.length;return n.some(l_)&&(r+=nL),e&&(r+=ZM),n.filter(i=>!l_(i)).reduce((i,s)=>i+(XM.test(s)?JM:s===""?eL:tL),r)}function iL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function sL(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=c_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=c_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Di([s,f.pathname]),pathnameBase:dL(Di([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Di([s,f.pathnameBase]))}return o}function c_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:_}=d;if(h==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const T=a[f];return _&&!T?u[h]=void 0:u[h]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function oL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ga(t):t;return{pathname:n?n.startsWith("/")?n:cL(n,e):e,search:hL(r),hash:fL(i)}}function cL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ip(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lI(t,e){let n=uL(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ga(t):(i=Kl({},t),ht(!i.pathname||!i.pathname.includes("?"),ip("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),ip("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),ip("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=lL(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Di=t=>t.join("/").replace(/\/\/+/g,"/"),dL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uI=["post","put","patch","delete"];new Set(uI);const mL=["get",...uI];new Set(mL);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(this,arguments)}const Iv=w.createContext(null),gL=w.createContext(null),qs=w.createContext(null),Oh=w.createContext(null),ts=w.createContext({outlet:null,matches:[],isDataRoute:!1}),dI=w.createContext(null);function vL(t,e){let{relative:n}=e===void 0?{}:e;vc()||ht(!1);let{basename:r,navigator:i}=w.useContext(qs),{hash:s,pathname:o,search:a}=fI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Di([r,o])),i.createHref({pathname:l,search:a,hash:s})}function vc(){return w.useContext(Oh)!=null}function yc(){return vc()||ht(!1),w.useContext(Oh).location}function hI(t){w.useContext(qs).static||w.useLayoutEffect(t)}function yL(){let{isDataRoute:t}=w.useContext(ts);return t?NL():wL()}function wL(){vc()||ht(!1);let t=w.useContext(Iv),{basename:e,future:n,navigator:r}=w.useContext(qs),{matches:i}=w.useContext(ts),{pathname:s}=yc(),o=JSON.stringify(lI(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return hI(()=>{a.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=cI(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Di([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function _L(){let{matches:t}=w.useContext(ts),e=t[t.length-1];return e?e.params:{}}function fI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(qs),{matches:i}=w.useContext(ts),{pathname:s}=yc(),o=JSON.stringify(lI(i,r.v7_relativeSplatPath));return w.useMemo(()=>cI(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function EL(t,e){return xL(t,e)}function xL(t,e,n,r){vc()||ht(!1);let{navigator:i}=w.useContext(qs),{matches:s}=w.useContext(ts),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=yc(),d;if(e){var f;let b=typeof e=="string"?ga(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||ht(!1),d=b}else d=u;let h=d.pathname||"/",_=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");_="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let T=KM(t,{pathname:_}),v=SL(T&&T.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Di([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Di([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&v?w.createElement(Oh.Provider,{value:{location:Ql({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bi.Pop}},v):v}function bL(){let t=RL(),e=pL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const TL=w.createElement(bL,null);class IL extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(ts.Provider,{value:this.props.routeContext},w.createElement(dI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CL(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(Iv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(ts.Provider,{value:e},r)}function SL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:_}=n,T=f.route.loader&&h[f.route.id]===void 0&&(!_||_[f.route.id]===void 0);if(f.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let _,T=!1,v=null,b=null;n&&(_=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||TL,l&&(u<0&&h===0?(T=!0,b=null):u===h&&(T=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),y=()=>{let E;return _?E=v:T?E=b:f.route.Component?E=w.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,w.createElement(CL,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(IL,{location:n.location,revalidation:n.revalidation,component:v,error:_,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var pI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pI||{}),Vd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vd||{});function AL(t){let e=w.useContext(Iv);return e||ht(!1),e}function PL(t){let e=w.useContext(gL);return e||ht(!1),e}function kL(t){let e=w.useContext(ts);return e||ht(!1),e}function mI(t){let e=kL(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function RL(){var t;let e=w.useContext(dI),n=PL(Vd.UseRouteError),r=mI(Vd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function NL(){let{router:t}=AL(pI.UseNavigateStable),e=mI(Vd.UseNavigateStable),n=w.useRef(!1);return hI(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ql({fromRouteId:e},s)))},[t,e])}function Hu(t){ht(!1)}function DL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bi.Pop,navigator:s,static:o=!1,future:a}=t;vc()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:s,static:o,future:Ql({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ga(r));let{pathname:d="/",search:f="",hash:h="",state:_=null,key:T="default"}=r,v=w.useMemo(()=>{let b=Tv(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:_,key:T},navigationType:i}},[l,d,f,h,_,T,i]);return v==null?null:w.createElement(qs.Provider,{value:u},w.createElement(Oh.Provider,{children:n,value:v}))}function OL(t){let{children:e,location:n}=t;return EL(Nm(e),n)}new Promise(()=>{});function Nm(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,Nm(r.props.children,s));return}r.type!==Hu&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dm.apply(this,arguments)}function ML(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VL(t,e){return t.button===0&&(!e||e==="_self")&&!LL(t)}const jL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FL="6";try{window.__reactRouterVersion=FL}catch{}const UL="startTransition",u_=TE[UL];function BL(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=HM({window:i,v5Compat:!0}));let o=s.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=w.useCallback(f=>{u&&u_?u_(()=>l(f)):l(f)},[l,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.createElement(DL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const zL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$L=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d_=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=ML(e,jL),{basename:_}=w.useContext(qs),T,v=!1;if(typeof u=="string"&&$L.test(u)&&(T=u,zL))try{let E=new URL(window.location.href),P=u.startsWith("//")?new URL(E.protocol+u):new URL(u),O=Tv(P.pathname,_);P.origin===E.origin&&O!=null?u=O+P.search+P.hash:v=!0}catch{}let b=vL(u,{relative:i}),x=WL(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function y(E){r&&r(E),E.defaultPrevented||x(E)}return w.createElement("a",Dm({},h,{href:T||b,onClick:v||s?r:y,ref:n,target:l}))});var h_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(h_||(h_={}));var f_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(f_||(f_={}));function WL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=yL(),u=yc(),d=fI(t,{relative:o});return w.useCallback(f=>{if(VL(f,n)){f.preventDefault();let h=r!==void 0?r:Ld(u)===Ld(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,_=u&63;l||(_=64,o||(h=64)),r.push(n[d],n[f],n[h],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new qL;const h=s<<2|a>>4;if(r.push(h),u!==64){const _=a<<4&240|u>>2;if(r.push(_),f!==64){const T=u<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KL=function(t){const e=gI(t);return vI.encodeByteArray(e,!0)},jd=function(t){return KL(t).replace(/\./g,"")},yI=function(t){try{return vI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=()=>QL().__FIREBASE_DEFAULTS__,XL=()=>{if(typeof process>"u"||typeof p_>"u")return;const t=p_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yI(t[1]);return e&&JSON.parse(e)},Mh=()=>{try{return HL()||YL()||XL()||JL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wI=t=>{var e,n;return(n=(e=Mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZL=t=>{const e=wI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_I=()=>{var t;return(t=Mh())===null||t===void 0?void 0:t.config},EI=t=>{var e;return(e=Mh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jd(JSON.stringify(n)),jd(JSON.stringify(o)),""].join(".")}const wl={};function nV(){const t={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?t.emulator.push(e):t.prod.push(e);return t}function rV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let m_=!1;function bI(t,e){if(typeof window>"u"||typeof document>"u"||!va(window.location.host)||wl[t]===e||wl[t]||m_)return;wl[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=nV().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,_){h.setAttribute("width","24"),h.setAttribute("id",_),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{m_=!0,o()},h}function d(h,_){h.setAttribute("id",_),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=rV(r),_=n("text"),T=document.getElementById(_)||document.createElement("span"),v=n("learnmore"),b=document.getElementById(v)||document.createElement("a"),x=n("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const E=h.element;a(E),d(b,v);const P=u();l(y,x),E.append(y,T,b,P),document.body.appendChild(E)}s?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function sV(){var t;const e=(t=Mh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cV(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uV(){return!sV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dV(){try{return typeof indexedDB=="object"}catch{return!1}}function hV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fV,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yr(i,a,r)}}function pV(t,e){return t.replace(mV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mV=/\{\$([^}]+)}/g;function gV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ls(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(g_(s)&&g_(o)){if(!Ls(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function g_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vV(t,e){const n=new yV(t,e);return n.subscribe.bind(n)}class yV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sp),i.error===void 0&&(i.error=sp),i.complete===void 0&&(i.complete=sp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xV(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EV(t){return t===gs?void 0:t}function xV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _V(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const TV={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},IV=ye.INFO,CV={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},SV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=IV,this._logHandler=SV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const AV=(t,e)=>e.some(n=>t instanceof n);let v_,y_;function PV(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kV(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TI=new WeakMap,Om=new WeakMap,II=new WeakMap,op=new WeakMap,Sv=new WeakMap;function RV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TI.set(n,t)}).catch(()=>{}),Sv.set(e,t),e}function NV(t){if(Om.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Om.set(t,e)}let Mm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Om.get(t);if(e==="objectStoreNames")return t.objectStoreNames||II.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DV(t){Mm=t(Mm)}function OV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ap(this),e,...n);return II.set(r,e.sort?e.sort():[e]),Oi(r)}:kV().includes(t)?function(...e){return t.apply(ap(this),e),Oi(TI.get(this))}:function(...e){return Oi(t.apply(ap(this),e))}}function MV(t){return typeof t=="function"?OV(t):(t instanceof IDBTransaction&&NV(t),AV(t,PV())?new Proxy(t,Mm):t)}function Oi(t){if(t instanceof IDBRequest)return RV(t);if(op.has(t))return op.get(t);const e=MV(t);return e!==t&&(op.set(t,e),Sv.set(e,t)),e}const ap=t=>Sv.get(t);function LV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Oi(o.result),l.oldVersion,l.newVersion,Oi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const VV=["get","getKey","getAll","getAllKeys","count"],jV=["put","add","delete","clear"],lp=new Map;function w_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return lp.set(e,s),s}DV(t=>({...t,get:(e,n,r)=>w_(e,n)||t.get(e,n,r),has:(e,n)=>!!w_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lm="@firebase/app",__="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Cv("@firebase/app"),BV="@firebase/app-compat",zV="@firebase/analytics-compat",$V="@firebase/analytics",WV="@firebase/app-check-compat",HV="@firebase/app-check",GV="@firebase/auth",qV="@firebase/auth-compat",KV="@firebase/database",QV="@firebase/data-connect",YV="@firebase/database-compat",XV="@firebase/functions",JV="@firebase/functions-compat",ZV="@firebase/installations",e4="@firebase/installations-compat",t4="@firebase/messaging",n4="@firebase/messaging-compat",r4="@firebase/performance",i4="@firebase/performance-compat",s4="@firebase/remote-config",o4="@firebase/remote-config-compat",a4="@firebase/storage",l4="@firebase/storage-compat",c4="@firebase/firestore",u4="@firebase/ai",d4="@firebase/firestore-compat",h4="firebase",f4="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",p4={[Lm]:"fire-core",[BV]:"fire-core-compat",[$V]:"fire-analytics",[zV]:"fire-analytics-compat",[HV]:"fire-app-check",[WV]:"fire-app-check-compat",[GV]:"fire-auth",[qV]:"fire-auth-compat",[KV]:"fire-rtdb",[QV]:"fire-data-connect",[YV]:"fire-rtdb-compat",[XV]:"fire-fn",[JV]:"fire-fn-compat",[ZV]:"fire-iid",[e4]:"fire-iid-compat",[t4]:"fire-fcm",[n4]:"fire-fcm-compat",[r4]:"fire-perf",[i4]:"fire-perf-compat",[s4]:"fire-rc",[o4]:"fire-rc-compat",[a4]:"fire-gcs",[l4]:"fire-gcs-compat",[c4]:"fire-fst",[d4]:"fire-fst-compat",[u4]:"fire-vertex","fire-js":"fire-js",[h4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Map,m4=new Map,jm=new Map;function E_(t,e){try{t.container.addComponent(e)}catch(n){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ra(t){const e=t.name;if(jm.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,t);for(const n of Fd.values())E_(n,t);for(const n of m4.values())E_(n,t);return!0}function Av(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new wc("app","Firebase",g4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=f4;function CI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Mi.create("bad-app-name",{appName:String(i)});if(n||(n=_I()),!n)throw Mi.create("no-options");const s=Fd.get(i);if(s){if(Ls(n,s.options)&&Ls(r,s.config))return s;throw Mi.create("duplicate-app",{appName:i})}const o=new bV(i);for(const l of jm.values())o.addComponent(l);const a=new v4(n,r,o);return Fd.set(i,a),a}function SI(t=Vm){const e=Fd.get(t);if(!e&&t===Vm&&_I())return CI();if(!e)throw Mi.create("no-app",{appName:t});return e}function Li(t,e,n){var r;let i=(r=p4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(a.join(" "));return}ra(new Vs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firebase-heartbeat-database",w4=1,Yl="firebase-heartbeat-store";let cp=null;function AI(){return cp||(cp=LV(y4,w4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),cp}async function _4(t){try{const n=(await AI()).transaction(Yl),r=await n.objectStore(Yl).get(PI(t));return await n.done,r}catch(e){if(e instanceof Yr)Hr.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(n.message)}}}async function x_(t,e){try{const r=(await AI()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(e,PI(t)),await r.done}catch(n){if(n instanceof Yr)Hr.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hr.warn(r.message)}}}function PI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=1024,x4=30;class b4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=b_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>x4){const o=C4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:r,unsentEntries:i}=T4(this._heartbeatsCache.heartbeats),s=jd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hr.warn(n),""}}}function b_(){return new Date().toISOString().substring(0,10)}function T4(t,e=E4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),T_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),T_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dV()?hV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function T_(t){return jd(JSON.stringify({version:2,heartbeats:t})).length}function C4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){ra(new Vs("platform-logger",e=>new FV(e),"PRIVATE")),ra(new Vs("heartbeat",e=>new b4(e),"PRIVATE")),Li(Lm,__,t),Li(Lm,__,"esm2017"),Li("fire-js","")}S4("");var ar=function(){return ar=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ar.apply(this,arguments)};function Ec(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function A4(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function kI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P4=kI,RI=new wc("auth","Firebase",kI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Cv("@firebase/auth");function k4(t,...e){Ud.logLevel<=ye.WARN&&Ud.warn(`Auth (${ya}): ${t}`,...e)}function Gu(t,...e){Ud.logLevel<=ye.ERROR&&Ud.error(`Auth (${ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw kv(t,...e)}function Wn(t,...e){return kv(t,...e)}function Pv(t,e,n){const r=Object.assign(Object.assign({},P4()),{[e]:n});return new wc("auth","Firebase",r).create(e,{appName:t.name})}function Vr(t){return Pv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nn(t,"argument-error"),Pv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RI.create(t,...e)}function se(t,e,...n){if(!t)throw kv(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gu(e),new Error(e)}function Gr(t,e){t||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function N4(){return I_()==="http:"||I_()==="https:"}function I_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N4()||aV()||"connection"in navigator)?navigator.onLine:!0}function O4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=iV()||lV()}get(){return D4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],V4=new xc(3e4,6e4);function ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rs(t,e,n,r,i={}){return DI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_c(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return oV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&va(t.emulatorConfig.host)&&(u.credentials="include"),NI.fetch()(await OI(t,t.config.apiHost,n,a),u)})}async function DI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},M4),e);try{const i=new F4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _u(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _u(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _u(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _u(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Pv(t,d,u);Nn(t,d)}}catch(i){if(i instanceof Yr)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function bc(t,e,n,r,i={}){const s=await rs(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function OI(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Rv(t.config,i):`${t.config.apiScheme}://${i}`;return L4.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function j4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),V4.get())})}}function _u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wn(t,e,r);return i.customData._tokenResponse=n,i}function C_(t){return t!==void 0&&t.enterprise!==void 0}class U4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B4(t,e){return rs(t,"GET","/v2/recaptchaConfig",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function Bd(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $4(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=Nv(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_l(up(i.auth_time)),issuedAtTime:_l(up(i.iat)),expirationTime:_l(up(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function up(t){return Number(t)*1e3}function Nv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{const i=yI(n);return i?JSON.parse(i):(Gu("Failed to decode base64 JWT payload"),null)}catch(i){return Gu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function S_(t){const e=Nv(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&W4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function W4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xl(t,Bd(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?MI(s.providerUserInfo):[],a=q4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Um(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function G4(t){const e=Et(t);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MI(t){return t.map(e=>{var{providerId:n}=e,r=Ec(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(t,e){const n=await DI(t,{},async()=>{const r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await OI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&va(t.emulatorConfig.host)&&(l.credentials="include"),NI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q4(t,e){return rs(t,"POST","/v2/accounts:revokeToken",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=S_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await K4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new No;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ec(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Um(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $4(this,e)}reload(){return G4(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await Xl(this,z4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:P,isAnonymous:O,providerData:M,stsTokenManager:C}=n;se(E&&C,e,"internal-error");const I=No.fromJSON(this.name,C);se(typeof E=="string",e,"internal-error"),oi(f,e.name),oi(h,e.name),se(typeof P=="boolean",e,"internal-error"),se(typeof O=="boolean",e,"internal-error"),oi(_,e.name),oi(T,e.name),oi(v,e.name),oi(b,e.name),oi(x,e.name),oi(y,e.name);const A=new Bn({uid:E,auth:e,email:h,emailVerified:P,displayName:f,isAnonymous:O,photoURL:T,phoneNumber:_,tenantId:v,stsTokenManager:I,createdAt:x,lastLoginAt:y});return M&&Array.isArray(M)&&(A.providerData=M.map(k=>Object.assign({},k))),b&&(A._redirectEventId=b),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new No;i.updateFromServerResponse(n);const s=new Bn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?MI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new No;a.updateFromIdToken(r);const l=new Bn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Um(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;function Mr(t){Gr(t instanceof Function,"Expected a class definition");let e=A_.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LI.type="NONE";const P_=LI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qu(this.userKey,i.apiKey,s),this.fullPersistenceKey=qu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bd(this.auth,{idToken:e}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do(Mr(P_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Mr(P_);const o=qu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await Bd(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Bn._fromGetAccountInfoResponse(e,h,d)}else f=Bn._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Do(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Do(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zI(e))return"Blackberry";if($I(e))return"Webos";if(jI(e))return"Safari";if((e.includes("chrome/")||FI(e))&&!e.includes("edge/"))return"Chrome";if(BI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VI(t=$t()){return/firefox\//i.test(t)}function jI(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FI(t=$t()){return/crios\//i.test(t)}function UI(t=$t()){return/iemobile/i.test(t)}function BI(t=$t()){return/android/i.test(t)}function zI(t=$t()){return/blackberry/i.test(t)}function $I(t=$t()){return/webos/i.test(t)}function Dv(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y4(t=$t()){var e;return Dv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X4(){return cV()&&document.documentMode===10}function WI(t=$t()){return Dv(t)||BI(t)||$I(t)||zI(t)||/windows phone/i.test(t)||UI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e=[]){let n;switch(t){case"Browser":n=k_($t());break;case"Worker":n=`${k_($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,e={}){return rs(t,"GET","/v2/passwordPolicy",ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=6;class tj{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ej,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new J4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bd(this,{idToken:e}),r=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(hn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject(Vr(this));const n=e?Et(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z4(this),n=new tj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Q4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function is(t){return Et(t)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=vV(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rj(t){Lh=t}function GI(t){return Lh.loadJS(t)}function ij(){return Lh.recaptchaEnterpriseScript}function sj(){return Lh.gapiScript}function oj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class aj{constructor(){this.enterprise=new lj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cj="recaptcha-enterprise",qI="NO_RECAPTCHA";class uj{constructor(e){this.type=cj,this.auth=is(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{B4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new U4(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;C_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(qI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aj().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&C_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ij();l.length!==0&&(l+=a),GI(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function N_(t,e,n,r=!1,i=!1){const s=new uj(t);let o;if(i)o=qI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Bm(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await N_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await N_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t,e){const n=Av(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ls(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function hj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fj(t,e,n){const r=is(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=KI(e),{host:o,port:a}=pj(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(Ls(u,r.config.emulator)&&Ls(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,va(o)?(xI(`${s}//${o}${l}`),bI("Auth",!0)):mj()}function KI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pj(t){const e=KI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:D_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:D_(o)}}}function D_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function gj(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e){return bc(t,"POST","/v1/accounts:signInWithPassword",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",ns(t,e))}async function wj(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Ov{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",vj);case"emailLink":return yj(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,r,"signUpPassword",gj);case"emailLink":return wj(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return bc(t,"POST","/v1/accounts:signInWithIdp",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="http://localhost";class js extends Ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ec(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new js(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:_j,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xj(t){const e=nl(rl(t)).link,n=e?nl(rl(e)).deep_link_id:null,r=nl(rl(t)).deep_link_id;return(r?nl(rl(r)).link:null)||r||n||e||t}class Mv{constructor(e){var n,r,i,s,o,a;const l=nl(rl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Ej((i=l.mode)!==null&&i!==void 0?i:null);se(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=xj(e);try{return new Mv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,n){return Jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mv.parseLink(n);return se(r,"argument-error"),Jl._fromEmailAndCode(e,r.code,r.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Lv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Tc{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Tc{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Tc{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(t,e){return bc(t,"POST","/v1/accounts:signUp",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Bn._fromIdTokenResponse(e,r,i),o=O_(r);return new Fs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=O_(r);return new Fs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function O_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends Yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $d(e,n,r,i)}}function QI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(t,s,e,r):s})}async function Tj(t,e,n=!1){const r=await Xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t,e,n=!1){const{auth:r}=t;if(hn(r.app))return Promise.reject(Vr(r));const i="reauthenticate";try{const s=await Xl(t,QI(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=Nv(s.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),Fs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(t,e,n=!1){if(hn(t.app))return Promise.reject(Vr(t));const r="signIn",i=await QI(t,r,e),s=await Fs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Cj(t,e){return YI(is(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(t){const e=is(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Sj(t,e,n){if(hn(t.app))return Promise.reject(Vr(t));const r=is(t),o=await Bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&XI(t),l}),a=await Fs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Aj(t,e,n){return hn(t.app)?Promise.reject(Vr(t)):Cj(Et(t),wa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XI(t),r})}function Pj(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function kj(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function Rj(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function Nj(t){return Et(t).signOut()}const Wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wd,"1"),this.storage.removeItem(Wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=1e3,Oj=10;class ZI extends JI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);X4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Oj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZI.type="LOCAL";const Mj=ZI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC extends JI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eC.type="SESSION";const tC=eC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Lj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Vv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function jj(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function Fj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Bj(){return nC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebaseLocalStorageDb",zj=1,Hd="firebaseLocalStorage",iC="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(t,e){return t.transaction([Hd],e?"readwrite":"readonly").objectStore(Hd)}function $j(){const t=indexedDB.deleteDatabase(rC);return new Ic(t).toPromise()}function zm(){const t=indexedDB.open(rC,zj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hd,{keyPath:iC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hd)?e(r):(r.close(),await $j(),e(await zm()))})})}async function M_(t,e,n){const r=jh(t,!0).put({[iC]:e,value:n});return new Ic(r).toPromise()}async function Wj(t,e){const n=jh(t,!1).get(e),r=await new Ic(n).toPromise();return r===void 0?null:r.value}function L_(t,e){const n=jh(t,!0).delete(e);return new Ic(n).toPromise()}const Hj=800,Gj=3;class sC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Gj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(Bj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Fj(),!this.activeServiceWorker)return;this.sender=new Vj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Uj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await M_(e,Wd,"1"),await L_(e,Wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Wj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jh(i,!1).getAll();return new Ic(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sC.type="LOCAL";const qj=sC;new xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e){return e?Mr(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv extends Ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Kj(t){return YI(t.auth,new jv(t),t.bypassAuthState)}function Qj(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Ij(n,new jv(t),t.bypassAuthState)}async function Yj(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Tj(n,new jv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kj;case"linkViaPopup":case"linkViaRedirect":return Yj;case"reauthViaPopup":case"reauthViaRedirect":return Qj;default:Nn(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=new xc(2e3,1e4);async function Jj(t,e,n){if(hn(t.app))return Promise.reject(Wn(t,"operation-not-supported-in-this-environment"));const r=is(t);R4(t,e,Lv);const i=oC(r,n);return new _s(r,"signInViaPopup",e,i).executeNotNull()}class _s extends aC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xj.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="pendingRedirect",Ku=new Map;class e3 extends aC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const r=await t3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t3(t,e){const n=i3(e),r=r3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function n3(t,e){Ku.set(t._key(),e)}function r3(t){return Mr(t._redirectPersistence)}function i3(t){return qu(Zj,t.config.apiKey,t.name)}async function s3(t,e,n=!1){if(hn(t.app))return Promise.reject(Vr(t));const r=is(t),i=oC(r,e),o=await new e3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=10*60*1e3;class a3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o3&&this.cachedEventUids.clear(),this.cachedEventUids.has(V_(e))}saveEventToCache(e){this.cachedEventUids.add(V_(e)),this.lastProcessedEventTime=Date.now()}}function V_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e={}){return rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d3=/^https?/;async function h3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c3(t);for(const n of e)try{if(f3(n))return}catch{}Nn(t,"unauthorized-domain")}function f3(t){const e=Fm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!d3.test(n))return!1;if(u3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=new xc(3e4,6e4);function j_(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m3(t){return new Promise((e,n)=>{var r,i,s;function o(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),n(Wn(t,"network-request-failed"))},timeout:p3.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{const a=oj("iframefcb");return pr()[a]=()=>{gapi.load?o():n(Wn(t,"network-request-failed"))},GI(`${sj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qu=null,e})}let Qu=null;function g3(t){return Qu=Qu||m3(t),Qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new xc(5e3,15e3),y3="__/auth/iframe",w3="emulator/auth/iframe",_3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x3(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rv(e,w3):`https://${t.config.authDomain}/${y3}`,r={apiKey:e.apiKey,appName:t.name,v:ya},i=E3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_c(r).slice(1)}`}async function b3(t){const e=await g3(t),n=pr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:x3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wn(t,"network-request-failed"),a=pr().setTimeout(()=>{s(o)},v3.get());function l(){pr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I3=500,C3=600,S3="_blank",A3="http://localhost";class F_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P3(t,e,n,r=I3,i=C3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},T3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=$t().toLowerCase();n&&(a=FI(u)?S3:n),VI(u)&&(e=e||A3,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[_,T])=>`${h}${_}=${T},`,"");if(Y4(u)&&a!=="_self")return k3(e||"",a),new F_(null);const f=window.open(e||"",a,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new F_(f)}function k3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="__/auth/handler",N3="emulator/auth/handler",D3=encodeURIComponent("fac");async function U_(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ya,eventId:i};if(e instanceof Lv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Tc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${D3}=${encodeURIComponent(l)}`:"";return`${O3(t)}?${_c(a).slice(1)}${u}`}function O3({config:t}){return t.emulator?Rv(t,N3):`https://${t.authDomain}/${R3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="webStorageSupport";class M3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tC,this._completeRedirectFn=s3,this._overrideRedirectResult=n3}async _openPopup(e,n,r,i){var s;Gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await U_(e,n,r,Fm(),i);return P3(e,o,Vv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await U_(e,n,r,Fm(),i);return jj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await b3(e),r=new a3(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dp,{type:dp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[dp];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WI()||jI()||Dv()}}const L3=M3;var B_="@firebase/auth",z_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F3(t){ra(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HI(t)},u=new nj(r,i,s,l);return hj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ra(new Vs("auth-internal",e=>{const n=is(e.getProvider("auth").getImmediate());return(r=>new V3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(B_,z_,j3(t)),Li(B_,z_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=5*60,B3=EI("authIdTokenMaxAge")||U3;let $_=null;const z3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>B3)return;const i=n==null?void 0:n.token;$_!==i&&($_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $3(t=SI()){const e=Av(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dj(t,{popupRedirectResolver:L3,persistence:[qj,Mj,tC]}),r=EI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=z3(s.toString());kj(n,o,()=>o(n.currentUser)),Pj(n,a=>o(a))}}const i=wI("auth");return i&&fj(n,`http://${i}`),n}function W3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",W3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F3("Browser");var H3="firebase",G3="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(H3,G3,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,cC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function A(){}A.prototype=I.prototype,C.D=I.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(k,N,D){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return I.prototype[N].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,A){A||(A=0);var k=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)k[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;16>N;++N)k[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=C.g[0],A=C.g[1],N=C.g[2];var D=C.g[3],R=I+(D^A&(N^D))+k[0]+3614090360&4294967295;I=A+(R<<7&4294967295|R>>>25),R=D+(N^I&(A^N))+k[1]+3905402710&4294967295,D=I+(R<<12&4294967295|R>>>20),R=N+(A^D&(I^A))+k[2]+606105819&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(I^N&(D^I))+k[3]+3250441966&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(D^A&(N^D))+k[4]+4118548399&4294967295,I=A+(R<<7&4294967295|R>>>25),R=D+(N^I&(A^N))+k[5]+1200080426&4294967295,D=I+(R<<12&4294967295|R>>>20),R=N+(A^D&(I^A))+k[6]+2821735955&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(I^N&(D^I))+k[7]+4249261313&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(D^A&(N^D))+k[8]+1770035416&4294967295,I=A+(R<<7&4294967295|R>>>25),R=D+(N^I&(A^N))+k[9]+2336552879&4294967295,D=I+(R<<12&4294967295|R>>>20),R=N+(A^D&(I^A))+k[10]+4294925233&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(I^N&(D^I))+k[11]+2304563134&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(D^A&(N^D))+k[12]+1804603682&4294967295,I=A+(R<<7&4294967295|R>>>25),R=D+(N^I&(A^N))+k[13]+4254626195&4294967295,D=I+(R<<12&4294967295|R>>>20),R=N+(A^D&(I^A))+k[14]+2792965006&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(I^N&(D^I))+k[15]+1236535329&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(N^D&(A^N))+k[1]+4129170786&4294967295,I=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(I^A))+k[6]+3225465664&4294967295,D=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(D^I))+k[11]+643717713&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^I&(N^D))+k[0]+3921069994&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(N^D&(A^N))+k[5]+3593408605&4294967295,I=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(I^A))+k[10]+38016083&4294967295,D=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(D^I))+k[15]+3634488961&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^I&(N^D))+k[4]+3889429448&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(N^D&(A^N))+k[9]+568446438&4294967295,I=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(I^A))+k[14]+3275163606&4294967295,D=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(D^I))+k[3]+4107603335&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^I&(N^D))+k[8]+1163531501&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(N^D&(A^N))+k[13]+2850285829&4294967295,I=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(I^A))+k[2]+4243563512&4294967295,D=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(D^I))+k[7]+1735328473&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^I&(N^D))+k[12]+2368359562&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(A^N^D)+k[5]+4294588738&4294967295,I=A+(R<<4&4294967295|R>>>28),R=D+(I^A^N)+k[8]+2272392833&4294967295,D=I+(R<<11&4294967295|R>>>21),R=N+(D^I^A)+k[11]+1839030562&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^I)+k[14]+4259657740&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(A^N^D)+k[1]+2763975236&4294967295,I=A+(R<<4&4294967295|R>>>28),R=D+(I^A^N)+k[4]+1272893353&4294967295,D=I+(R<<11&4294967295|R>>>21),R=N+(D^I^A)+k[7]+4139469664&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^I)+k[10]+3200236656&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(A^N^D)+k[13]+681279174&4294967295,I=A+(R<<4&4294967295|R>>>28),R=D+(I^A^N)+k[0]+3936430074&4294967295,D=I+(R<<11&4294967295|R>>>21),R=N+(D^I^A)+k[3]+3572445317&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^I)+k[6]+76029189&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(A^N^D)+k[9]+3654602809&4294967295,I=A+(R<<4&4294967295|R>>>28),R=D+(I^A^N)+k[12]+3873151461&4294967295,D=I+(R<<11&4294967295|R>>>21),R=N+(D^I^A)+k[15]+530742520&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^I)+k[2]+3299628645&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(N^(A|~D))+k[0]+4096336452&4294967295,I=A+(R<<6&4294967295|R>>>26),R=D+(A^(I|~N))+k[7]+1126891415&4294967295,D=I+(R<<10&4294967295|R>>>22),R=N+(I^(D|~A))+k[14]+2878612391&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~I))+k[5]+4237533241&4294967295,A=N+(R<<21&4294967295|R>>>11),R=I+(N^(A|~D))+k[12]+1700485571&4294967295,I=A+(R<<6&4294967295|R>>>26),R=D+(A^(I|~N))+k[3]+2399980690&4294967295,D=I+(R<<10&4294967295|R>>>22),R=N+(I^(D|~A))+k[10]+4293915773&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~I))+k[1]+2240044497&4294967295,A=N+(R<<21&4294967295|R>>>11),R=I+(N^(A|~D))+k[8]+1873313359&4294967295,I=A+(R<<6&4294967295|R>>>26),R=D+(A^(I|~N))+k[15]+4264355552&4294967295,D=I+(R<<10&4294967295|R>>>22),R=N+(I^(D|~A))+k[6]+2734768916&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~I))+k[13]+1309151649&4294967295,A=N+(R<<21&4294967295|R>>>11),R=I+(N^(A|~D))+k[4]+4149444226&4294967295,I=A+(R<<6&4294967295|R>>>26),R=D+(A^(I|~N))+k[11]+3174756917&4294967295,D=I+(R<<10&4294967295|R>>>22),R=N+(I^(D|~A))+k[2]+718787259&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~I))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var A=I-this.blockSize,k=this.B,N=this.h,D=0;D<I;){if(N==0)for(;D<=A;)i(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<I;)if(k[N++]=C.charCodeAt(D++),N==this.blockSize){i(this,k),N=0;break}}else for(;D<I;)if(k[N++]=C[D++],N==this.blockSize){i(this,k),N=0;break}}this.h=N,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var A=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.u(C),C=Array(16),I=A=0;4>I;++I)for(var k=0;32>k;k+=8)C[A++]=this.g[I]>>>k&255;return C};function s(C,I){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=I(C)}function o(C,I){this.h=I;for(var A=[],k=!0,N=C.length-1;0<=N;N--){var D=C[N]|0;k&&D==I||(A[N]=D,k=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?s(C,function(I){return new o([I|0],0>I?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return b(u(-C));for(var I=[],A=1,k=0;C>=A;k++)I[k]=C/A|0,A*=4294967296;return new o(I,0)}function d(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return b(d(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(I,8)),k=f,N=0;N<C.length;N+=8){var D=Math.min(8,C.length-N),R=parseInt(C.substring(N,N+D),I);8>D?(D=u(Math.pow(I,D)),k=k.j(D).add(u(R))):(k=k.j(A),k=k.add(u(R)))}return k}var f=l(0),h=l(1),_=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-b(this).m();for(var C=0,I=1,A=0;A<this.g.length;A++){var k=this.i(A);C+=(0<=k?k:4294967296+k)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(v(this))return"-"+b(this).toString(C);for(var I=u(Math.pow(C,6)),A=this,k="";;){var N=P(A,I).g;A=x(A,N.j(I));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=N,T(A))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=x(this,C),v(C)?-1:T(C)?0:1};function b(C){for(var I=C.g.length,A=[],k=0;k<I;k++)A[k]=~C.g[k];return new o(A,~C.h).add(h)}t.abs=function(){return v(this)?b(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],k=0,N=0;N<=I;N++){var D=k+(this.i(N)&65535)+(C.i(N)&65535),R=(D>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);k=R>>>16,D&=65535,R&=65535,A[N]=R<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(C,I){return C.add(b(I))}t.j=function(C){if(T(this)||T(C))return f;if(v(this))return v(C)?b(this).j(b(C)):b(b(this).j(C));if(v(C))return b(this.j(b(C)));if(0>this.l(_)&&0>C.l(_))return u(this.m()*C.m());for(var I=this.g.length+C.g.length,A=[],k=0;k<2*I;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<C.g.length;N++){var D=this.i(k)>>>16,R=this.i(k)&65535,H=C.i(N)>>>16,ne=C.i(N)&65535;A[2*k+2*N]+=R*ne,y(A,2*k+2*N),A[2*k+2*N+1]+=D*ne,y(A,2*k+2*N+1),A[2*k+2*N+1]+=R*H,y(A,2*k+2*N+1),A[2*k+2*N+2]+=D*H,y(A,2*k+2*N+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new o(A,0)};function y(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function E(C,I){this.g=C,this.h=I}function P(C,I){if(T(I))throw Error("division by zero");if(T(C))return new E(f,f);if(v(C))return I=P(b(C),I),new E(b(I.g),b(I.h));if(v(I))return I=P(C,b(I)),new E(b(I.g),I.h);if(30<C.g.length){if(v(C)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var A=h,k=I;0>=k.l(C);)A=O(A),k=O(k);var N=M(A,1),D=M(k,1);for(k=M(k,2),A=M(A,2);!T(k);){var R=D.add(k);0>=R.l(C)&&(N=N.add(A),D=R),k=M(k,1),A=M(A,1)}return I=x(C,N.j(I)),new E(N,I)}for(N=f;0<=C.l(I);){for(A=Math.max(1,Math.floor(C.m()/I.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=u(A),R=D.j(I);v(R)||0<R.l(C);)A-=k,D=u(A),R=D.j(I);T(D)&&(D=h),N=N.add(D),C=x(C,R)}return new E(N,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)&C.i(k);return new o(A,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)|C.i(k);return new o(A,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)^C.i(k);return new o(A,this.h^C.h)};function O(C){for(var I=C.g.length+1,A=[],k=0;k<I;k++)A[k]=C.i(k)<<1|C.i(k-1)>>>31;return new o(A,C.h)}function M(C,I){var A=I>>5;I%=32;for(var k=C.g.length-A,N=[],D=0;D<k;D++)N[D]=0<I?C.i(D+A)>>>I|C.i(D+A+1)<<32-I:C.i(D+A);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Vi=o}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uC,il,dC,Yu,$m,hC,fC,pC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eu=="object"&&Eu];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var V=c[S];if(!(V in g))break e;g=g[V]}c=c[c.length-1],S=g[c],p=p(S),p!=S&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var g=0,S=!1,V={next:function(){if(!S&&g<c.length){var F=g++;return{value:p(F,c[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,g){return c.call.apply(c.bind,arguments)}function f(c,p,g){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,S),c.apply(p,V)}}return function(){return c.apply(p,arguments)}}function h(c,p,g){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function _(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(S,V,F){for(var G=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)G[Me-2]=arguments[Me];return p.prototype[V].apply(S,G)}}function v(c){const p=c.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=c[S];return g}return[]}function b(c,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const V=c.length||0,F=S.length||0;c.length=V+F;for(let G=0;G<F;G++)c[V+G]=S[G]}else c.push(S)}}class x{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(c,p,g){for(const S in c)p.call(g,c[S],S,c)}function C(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function I(c){const p={};for(const g in c)p[g]=c[g];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,p){let g,S;for(let V=1;V<arguments.length;V++){S=arguments[V];for(g in S)c[g]=S[g];for(let F=0;F<A.length;F++)g=A[F],Object.prototype.hasOwnProperty.call(S,g)&&(c[g]=S[g])}}function N(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function D(c){a.setTimeout(()=>{throw c},0)}function R(){var c=$;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class H{constructor(){this.h=this.g=null}add(p,g){const S=ne.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new x(()=>new j,c=>c.reset());class j{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let K,L=!1,$=new H,J=()=>{const c=a.Promise.resolve(void 0);K=()=>{c.then(Q)}};var Q=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(g){D(g)}var p=ne;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}L=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function We(c,p){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{P(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&We.aa.h.call(this)}}T(We,re);var pe={2:"touch",3:"pen",4:"mouse"};We.prototype.h=function(){We.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Te=0;function He(c,p,g,S,V){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=V,this.key=++Te,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ee(c){this.src=c,this.g={},this.h=0}Ee.prototype.add=function(c,p,g,S,V){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var G=ft(c,p,S,V);return-1<G?(p=c[G],g||(p.fa=!1)):(p=new He(p,this.src,F,!!S,V),p.fa=g,c.push(p)),p};function ve(c,p){var g=p.type;if(g in c.g){var S=c.g[g],V=Array.prototype.indexOf.call(S,p,void 0),F;(F=0<=V)&&Array.prototype.splice.call(S,V,1),F&&(me(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function ft(c,p,g,S){for(var V=0;V<c.length;++V){var F=c[V];if(!F.da&&F.listener==p&&F.capture==!!g&&F.ha==S)return V}return-1}var xt="closure_lm_"+(1e6*Math.random()|0),En={};function Wt(c,p,g,S,V){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Wt(c,p[F],g,S,V);return null}return g=Aa(g),c&&c[te]?c.K(p,g,u(S)?!!S.capture:!!S,V):xr(c,p,g,!1,S,V)}function xr(c,p,g,S,V,F){if(!p)throw Error("Invalid event type");var G=u(V)?!!V.capture:!!V,Me=Xr(c);if(Me||(c[xt]=Me=new Ee(c)),g=Me.add(p,g,S,G,F),g.proxy)return g;if(S=Ca(),g.proxy=S,S.src=c,S.listener=g,c.addEventListener)Se||(V=G),V===void 0&&(V=!1),c.addEventListener(p.toString(),S,V);else if(c.attachEvent)c.attachEvent(Oc(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ca(){function c(g){return p.call(c.src,c.listener,g)}const p=cf;return c}function ot(c,p,g,S,V){if(Array.isArray(p))for(var F=0;F<p.length;F++)ot(c,p[F],g,S,V);else S=u(S)?!!S.capture:!!S,g=Aa(g),c&&c[te]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],g=ft(F,g,S,V),-1<g&&(me(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=Xr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ft(p,g,S,V)),(g=-1<c?p[c]:null)&&Xn(g))}function Xn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[te])ve(p.i,c);else{var g=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(g,S,c.capture):p.detachEvent?p.detachEvent(Oc(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=Xr(p))?(ve(g,c),g.h==0&&(g.src=null,p[xt]=null)):me(c)}}}function Oc(c){return c in En?En[c]:En[c]="on"+c}function cf(c,p){if(c.da)c=!0;else{p=new We(p,this);var g=c.listener,S=c.ha||c.src;c.fa&&Xn(c),c=g.call(S,p)}return c}function Xr(c){return c=c[xt],c instanceof Ee?c:null}var Sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(c){return typeof c=="function"?c:(c[Sa]||(c[Sa]=function(p){return c.handleEvent(p)}),c[Sa])}function at(){ee.call(this),this.i=new Ee(this),this.M=this,this.F=null}T(at,ee),at.prototype[te]=!0,at.prototype.removeEventListener=function(c,p,g,S){ot(this,c,p,g,S)};function Xe(c,p){var g,S=c.F;if(S)for(g=[];S;S=S.F)g.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new re(p,c);else if(p instanceof re)p.target=p.target||c;else{var V=p;p=new re(S,c),k(p,V)}if(V=!0,g)for(var F=g.length-1;0<=F;F--){var G=p.g=g[F];V=cs(G,S,!0,p)&&V}if(G=p.g=c,V=cs(G,S,!0,p)&&V,V=cs(G,S,!1,p)&&V,g)for(F=0;F<g.length;F++)G=p.g=g[F],V=cs(G,S,!1,p)&&V}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],S=0;S<g.length;S++)me(g[S]);delete c.g[p],c.h--}}this.F=null},at.prototype.K=function(c,p,g,S){return this.i.add(String(c),p,!1,g,S)},at.prototype.L=function(c,p,g,S){return this.i.add(String(c),p,!0,g,S)};function cs(c,p,g,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,F=0;F<p.length;++F){var G=p[F];if(G&&!G.da&&G.capture==g){var Me=G.listener,bt=G.ha||G.src;G.fa&&ve(c.i,G),V=Me.call(bt,S)!==!1&&V}}return V&&!S.defaultPrevented}function br(c,p,g){if(typeof c=="function")g&&(c=h(c,g));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function Pa(c){c.g=br(()=>{c.g=null,c.i&&(c.i=!1,Pa(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class uf extends ee{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Pa(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(c){ee.call(this),this.h=c,this.g={}}T(Jr,ee);var ka=[];function Mc(c){M(c.g,function(p,g){this.g.hasOwnProperty(g)&&Xn(p)},c),c.g={}}Jr.prototype.N=function(){Jr.aa.N.call(this),Mc(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=a.JSON.stringify,Jn=a.JSON.parse,df=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ae(){}ae.prototype.h=null;function Oe(c){return c.h||(c.h=c.i())}function Re(){}var kt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jt(){re.call(this,"d")}T(Jt,re);function Zr(){re.call(this,"c")}T(Zr,re);var Tr={},Oy=null;function Lc(){return Oy=Oy||new at}Tr.La="serverreachability";function My(c){re.call(this,Tr.La,c)}T(My,re);function Ra(c){const p=Lc();Xe(p,new My(p))}Tr.STAT_EVENT="statevent";function Ly(c,p){re.call(this,Tr.STAT_EVENT,c),this.stat=p}T(Ly,re);function Ht(c){const p=Lc();Xe(p,new Ly(p,c))}Tr.Ma="timingevent";function Vy(c,p){re.call(this,Tr.Ma,c),this.size=p}T(Vy,re);function Na(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Da(){this.g=!0}Da.prototype.xa=function(){this.g=!1};function _P(c,p,g,S,V,F){c.info(function(){if(c.g)if(F)for(var G="",Me=F.split("&"),bt=0;bt<Me.length;bt++){var Ae=Me[bt].split("=");if(1<Ae.length){var Rt=Ae[0];Ae=Ae[1];var Nt=Rt.split("_");G=2<=Nt.length&&Nt[1]=="type"?G+(Rt+"="+Ae+"&"):G+(Rt+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+S+") [attempt "+V+"]: "+p+`
`+g+`
`+G})}function EP(c,p,g,S,V,F,G){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+V+"]: "+p+`
`+g+`
`+F+" "+G})}function Xs(c,p,g,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+bP(c,g)+(S?" "+S:"")})}function xP(c,p){c.info(function(){return"TIMEOUT: "+p})}Da.prototype.info=function(){};function bP(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var S=g[c];if(!(2>S.length)){var V=S[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<V.length;G++)V[G]=""}}}}return us(g)}catch{return p}}var Vc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hf;function jc(){}T(jc,ae),jc.prototype.g=function(){return new XMLHttpRequest},jc.prototype.i=function(){return{}},hf=new jc;function ei(c,p,g,S){this.j=c,this.i=p,this.l=g,this.R=S||1,this.U=new Jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fy}function Fy(){this.i=null,this.g="",this.h=!1}var Uy={},ff={};function pf(c,p,g){c.L=1,c.v=zc(Ir(p)),c.m=g,c.P=!0,By(c,null)}function By(c,p){c.F=Date.now(),Fc(c),c.A=Ir(c.v);var g=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),t0(g.i,"t",S),c.C=0,g=c.j.J,c.h=new Fy,c.g=w0(c.j,g?p:null,!c.m),0<c.O&&(c.M=new uf(h(c.Y,c,c.g),c.O)),p=c.U,g=c.g,S=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(ka[0]=V.toString()),V=ka);for(var F=0;F<V.length;F++){var G=Wt(g,V[F],S||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Ra(),_P(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const p=this.M;p&&Cr(c)==3?p.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Cr(this.g);var p=this.g.Ba();const eo=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||l0(this.g)))){this.J||Nt!=4||p==7||(p==8||0>=eo?Ra(3):Ra(2)),mf(this);var g=this.g.Z();this.X=g;t:if(zy(this)){var S=l0(this.g);c="";var V=S.length,F=Cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),Oa(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(F&&p==V-1)});S.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,EP(this.i,this.u,this.A,this.l,this.R,Nt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,bt=this.g;if((Me=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Me)){var Ae=Me;break t}}Ae=null}if(g=Ae)Xs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gf(this,g);else{this.o=!1,this.s=3,Ht(12),ds(this),Oa(this);break e}}if(this.P){g=!0;let Dn;for(;!this.J&&this.C<G.length;)if(Dn=TP(this,G),Dn==ff){Nt==4&&(this.s=4,Ht(14),g=!1),Xs(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==Uy){this.s=4,Ht(15),Xs(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else Xs(this.i,this.l,Dn,null),gf(this,Dn);if(zy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||G.length!=0||this.h.h||(this.s=1,Ht(16),g=!1),this.o=this.o&&g,!g)Xs(this.i,this.l,G,"[Invalid Chunked Response]"),ds(this),Oa(this);else if(0<G.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),xf(Rt),Rt.M=!0,Ht(11))}}else Xs(this.i,this.l,G,null),gf(this,G);Nt==4&&ds(this),this.o&&!this.J&&(Nt==4?m0(this.j,this):(this.o=!1,Fc(this)))}else BP(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),ds(this),Oa(this)}}}catch{}finally{}};function zy(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function TP(c,p){var g=c.C,S=p.indexOf(`
`,g);return S==-1?ff:(g=Number(p.substring(g,S)),isNaN(g)?Uy:(S+=1,S+g>p.length?ff:(p=p.slice(S,S+g),c.C=S+g,p)))}ei.prototype.cancel=function(){this.J=!0,ds(this)};function Fc(c){c.S=Date.now()+c.I,$y(c,c.I)}function $y(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Na(h(c.ba,c),p)}function mf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(xP(this.i,this.A),this.L!=2&&(Ra(),Ht(17)),ds(this),this.s=2,Oa(this)):$y(this,this.S-c)};function Oa(c){c.j.G==0||c.J||m0(c.j,c)}function ds(c){mf(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Mc(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function gf(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||vf(g.h,c))){if(!c.K&&vf(g.h,c)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var V=S;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Kc(g),Gc(g);else break e;Ef(g),Ht(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=Na(h(g.Za,g),6e3));if(1>=Gy(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else fs(g,11)}else if((c.K||g.g==c)&&Kc(g),!y(p))for(V=g.Da.g.parse(p),p=0;p<V.length;p++){let Ae=V[p];if(g.T=Ae[0],Ae=Ae[1],g.G==2)if(Ae[0]=="c"){g.K=Ae[1],g.ia=Ae[2];const Rt=Ae[3];Rt!=null&&(g.la=Rt,g.j.info("VER="+g.la));const Nt=Ae[4];Nt!=null&&(g.Aa=Nt,g.j.info("SVER="+g.Aa));const eo=Ae[5];eo!=null&&typeof eo=="number"&&0<eo&&(S=1.5*eo,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const Dn=c.g;if(Dn){const Yc=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yc){var F=S.h;F.g||Yc.indexOf("spdy")==-1&&Yc.indexOf("quic")==-1&&Yc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(yf(F,F.h),F.h=null))}if(S.D){const bf=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;bf&&(S.ya=bf,Ue(S.I,S.D,bf))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var G=c;if(S.qa=y0(S,S.J?S.ia:null,S.W),G.K){qy(S.h,G);var Me=G,bt=S.L;bt&&(Me.I=bt),Me.B&&(mf(Me),Fc(Me)),S.g=G}else f0(S);0<g.i.length&&qc(g)}else Ae[0]!="stop"&&Ae[0]!="close"||fs(g,7);else g.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?fs(g,7):_f(g):Ae[0]!="noop"&&g.l&&g.l.ta(Ae),g.v=0)}}Ra(4)}catch{}}var IP=class{constructor(c,p){this.g=c,this.map=p}};function Wy(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hy(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Gy(c){return c.h?1:c.g?c.g.size:0}function vf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function yf(c,p){c.g?c.g.add(p):c.h=p}function qy(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Wy.prototype.cancel=function(){if(this.i=Ky(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ky(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return v(c.i)}function CP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],g=c.length,S=0;S<g;S++)p.push(c[S]);return p}p=[],g=0;for(S in c)p[g++]=c[S];return p}function SP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const S in c)p[g++]=S;return p}}}function Qy(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=SP(c),S=CP(c),V=S.length,F=0;F<V;F++)p.call(void 0,S[F],g&&g[F],c)}var Yy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AP(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var S=c[g].indexOf("="),V=null;if(0<=S){var F=c[g].substring(0,S);V=c[g].substring(S+1)}else F=c[g];p(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function hs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof hs){this.h=c.h,Uc(this,c.j),this.o=c.o,this.g=c.g,Bc(this,c.s),this.l=c.l;var p=c.i,g=new Va;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),Xy(this,g),this.m=c.m}else c&&(p=String(c).match(Yy))?(this.h=!1,Uc(this,p[1]||"",!0),this.o=Ma(p[2]||""),this.g=Ma(p[3]||"",!0),Bc(this,p[4]),this.l=Ma(p[5]||"",!0),Xy(this,p[6]||"",!0),this.m=Ma(p[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}hs.prototype.toString=function(){var c=[],p=this.j;p&&c.push(La(p,Jy,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(La(p,Jy,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(La(g,g.charAt(0)=="/"?RP:kP,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",La(g,DP)),c.join("")};function Ir(c){return new hs(c)}function Uc(c,p,g){c.j=g?Ma(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Bc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Xy(c,p,g){p instanceof Va?(c.i=p,OP(c.i,c.h)):(g||(p=La(p,NP)),c.i=new Va(p,c.h))}function Ue(c,p,g){c.i.set(p,g)}function zc(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ma(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function La(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,PP),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function PP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Jy=/[#\/\?@]/g,kP=/[#\?:]/g,RP=/[#\?]/g,NP=/[#\?@]/g,DP=/#/g;function Va(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ti(c){c.g||(c.g=new Map,c.h=0,c.i&&AP(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Va.prototype,t.add=function(c,p){ti(this),this.i=null,c=Js(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function Zy(c,p){ti(c),p=Js(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function e0(c,p){return ti(c),p=Js(c,p),c.g.has(p)}t.forEach=function(c,p){ti(this),this.g.forEach(function(g,S){g.forEach(function(V){c.call(p,V,S,this)},this)},this)},t.na=function(){ti(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const V=c[S];for(let F=0;F<V.length;F++)g.push(p[S])}return g},t.V=function(c){ti(this);let p=[];if(typeof c=="string")e0(this,c)&&(p=p.concat(this.g.get(Js(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return ti(this),this.i=null,c=Js(this,c),e0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function t0(c,p,g){Zy(c,p),0<g.length&&(c.i=null,c.g.set(Js(c,p),v(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const F=encodeURIComponent(String(S)),G=this.V(S);for(S=0;S<G.length;S++){var V=F;G[S]!==""&&(V+="="+encodeURIComponent(String(G[S]))),c.push(V)}}return this.i=c.join("&")};function Js(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function OP(c,p){p&&!c.j&&(ti(c),c.i=null,c.g.forEach(function(g,S){var V=S.toLowerCase();S!=V&&(Zy(this,S),t0(this,V,g))},c)),c.j=p}function MP(c,p){const g=new Da;if(a.Image){const S=new Image;S.onload=_(ni,g,"TestLoadImage: loaded",!0,p,S),S.onerror=_(ni,g,"TestLoadImage: error",!1,p,S),S.onabort=_(ni,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=_(ni,g,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function LP(c,p){const g=new Da,S=new AbortController,V=setTimeout(()=>{S.abort(),ni(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(V),F.ok?ni(g,"TestPingServer: ok",!0,p):ni(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),ni(g,"TestPingServer: error",!1,p)})}function ni(c,p,g,S,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),S(g)}catch{}}function VP(){this.g=new df}function jP(c,p,g){const S=g||"";try{Qy(c,function(V,F){let G=V;u(V)&&(G=us(V)),p.push(S+F+"="+encodeURIComponent(G))})}catch(V){throw p.push(S+"type="+encodeURIComponent("_badmap")),V}}function $c(c){this.l=c.Ub||null,this.j=c.eb||!1}T($c,ae),$c.prototype.g=function(){return new Wc(this.l,this.j)},$c.prototype.i=function(c){return function(){return c}}({});function Wc(c,p){at.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Wc,at),t=Wc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Fa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;n0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function n0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ja(this):Fa(this),this.readyState==3&&n0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ja(this))},t.Qa=function(c){this.g&&(this.response=c,ja(this))},t.ga=function(){this.g&&ja(this)};function ja(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fa(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function Fa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function r0(c){let p="";return M(c,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function wf(c,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=r0(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Ue(c,p,g))}function Je(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Je,at);var FP=/^https?$/i,UP=["POST","PUT"];t=Je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hf.g(),this.v=this.o?Oe(this.o):Oe(hf),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){i0(this,F);return}if(c=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var V in S)g.set(V,S[V]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())g.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UP,p,void 0))||S||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of g)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{a0(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){i0(this,F)}};function i0(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,s0(c),Hc(c)}function s0(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),Hc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hc(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?o0(this):this.bb())},t.bb=function(){o0(this)};function o0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Cr(c)!=4||c.Z()!=2)){if(c.u&&Cr(c)==4)br(c.Ea,0,c);else if(Xe(c,"readystatechange"),Cr(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=G===0){var V=String(c.D).match(Yy)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),S=!FP.test(V?V.toLowerCase():"")}g=S}if(g)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var F=2<Cr(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",s0(c)}}finally{Hc(c)}}}}function Hc(c,p){if(c.g){a0(c);const g=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Xe(c,"ready");try{g.onreadystatechange=S}catch{}}}function a0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Jn(p)}};function l0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function BP(c){const p={};c=(c.g&&2<=Cr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(y(c[S]))continue;var g=N(c[S]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=p[V]||[];p[V]=F,F.push(g)}C(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function c0(c){this.Aa=0,this.i=[],this.j=new Da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,c),this.cb=Ua("retryDelaySeedMs",1e4,c),this.Wa=Ua("forwardChannelMaxRetries",2,c),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Wy(c&&c.concurrentRequestLimit),this.Da=new VP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=c0.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,S){Ht(0),this.W=c,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=y0(this,null,this.W),qc(this)};function _f(c){if(u0(c),c.G==3){var p=c.U++,g=Ir(c.I);if(Ue(g,"SID",c.K),Ue(g,"RID",p),Ue(g,"TYPE","terminate"),Ba(c,g),p=new ei(c,c.j,p),p.L=2,p.v=zc(Ir(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=w0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Fc(p)}v0(c)}function Gc(c){c.g&&(xf(c),c.g.cancel(),c.g=null)}function u0(c){Gc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Kc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function qc(c){if(!Hy(c.h)&&!c.s){c.s=!0;var p=c.Ga;K||J(),L||(K(),L=!0),$.add(p,c),c.B=0}}function zP(c,p){return Gy(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Na(h(c.Ga,c,p),g0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new ei(this,this.j,c);let F=this.o;if(this.S&&(F?(F=I(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=h0(this,V,p),g=Ir(this.I),Ue(g,"RID",c),Ue(g,"CVER",22),this.D&&Ue(g,"X-HTTP-Session-Id",this.D),Ba(this,g),F&&(this.O?p="headers="+encodeURIComponent(String(r0(F)))+"&"+p:this.m&&wf(g,this.m,F)),yf(this.h,V),this.Ua&&Ue(g,"TYPE","init"),this.P?(Ue(g,"$req",p),Ue(g,"SID","null"),V.T=!0,pf(V,g,null)):pf(V,g,p),this.G=2}}else this.G==3&&(c?d0(this,c):this.i.length==0||Hy(this.h)||d0(this))};function d0(c,p){var g;p?g=p.l:g=c.U++;const S=Ir(c.I);Ue(S,"SID",c.K),Ue(S,"RID",g),Ue(S,"AID",c.T),Ba(c,S),c.m&&c.o&&wf(S,c.m,c.o),g=new ei(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=h0(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),yf(c.h,g),pf(g,S,p)}function Ba(c,p){c.H&&M(c.H,function(g,S){Ue(p,S,g)}),c.l&&Qy({},function(g,S){Ue(p,S,g)})}function h0(c,p,g){g=Math.min(c.i.length,g);var S=c.l?h(c.l.Na,c.l,c):null;e:{var V=c.i;let F=-1;for(;;){const G=["count="+g];F==-1?0<g?(F=V[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Me=!0;for(let bt=0;bt<g;bt++){let Ae=V[bt].g;const Rt=V[bt].map;if(Ae-=F,0>Ae)F=Math.max(0,V[bt].g-100),Me=!1;else try{jP(Rt,G,"req"+Ae+"_")}catch{S&&S(Rt)}}if(Me){S=G.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,S}function f0(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;K||J(),L||(K(),L=!0),$.add(p,c),c.v=0}}function Ef(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Na(h(c.Fa,c),g0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,p0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Na(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Gc(this),p0(this))};function xf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function p0(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Ir(c.qa);Ue(p,"RID","rpc"),Ue(p,"SID",c.K),Ue(p,"AID",c.T),Ue(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(p,"TO",c.ja),Ue(p,"TYPE","xmlhttp"),Ba(c,p),c.m&&c.o&&wf(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=zc(Ir(p)),g.m=null,g.P=!0,By(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Gc(this),Ef(this),Ht(19))};function Kc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function m0(c,p){var g=null;if(c.g==p){Kc(c),xf(c),c.g=null;var S=2}else if(vf(c.h,p))g=p.D,qy(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var V=c.B;S=Lc(),Xe(S,new Vy(S,g)),qc(c)}else f0(c);else if(V=p.s,V==3||V==0&&0<p.X||!(S==1&&zP(c,p)||S==2&&Ef(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),V){case 1:fs(c,5);break;case 4:fs(c,10);break;case 3:fs(c,6);break;default:fs(c,2)}}}function g0(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function fs(c,p){if(c.j.info("Error code "+p),p==2){var g=h(c.fb,c),S=c.Xa;const V=!S;S=new hs(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uc(S,"https"),zc(S),V?MP(S.toString(),g):LP(S.toString(),g)}else Ht(2);c.G=0,c.l&&c.l.sa(p),v0(c),u0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function v0(c){if(c.G=0,c.ka=[],c.l){const p=Ky(c.h);(p.length!=0||c.i.length!=0)&&(b(c.ka,p),b(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function y0(c,p,g){var S=g instanceof hs?Ir(g):new hs(g);if(S.g!="")p&&(S.g=p+"."+S.g),Bc(S,S.s);else{var V=a.location;S=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var F=new hs(null);S&&Uc(F,S),p&&(F.g=p),V&&Bc(F,V),g&&(F.l=g),S=F}return g=c.D,p=c.ya,g&&p&&Ue(S,g,p),Ue(S,"VER",c.la),Ba(c,S),S}function w0(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Je(new $c({eb:g})):new Je(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _0(){}t=_0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qc(){}Qc.prototype.g=function(c,p){return new an(c,p)};function an(c,p){at.call(this),this.g=new c0(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!y(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Zs(this)}T(an,at),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){_f(this.g)},an.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=us(c),c=g);p.i.push(new IP(p.Ya++,c)),p.G==3&&qc(p)},an.prototype.N=function(){this.g.l=null,delete this.j,_f(this.g),delete this.g,an.aa.N.call(this)};function E0(c){Jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(E0,Jt);function x0(){Zr.call(this),this.status=1}T(x0,Zr);function Zs(c){this.g=c}T(Zs,_0),Zs.prototype.ua=function(){Xe(this.g,"a")},Zs.prototype.ta=function(c){Xe(this.g,new E0(c))},Zs.prototype.sa=function(c){Xe(this.g,new x0)},Zs.prototype.ra=function(){Xe(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,pC=function(){return new Qc},fC=function(){return Lc()},hC=Tr,$m={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vc.NO_ERROR=0,Vc.TIMEOUT=8,Vc.HTTP_ERROR=6,Yu=Vc,jy.COMPLETE="complete",dC=jy,Re.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",at.prototype.listen=at.prototype.K,il=Re,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,uC=Je}).apply(typeof Eu<"u"?Eu:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",G_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Cv("@firebase/firestore");function so(){return Us.logLevel}function X(t,...e){if(Us.logLevel<=ye.DEBUG){const n=e.map(Fv);Us.debug(`Firestore (${_a}): ${t}`,...n)}}function qr(t,...e){if(Us.logLevel<=ye.ERROR){const n=e.map(Fv);Us.error(`Firestore (${_a}): ${t}`,...n)}}function Hi(t,...e){if(Us.logLevel<=ye.WARN){const n=e.map(Fv);Us.warn(`Firestore (${_a}): ${t}`,...n)}}function Fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mC(t,r,n)}function mC(t,e,n){let r=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qr(r),new Error(r)}function ke(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||mC(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class K3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q3{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new gC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class Y3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Y3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ke(this.o===void 0,3512);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new q_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Z3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function Wm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return fe(r,i);{const s=vC(),o=eF(s.encode(K_(t,n)),s.encode(K_(e,n)));return o!==0?o:fe(r,i)}}n+=r>65535?2:1}return fe(t.length,e.length)}function K_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function eF(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return fe(t[n],e[n]);return fe(t.length,e.length)}function ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class tr{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=tr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return fe(e.length,n.length)}static compareSegments(e,n){const r=tr.isNumericId(e),i=tr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?tr.extractNumericId(e).compare(tr.extractNumericId(n)):Wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vi.fromString(e.substring(4,e.length-2))}}class Ve extends tr{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const tF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends tr{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return tF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new Ct([Q_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ve.fromString(e))}static fromName(e){return new ie(Ve.fromString(e).popFirst(5))}static empty(){return new ie(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e,n){if(!n)throw new Y(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nF(t,e,n,r){if(e===!0&&r===!0)throw new Y(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y_(t){if(!ie.isDocumentKey(t))throw new Y(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X_(t){if(ie.isDocumentKey(t))throw new Y(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Fh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(t);throw new Y(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cc(t,e){if(!wC(t))throw new Y(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Y(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=-62135596800,Z_=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Z_);return new Ne(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J_)throw new Y(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cc(e,Ne._jsonSchema))return new Ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:dt("string",Ne._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Ne(0,0))}static max(){return new le(new Ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function rF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Gi(i,ie.empty(),e)}function iF(t){return new Gi(t.readTime,t.key,Zl)}class Gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gi(le.min(),ie.empty(),Zl)}static max(){return new Gi(le.max(),ie.empty(),Zl)}}function sF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==oF)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function lF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Uh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=-1;function Bh(t){return t==null}function Gd(t){return t===0&&1/t==-1/0}function cF(t){return typeof t=="number"&&Number.isInteger(t)&&!Gd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="";function uF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=e1(e)),e=dF(t.get(n),e);return e1(e)}function dF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case _C:n+="";break;default:n+=s}}return n}function e1(t){return t+_C+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=s??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new It(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new n1(this.data.getIterator())}getIteratorFrom(e){return new n1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class n1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new pn([])}unionWith(e){let n=new vt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xC("Invalid base64 string: "+s):s}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const hF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(t){if(ke(!!t,39018),typeof t=="string"){let e=0;const n=hF.exec(t);if(ke(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ki(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="server_timestamp",TC="__type__",IC="__previous_value__",CC="__local_write_time__";function zv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[TC])===null||n===void 0?void 0:n.stringValue)===bC}function zh(t){const e=t.mapValue.fields[IC];return zv(e)?zh(e):e}function ec(t){const e=qi(t.mapValue.fields[CC].timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const qd="(default)";class tc{constructor(e,n){this.projectId=e,this.database=n||qd}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===qd}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="__type__",AC="__max__",bu={mapValue:{fields:{__type__:{stringValue:AC}}}},PC="__vector__",Kd="value";function Qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zv(t)?4:mF(t)?9007199254740991:pF(t)?10:11:oe(28295,{value:t})}function _r(t,e){if(t===e)return!0;const n=Qi(t);if(n!==Qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=qi(i.timestampValue),a=qi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ki(i.bytesValue).isEqual(Ki(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rt(i.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rt(i.integerValue)===rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=rt(i.doubleValue),a=rt(s.doubleValue);return o===a?Gd(o)===Gd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ia(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(t1(o)!==t1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!_r(o[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function nc(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=Qi(t),r=Qi(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=rt(s.integerValue||s.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return r1(t.timestampValue,e.timestampValue);case 4:return r1(ec(t),ec(e));case 5:return Wm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ki(s),l=Ki(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=fe(a[u],l[u]);if(d!==0)return d}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(rt(s.latitude),rt(o.latitude));return a!==0?a:fe(rt(s.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return i1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const f=s.fields||{},h=o.fields||{},_=(a=f[Kd])===null||a===void 0?void 0:a.arrayValue,T=(l=h[Kd])===null||l===void 0?void 0:l.arrayValue,v=fe(((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:i1(_,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===bu.mapValue&&o===bu.mapValue)return 0;if(s===bu.mapValue)return 1;if(o===bu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Wm(l[f],d[f]);if(h!==0)return h;const _=sa(a[l[f]],u[d[f]]);if(_!==0)return _}return fe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{le:n})}}function r1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=qi(t),r=qi(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function i1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=sa(n[i],r[i]);if(s)return s}return fe(n.length,r.length)}function oa(t){return Hm(t)}function Hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Hm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Hm(n.fields[o])}`;return i+"}"}(t.mapValue):oe(61005,{value:t})}function Xu(t){switch(Qi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(t);return e?16+Xu(e):16;case 5:return 2*t.stringValue.length;case 6:return Ki(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Xu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ss(r.fields,(s,o)=>{i+=s.length+Xu(o)}),i}(t.mapValue);default:throw oe(13486,{value:t})}}function s1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gm(t){return!!t&&"integerValue"in t}function $v(t){return!!t&&"arrayValue"in t}function o1(t){return!!t&&"nullValue"in t}function a1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ju(t){return!!t&&"mapValue"in t}function pF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SC])===null||n===void 0?void 0:n.stringValue)===PC}function El(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=El(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ju(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=El(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ju(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ju(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ss(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(El(this.value))}}function kC(t){const e=[];return ss(t.fields,(n,r)=>{const i=new Ct([n]);if(Ju(r)){const s=kC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ut(e,0,le.min(),le.min(),le.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ut(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Ut(e,2,n,le.min(),le.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,le.min(),le.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.position=e,this.inclusive=n}}function l1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function c1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n="asc"){this.field=e,this.dir=n}}function gF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{}class ut extends RC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yF(e,n,r):n==="array-contains"?new EF(e,r):n==="in"?new xF(e,r):n==="not-in"?new bF(e,r):n==="array-contains-any"?new TF(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wF(e,r):new _F(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sa(n,this.value)):n!==null&&Qi(this.value)===Qi(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends RC{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Qn(e,n)}matches(e){return NC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function NC(t){return t.op==="and"}function DC(t){return vF(t)&&NC(t)}function vF(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function qm(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(DC(t))return t.filters.map(e=>qm(e)).join(",");{const e=t.filters.map(n=>qm(n)).join(",");return`${t.op}(${e})`}}function OC(t,e){return t instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&_r(r.value,i.value)}(t,e):t instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&OC(o,i.filters[a]),!0):!1}(t,e):void oe(19439)}function MC(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${oa(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(MC).join(" ,")+"}"}(t):"Filter"}class yF extends ut{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class wF extends ut{constructor(e,n){super(e,"in",n),this.keys=LC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _F extends ut{constructor(e,n){super(e,"not-in",n),this.keys=LC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class EF extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $v(n)&&nc(n.arrayValue,this.value)}}class xF extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class bF extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nc(this.value.arrayValue,n)}}class TF extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$v(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function u1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new IF(t,e,n,r,i,s,o)}function Wv(t){const e=ce(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.Pe=n}return e.Pe}function Hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c1(t.startAt,e.startAt)&&c1(t.endAt,e.endAt)}function Km(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function CF(t,e,n,r,i,s,o,a){return new Sc(t,e,n,r,i,s,o,a)}function Gv(t){return new Sc(t)}function d1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VC(t){return t.collectionGroup!==null}function xl(t){const e=ce(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(Ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Yd(s,r))}),n.has(Ct.keyField().canonicalString())||e.Te.push(new Yd(Ct.keyField(),r))}return e.Te}function mr(t){const e=ce(t);return e.Ie||(e.Ie=SF(e,xl(t))),e.Ie}function SF(t,e){if(t.limitType==="F")return u1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yd(i.field,s)});const n=t.endAt?new Qd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qd(t.startAt.position,t.startAt.inclusive):null;return u1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qm(t,e){const n=t.filters.concat([e]);return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ym(t,e,n){return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return Hv(mr(t),mr(e))&&t.limitType===e.limitType}function jC(t){return`${Wv(mr(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>MC(i)).join(", ")}]`),Bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oa(i)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function Wh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of xl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=l1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,xl(r),i)||r.endAt&&!function(o,a,l){const u=l1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,xl(r),i))}(t,e)}function AF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FC(t){return(e,n)=>{let r=!1;for(const i of xl(t)){const s=PF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PF(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?sa(l,u):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return EC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=new Ye(ie.comparator);function Kr(){return kF}const UC=new Ye(ie.comparator);function sl(...t){let e=UC;for(const n of t)e=e.insert(n.key,n);return e}function BC(t){let e=UC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Es(){return bl()}function zC(){return bl()}function bl(){return new Ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const RF=new Ye(ie.comparator),NF=new vt(ie.comparator);function we(...t){let e=NF;for(const n of t)e=e.add(n);return e}const DF=new vt(fe);function OF(){return DF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(e)?"-0":e}}function $C(t){return{integerValue:""+t}}function MF(t,e){return cF(e)?$C(e):qv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function LF(t,e,n){return t instanceof Xd?function(i,s){const o={fields:{[TC]:{stringValue:bC},[CC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zv(s)&&(s=zh(s)),s&&(o.fields[IC]=s),{mapValue:o}}(n,e):t instanceof rc?HC(t,e):t instanceof ic?GC(t,e):function(i,s){const o=WC(i,s),a=h1(o)+h1(i.Ee);return Gm(o)&&Gm(i.Ee)?$C(a):qv(i.serializer,a)}(t,e)}function VF(t,e,n){return t instanceof rc?HC(t,e):t instanceof ic?GC(t,e):n}function WC(t,e){return t instanceof Jd?function(r){return Gm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Xd extends Hh{}class rc extends Hh{constructor(e){super(),this.elements=e}}function HC(t,e){const n=qC(e);for(const r of t.elements)n.some(i=>_r(i,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends Hh{constructor(e){super(),this.elements=e}}function GC(t,e){let n=qC(e);for(const r of t.elements)n=n.filter(i=>!_r(i,r));return{arrayValue:{values:n}}}class Jd extends Hh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function h1(t){return rt(t.integerValue||t.doubleValue)}function qC(t){return $v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof rc&&i instanceof rc||r instanceof ic&&i instanceof ic?ia(r.elements,i.elements,_r):r instanceof Jd&&i instanceof Jd?_r(r.Ee,i.Ee):r instanceof Xd&&i instanceof Xd}(t.transform,e.transform)}class FF{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gh{}function KC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kv(t.key,Pn.none()):new Ac(t.key,t.data,Pn.none());{const n=t.data,r=tn.empty();let i=new vt(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new os(t.key,r,new pn(i.toArray()),Pn.none())}}function UF(t,e,n){t instanceof Ac?function(i,s,o){const a=i.value.clone(),l=p1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof os?function(i,s,o){if(!Zu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=p1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(QC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Tl(t,e,n,r){return t instanceof Ac?function(s,o,a,l){if(!Zu(s.precondition,o))return a;const u=s.value.clone(),d=m1(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof os?function(s,o,a,l){if(!Zu(s.precondition,o))return a;const u=m1(s.fieldTransforms,l,o),d=o.data;return d.setAll(QC(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Zu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function BF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=WC(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function f1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ia(r,i,(s,o)=>jF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ac extends Gh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class os extends Gh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function p1(t,e,n){const r=new Map;ke(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,VF(o,a,n[i]))}return r}function m1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,LF(s,o,e))}return r}class Kv extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zF extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&UF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=KC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(n,r)=>f1(n,r))&&ia(this.baseMutations,e.baseMutations,(n,r)=>f1(n,r))}}class Qv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return RF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Qv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,be;function GF(t){switch(t){case U.OK:return oe(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function YC(t){if(t===void 0)return qr("GRPC error has no .code"),U.UNKNOWN;switch(t){case lt.OK:return U.OK;case lt.CANCELLED:return U.CANCELLED;case lt.UNKNOWN:return U.UNKNOWN;case lt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case lt.INTERNAL:return U.INTERNAL;case lt.UNAVAILABLE:return U.UNAVAILABLE;case lt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case lt.NOT_FOUND:return U.NOT_FOUND;case lt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case lt.ABORTED:return U.ABORTED;case lt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case lt.DATA_LOSS:return U.DATA_LOSS;default:return oe(39323,{code:t})}}(be=lt||(lt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new Vi([4294967295,4294967295],0);function g1(t){const e=vC().encode(t),n=new cC;return n.update(e),new Uint8Array(n.digest())}function v1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vi([n,r],0),new Vi([i,s],0)]}class Yv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(r<0)throw new ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Vi.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Vi.fromNumber(r)));return i.compare(qF)===1&&(i=new Vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=g1(e),[r,i]=v1(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Yv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=g1(e),[r,i]=v1(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qh(le.min(),i,new Ye(fe),Kr(),we())}}class Pc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class XC{constructor(e,n){this.targetId=e,this.De=n}}class JC{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class y1{constructor(){this.ve=0,this.Ce=w1(),this.Fe=Pt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=we(),n=we(),r=we();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:s})}}),new Pc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=w1()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class KF{constructor(e){this.We=e,this.Ge=new Map,this.ze=Kr(),this.je=Tu(),this.Je=Tu(),this.He=new Ye(fe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(Km(s))if(r===0){const o=new ie(s.path);this.Xe(n,o,Ut.newNoDocument(o,le.min()))}else ke(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ki(r).toUint8Array()}catch(l){if(l instanceof xC)return Hi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Yv(o,i,s)}catch(l){return Hi(l instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&Km(a.target)){const l=new ie(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ut.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=we();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new qh(e,n,this.He,this.ze,r);return this.ze=Kr(),this.je=Tu(),this.Je=Tu(),this.He=new Ye(fe),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new y1,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new vt(fe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new vt(fe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new y1),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Tu(){return new Ye(ie.comparator)}function w1(){return new Ye(ie.comparator)}const QF={asc:"ASCENDING",desc:"DESCENDING"},YF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XF={and:"AND",or:"OR"};class JF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(t,e){return t.useProto3Json||Bh(e)?e:{value:e}}function Zd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZF(t,e){return Zd(t,e.toTimestamp())}function gr(t){return ke(!!t,49232),le.fromTimestamp(function(n){const r=qi(n);return new Ne(r.seconds,r.nanos)}(t))}function Xv(t,e){return Jm(t,e).canonicalString()}function Jm(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eS(t){const e=Ve.fromString(t);return ke(sS(e),10190,{key:e.toString()}),e}function Zm(t,e){return Xv(t.databaseId,e.path)}function hp(t,e){const n=eS(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(nS(n))}function tS(t,e){return Xv(t.databaseId,e)}function e5(t){const e=eS(t);return e.length===4?Ve.emptyPath():nS(e)}function eg(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nS(t){return ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _1(t,e,n){return{name:Zm(t,e),fields:n.value.mapValue.fields}}function t5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ke(d===void 0||typeof d=="string",58123),Pt.fromBase64String(d||"")):(ke(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:YC(u.code);return new Y(d,u.message||"")}(o);n=new JC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hp(t,r.document.name),s=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):le.min(),a=new tn({mapValue:{fields:r.document.fields}}),l=Ut.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ed(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hp(t,r.document),s=r.readTime?gr(r.readTime):le.min(),o=Ut.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ed([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hp(t,r.document),s=r.removedTargetIds||[];n=new ed([],s,i,null)}else{if(!("filter"in e))return oe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new HF(i,s),a=r.targetId;n=new XC(a,o)}}return n}function n5(t,e){let n;if(e instanceof Ac)n={update:_1(t,e.key,e.value)};else if(e instanceof Kv)n={delete:Zm(t,e.key)};else if(e instanceof os)n={update:_1(t,e.key,e.data),updateMask:d5(e.fieldMask)};else{if(!(e instanceof zF))return oe(16599,{Rt:e.type});n={verify:Zm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Xd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof rc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ic)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jd)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ZF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe(27497)}(t,e.precondition)),n}function r5(t,e){return t&&t.length>0?(ke(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?gr(i.updateTime):gr(s);return o.isEqual(le.min())&&(o=gr(s)),new FF(o,i.transformResults||[])}(n,e))):[]}function i5(t,e){return{documents:[tS(t,e.path)]}}function s5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tS(t,i);const s=function(u){if(u.length!==0)return iS(Qn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:ao(h.field),direction:l5(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function o5(t){let e=e5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=rS(f);return h instanceof Qn&&DC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(T){return new Yd(lo(T.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Bh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,_=f.values||[];return new Qd(_,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,_=f.values||[];return new Qd(_,h)}(n.endAt)),CF(e,i,o,s,a,"F",l,u)}function a5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lo(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lo(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lo(n.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lo(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return ut.create(lo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>rS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function l5(t){return QF[t]}function c5(t){return YF[t]}function u5(t){return XF[t]}function ao(t){return{fieldPath:t.canonicalString()}}function lo(t){return Ct.fromServerFormat(t.fieldPath)}function iS(t){return t instanceof ut?function(n){if(n.op==="=="){if(a1(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(o1(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a1(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(o1(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:c5(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(i=>iS(i));return r.length===1?r[0]:{compositeFilter:{op:u5(n.op),filters:r}}}(t):oe(54877,{filter:t})}function d5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r,i,s=le.min(),o=le.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.gt=e}}function f5(t){const e=o5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.Dn=new m5}addToCollectionParentIndex(e,n){return this.Dn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Gi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class m5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oS=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(oS,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new aa(0)}static ur(){return new aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="LruGarbageCollector",g5=1048576;function b1([t,e],[n,r]){const i=fe(t,n);return i===0?fe(e,r):i}class v5{constructor(e){this.Tr=e,this.buffer=new vt(b1),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();b1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){X(x1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xa(n)?X(x1,"Ignoring IndexedDB error during garbage collection: ",n):await Ea(n)}await this.Rr(3e5)})}}class w5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Uh.ue);const r=new v5(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(E1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E1):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),so()<=ye.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function _5(t,e){return new w5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.changes=new Ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Tl(r.mutation,i,pn.empty(),Ne.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Kr();const o=bl(),a=function(){return bl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof os)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Tl(d.mutation,u,d.mutation.getFieldMask(),Ne.now())):o.set(u.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new x5(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bl();let i=new Ye((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||pn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||we()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=zC();d.forEach(h=>{if(!s.has(h)){const _=KC(n.get(h),r.get(h));_!==null&&f.set(h,_),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(Es());let a=Zl,l=s;return o.next(u=>B.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,we())).next(d=>({batchId:a,changes:BC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=sl();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const u=function(f,h){return new Sc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ut.newInvalidDocument(d)))});let a=sl();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Tl(d.mutation,u,pn.empty(),Ne.now()),Wh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return B.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:f5(i.bundledQuery),readTime:gr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.overlays=new Ye(ie.comparator),this.kr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Es();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Es(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Es(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return B.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new WF(n,r));let s=this.kr.get(n);s===void 0&&(s=we(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.qr=new vt(yt.Qr),this.$r=new vt(yt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new yt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ie(new Ve([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ie(new Ve([])),r=new yt(n,e),i=new yt(n,e+1);let s=we();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ie.comparator(e.key,n.key)||fe(e.Hr,n.Hr)}static Ur(e,n){return fe(e.Hr,n.Hr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new vt(yt.Qr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $F(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Bv:this.er-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(fe);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),B.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new yt(new ie(s),0);let a=new vt(fe);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},o),B.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return B.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new yt(n,0),i=this.Yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.ni=e,this.docs=function(){return new Ye(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=Kr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ut.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Kr();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||sF(iF(d),r)<=0||(i.has(d.key)||Wh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe(9500)}ri(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new P5(this)}getSize(e){return B.resolve(this.size)}}class P5 extends E5{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.persistence=e,this.ii=new Ks(n=>Wv(n),Hv),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.si=0,this.oi=new Jv,this.targetCount=0,this._i=aa.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),B.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new aa(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.hr(n),B.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.ai={},this.overlays={},this.ui=new Uh(0),this.ci=!1,this.ci=!0,this.li=new C5,this.referenceDelegate=e(this),this.hi=new k5(this),this.indexManager=new p5,this.remoteDocumentCache=function(i){return new A5(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new h5(n),this.Ti=new T5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new S5(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new R5(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return B.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class R5 extends aF{constructor(e){super(),this.currentSequenceNumber=e}}class Zv{constructor(e){this.persistence=e,this.Ai=new Jv,this.Ri=null}static Vi(e){return new Zv(e)}get mi(){if(this.Ri)return this.Ri;throw oe(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.mi,r=>{const i=ie.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return B.or([()=>B.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class eh{constructor(e,n){this.persistence=e,this.gi=new Ks(r=>uF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_5(this,n)}static Vi(e,n){return new eh(e,n)}Ii(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return B.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),B.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xu(e.data.value)),n}Sr(e,n,r){return B.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ey(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return uV()?8:lF($t())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new N5;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(so()<=ye.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(so()<=ye.DEBUG&&X("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(so()<=ye.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):B.resolve())}ps(e,n){if(d1(n))return B.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ym(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ds(n,u,o,l.readTime)?this.ps(e,Ym(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,r,i){return d1(n)||i.isEqual(le.min())?B.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?B.resolve(null):(so()<=ye.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(n)),this.vs(e,o,n,rF(i,Zl)).next(a=>a))})}bs(e,n){let r=new vt(FC(e));return n.forEach((i,s)=>{Wh(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return so()<=ye.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",oo(n)),this.gs.getDocumentsMatchingQuery(e,n,Gi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="LocalStore",O5=3e8;class M5{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ye(fe),this.Ms=new Ks(s=>Wv(s),Hv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b5(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function L5(t,e,n,r){return new M5(t,e,n,r)}async function lS(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=we();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function V5(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let _=B.resolve();return h.forEach(T=>{_=_.next(()=>d.getEntry(l,T)).next(v=>{const b=u.docVersions.get(T);ke(b!==null,48541),v.version.compareTo(b)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cS(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function j5(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,f)));let _=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(Pt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(f,_),function(v,b,x){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=O5?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,_,d)&&a.push(n.hi.updateTargetData(s,_))});let l=Kr(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(F5(s,o,e.documentUpdates).next(d=>{l=d.Ls,u=d.ks})),!r.isEqual(le.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Fs=i,s))}function F5(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Kr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X(ty,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function U5(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Bv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B5(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new Ti(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function tg(t,e,n){const r=ce(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xa(o))throw o;X(ty,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function T1(t,e,n){const r=ce(t);let i=le.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=ce(l),h=f.Ms.get(d);return h!==void 0?B.resolve(f.Fs.get(h)):f.hi.getTargetData(u,d)}(r,o,mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:we())).next(a=>(z5(r,AF(e),a),{documents:a,qs:s})))}function z5(t,e,n){let r=t.xs.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class I1{constructor(){this.activeTargetIds=OF()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $5{constructor(){this.Fo=new I1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new I1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="ConnectivityMonitor";class S1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){X(C1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){X(C1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu=null;function ng(){return Iu===null?Iu=function(){return 268435456+Math.round(2147483648*Math.random())}():Iu++,"0x"+Iu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="RestConnection",H5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G5{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===qd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=ng(),a=this.Go(e,n.toUriEncodedString());X(fp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:u}=new URL(a),d=va(u);return this.jo(e,a,l,r,d).then(f=>(X(fp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Hi(fp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=H5[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class K5 extends G5{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=ng();return new Promise((a,l)=>{const u=new uC;u.setWithCredentials(!0),u.listenOnce(dC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yu.NO_ERROR:const f=u.getResponseJson();X(Lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Yu.TIMEOUT:X(Lt,`RPC '${e}' ${o} timed out`),l(new Y(U.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const h=u.getStatus();if(X(Lt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const v=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(T.status);l(new Y(v,T.message))}else l(new Y(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(U.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{X(Lt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);X(Lt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}P_(e,n,r){const i=ng(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pC(),a=fC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");X(Lt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.T_(f);let h=!1,_=!1;const T=new q5({Ho:b=>{_?X(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(X(Lt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),X(Lt,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},Yo:()=>f.close()}),v=(b,x,y)=>{b.listen(x,E=>{try{y(E)}catch(P){setTimeout(()=>{throw P},0)}})};return v(f,il.EventType.OPEN,()=>{_||(X(Lt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),v(f,il.EventType.CLOSE,()=>{_||(_=!0,X(Lt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(f))}),v(f,il.EventType.ERROR,b=>{_||(_=!0,Hi(Lt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),T.__(new Y(U.UNAVAILABLE,"The operation could not be completed")))}),v(f,il.EventType.MESSAGE,b=>{var x;if(!_){const y=b.data[0];ke(!!y,16349);const E=y,P=(E==null?void 0:E.error)||((x=E[0])===null||x===void 0?void 0:x.error);if(P){X(Lt,`RPC '${e}' stream ${i} received error:`,P);const O=P.status;let M=function(A){const k=lt[A];if(k!==void 0)return YC(k)}(O),C=P.message;M===void 0&&(M=U.INTERNAL,C="Unknown error status: "+O+" with message "+P.message),_=!0,T.__(new Y(M,C)),f.close()}else X(Lt,`RPC '${e}' stream ${i} received:`,y),T.a_(y)}}),v(a,hC.STAT_EVENT,b=>{b.stat===$m.PROXY?X(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===$m.NOPROXY&&X(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){return new JF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="PersistentStream";class dS{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new uS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new Y(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return X(A1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(X(A1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q5 extends dS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=t5(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?gr(o.readTime):le.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=eg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Km(l)?{documents:i5(s,l)}:{query:s5(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ZC(s,o.resumeToken);const u=Xm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Zd(s,o.snapshotVersion.toTimestamp());const u=Xm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=a5(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=eg(this.serializer),n.removeTarget=e,this.k_(n)}}class Y5 extends dS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=r5(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=eg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n5(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{}class J5 extends X5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Y(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,Jm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(U.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,Jm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(U.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Z5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(qr(n),this._a=!1):X("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class e6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Qs(this)&&(X(Bs,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ia.add(4),await kc(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Qh(u)}(this))})}),this.Aa=new Z5(r,i)}}async function Qh(t){if(Qs(t))for(const e of t.da)await e(!0)}async function kc(t){for(const e of t.da)await e(!1)}function hS(t,e){const n=ce(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),sy(n)?iy(n):ba(n).x_()&&ry(n,e))}function ny(t,e){const n=ce(t),r=ba(n);n.Ta.delete(e),r.x_()&&fS(n,e),n.Ta.size===0&&(r.x_()?r.B_():Qs(n)&&n.Aa.set("Unknown"))}function ry(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ba(t).H_(e)}function fS(t,e){t.Ra.$e(e),ba(t).Y_(e)}function iy(t){t.Ra=new KF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ba(t).start(),t.Aa.aa()}function sy(t){return Qs(t)&&!ba(t).M_()&&t.Ta.size>0}function Qs(t){return ce(t).Ia.size===0}function pS(t){t.Ra=void 0}async function t6(t){t.Aa.set("Online")}async function n6(t){t.Ta.forEach((e,n)=>{ry(t,e)})}async function r6(t,e){pS(t),sy(t)?(t.Aa.la(e),iy(t)):t.Aa.set("Unknown")}async function i6(t,e,n){if(t.Aa.set("Online"),e instanceof JC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){X(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await th(t,r)}else if(e instanceof ed?t.Ra.Ye(e):e instanceof XC?t.Ra.it(e):t.Ra.et(e),!n.isEqual(le.min()))try{const r=await cS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(u);d&&s.Ta.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(Pt.EMPTY_BYTE_STRING,d.snapshotVersion)),fS(s,l);const f=new Ti(d.target,l,u,d.sequenceNumber);ry(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(Bs,"Failed to raise snapshot:",r),await th(t,r)}}async function th(t,e,n){if(!xa(e))throw e;t.Ia.add(1),await kc(t),t.Aa.set("Offline"),n||(n=()=>cS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Bs,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Qh(t)})}function mS(t,e){return e().catch(n=>th(t,n,e))}async function Yh(t){const e=ce(t),n=Yi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Bv;for(;s6(e);)try{const i=await U5(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,o6(e,i)}catch(i){await th(e,i)}gS(e)&&vS(e)}function s6(t){return Qs(t)&&t.Pa.length<10}function o6(t,e){t.Pa.push(e);const n=Yi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function gS(t){return Qs(t)&&!Yi(t).M_()&&t.Pa.length>0}function vS(t){Yi(t).start()}async function a6(t){Yi(t).na()}async function l6(t){const e=Yi(t);for(const n of t.Pa)e.X_(n.mutations)}async function c6(t,e,n){const r=t.Pa.shift(),i=Qv.from(r,e,n);await mS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yh(t)}async function u6(t,e){e&&Yi(t).Z_&&await async function(r,i){if(function(o){return GF(o)&&o!==U.ABORTED}(i.code)){const s=r.Pa.shift();Yi(r).N_(),await mS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yh(r)}}(t,e),gS(t)&&vS(t)}async function P1(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),X(Bs,"RemoteStore received new credentials");const r=Qs(n);n.Ia.add(3),await kc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Qh(n)}async function d6(t,e){const n=ce(t);e?(n.Ia.delete(2),await Qh(n)):e||(n.Ia.add(2),await kc(n),n.Aa.set("Unknown"))}function ba(t){return t.Va||(t.Va=function(n,r,i){const s=ce(n);return s.ia(),new Q5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:t6.bind(null,t),e_:n6.bind(null,t),n_:r6.bind(null,t),J_:i6.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),sy(t)?iy(t):t.Aa.set("Unknown")):(await t.Va.stop(),pS(t))})),t.Va}function Yi(t){return t.ma||(t.ma=function(n,r,i){const s=ce(n);return s.ia(),new Y5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:a6.bind(null,t),n_:u6.bind(null,t),ea:l6.bind(null,t),ta:c6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Yh(t)):(await t.ma.stop(),t.Pa.length>0&&(X(Bs,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new oy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(t,e){if(qr("AsyncQueue",`${e}: ${t}`),xa(t))return new Y(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=sl(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.fa=new Ye(ie.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class la{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new la(e,n,Mo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class f6{constructor(){this.queries=R1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=R1(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new Y(U.ABORTED,"Firestore shutting down"))}}function R1(){return new Ks(t=>jC(t),$h)}async function yS(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new h6,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=ay(o,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&ly(n)}async function wS(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function p6(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&ly(n)}function m6(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function ly(t){t.Da.forEach(e=>{e.next()})}var rg,N1;(N1=rg||(rg={})).Fa="default",N1.Cache="cache";class _S{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new la(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.key=e}}class xS{constructor(e){this.key=e}}class g6{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=we(),this.mutatedKeys=we(),this.Xa=FC(e),this.eu=new Mo(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new k1,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),_=Wh(this.query,f)?f:null,T=!!h&&this.mutatedKeys.has(h.key),v=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let b=!1;h&&_?h.data.isEqual(_.data)?T!==v&&(r.track({type:3,doc:_}),b=!0):this.iu(h,_)||(r.track({type:2,doc:_}),b=!0,(l&&this.Xa(_,l)>0||u&&this.Xa(_,u)<0)&&(a=!0)):!h&&_?(r.track({type:0,doc:_}),b=!0):h&&!_&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(a=!0)),b&&(_?(o=o.add(_),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,f)=>function(_,T){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{At:b})}};return v(_)-v(T)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,o.length!==0||u?{snapshot:new la(this.query,e.eu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new k1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=we(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new xS(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new ES(r))}),n}uu(e){this.Ha=e.qs,this.Za=we();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return la.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const cy="SyncEngine";class v6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class y6{constructor(e){this.key=e,this.lu=!1}}class w6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Ks(a=>jC(a),$h),this.Tu=new Map,this.Iu=new Set,this.du=new Ye(ie.comparator),this.Eu=new Map,this.Au=new Jv,this.Ru={},this.Vu=new Map,this.mu=aa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function _6(t,e,n=!0){const r=AS(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await bS(r,e,n,!0),i}async function E6(t,e){const n=AS(t);await bS(n,e,!0,!1)}async function bS(t,e,n,r){const i=await B5(t.localStore,mr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await x6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&hS(t.remoteStore,i),a}async function x6(t,e,n,r,i){t.gu=(f,h,_)=>async function(v,b,x,y){let E=b.view.nu(x);E.Ds&&(E=await T1(v.localStore,b.query,!1).then(({documents:C})=>b.view.nu(C,E)));const P=y&&y.targetChanges.get(b.targetId),O=y&&y.targetMismatches.get(b.targetId)!=null,M=b.view.applyChanges(E,v.isPrimaryClient,P,O);return O1(v,b.targetId,M._u),M.snapshot}(t,f,h,_);const s=await T1(t.localStore,e,!0),o=new g6(e,s.qs),a=o.nu(s.documents),l=Pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);O1(t,n,u._u);const d=new v6(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function b6(t,e,n){const r=ce(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!$h(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ny(r.remoteStore,i.targetId),ig(r,i.targetId)}).catch(Ea)):(ig(r,i.targetId),await tg(r.localStore,i.targetId,!0))}async function T6(t,e){const n=ce(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ny(n.remoteStore,r.targetId))}async function I6(t,e,n){const r=N6(t);try{const i=await function(o,a){const l=ce(o),u=Ne.now(),d=a.reduce((_,T)=>_.add(T.key),we());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=Kr(),v=we();return l.Os.getEntries(_,d).next(b=>{T=b,T.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,T)).next(b=>{f=b;const x=[];for(const y of a){const E=BF(y,f.get(y.key).overlayedDocument);E!=null&&x.push(new os(y.key,E,kC(E.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,x,a)}).next(b=>{h=b;const x=b.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(_,b.batchId,x)})}).then(()=>({batchId:h.batchId,changes:BC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ru[o.currentUser.toKey()];u||(u=new Ye(fe)),u=u.insert(a,l),o.Ru[o.currentUser.toKey()]=u}(r,i.batchId,n),await Rc(r,i.changes),await Yh(r.remoteStore)}catch(i){const s=ay(i,"Failed to persist write");n.reject(s)}}async function TS(t,e){const n=ce(t);try{const r=await j5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?ke(o.lu,14607):i.removedDocuments.size>0&&(ke(o.lu,42227),o.lu=!1))}),await Rc(n,r,e)}catch(r){await Ea(r)}}function D1(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.wa)h.va(a)&&(u=!0)}),u&&ly(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C6(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Ye(ie.comparator);o=o.insert(s,Ut.newNoDocument(s,le.min()));const a=we().add(s),l=new qh(le.min(),new Map,new Ye(fe),o,a);await TS(r,l),r.du=r.du.remove(s),r.Eu.delete(e),uy(r)}else await tg(r.localStore,e,!1).then(()=>ig(r,e,n)).catch(Ea)}async function S6(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await V5(n.localStore,e);CS(n,r,null),IS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rc(n,i)}catch(i){await Ea(i)}}async function A6(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ke(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);CS(r,e,n),IS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rc(r,i)}catch(i){await Ea(i)}}function IS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function CS(t,e,n){const r=ce(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function ig(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||SS(t,r)})}function SS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ny(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),uy(t))}function O1(t,e,n){for(const r of n)r instanceof ES?(t.Au.addReference(r.key,e),P6(t,r)):r instanceof xS?(X(cy,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||SS(t,r.key)):oe(19791,{yu:r})}function P6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(X(cy,"New document in limbo: "+n),t.Iu.add(r),uy(t))}function uy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ie(Ve.fromString(e)),r=t.mu.next();t.Eu.set(r,new y6(n)),t.du=t.du.insert(n,r),hS(t.remoteStore,new Ti(mr(Gv(n.path)),r,"TargetPurposeLimboResolution",Uh.ue))}}async function Rc(t,e,n){const r=ce(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=ey.Es(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,u){const d=ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(u,h=>B.forEach(h.Is,_=>d.persistence.referenceDelegate.addReference(f,h.targetId,_)).next(()=>B.forEach(h.ds,_=>d.persistence.referenceDelegate.removeReference(f,h.targetId,_)))))}catch(f){if(!xa(f))throw f;X(ty,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const _=d.Fs.get(h),T=_.snapshotVersion,v=_.withLastLimboFreeSnapshotVersion(T);d.Fs=d.Fs.insert(h,v)}}}(r.localStore,s))}async function k6(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){X(cy,"User change. New user:",e.toKey());const r=await lS(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new Y(U.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rc(n,r.Bs)}}function R6(t,e){const n=ce(t),r=n.Eu.get(e);if(r&&r.lu)return we().add(r.key);{let i=we();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function AS(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C6.bind(null,e),e.hu.J_=p6.bind(null,e.eventManager),e.hu.pu=m6.bind(null,e.eventManager),e}function N6(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A6.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return L5(this.persistence,new D5,e.initialUser,this.serializer)}Du(e){return new aS(Zv.Vi,this.serializer)}bu(e){return new $5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class D6 extends nh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ke(this.persistence.referenceDelegate instanceof eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new y5(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new aS(r=>eh.Vi(r,n),this.serializer)}}class sg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k6.bind(null,this.syncEngine),await d6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f6}()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),r=function(s){return new K5(s)}(e.databaseInfo);return function(s,o,a,l){return new J5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new e6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>D1(this.syncEngine,n,0),function(){return S1.C()?new S1:new W5}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new w6(i,s,o,a,l,u);return d&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);X(Bs,"RemoteStore shutting down."),s.Ia.add(5),await kc(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sg.provider={build:()=>new sg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="FirestoreClient";class O6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{X(Xi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X(Xi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ay(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mp(t,e){t.asyncQueue.verifyOperationInProgress(),X(Xi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Hi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{X("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Hi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function M1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await M6(t);X(Xi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>P1(e.remoteStore,i)),t._onlineComponents=e}async function M6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Xi,"Using user provided OfflineComponentProvider");try{await mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Hi("Error using user provided cache. Falling back to memory cache: "+n),await mp(t,new nh)}}else X(Xi,"Using default OfflineComponentProvider"),await mp(t,new D6(void 0));return t._offlineComponents}async function kS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Xi,"Using user provided OnlineComponentProvider"),await M1(t,t._uninitializedComponentsProvider._online)):(X(Xi,"Using default OnlineComponentProvider"),await M1(t,new sg))),t._onlineComponents}function L6(t){return kS(t).then(e=>e.syncEngine)}async function RS(t){const e=await kS(t),n=e.eventManager;return n.onListen=_6.bind(null,e.syncEngine),n.onUnlisten=b6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=E6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T6.bind(null,e.syncEngine),n}function V6(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new PS({next:h=>{d.Ou(),o.enqueueAndForget(()=>wS(s,f));const _=h.docs.has(a);!_&&h.fromCache?u.reject(new Y(U.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&h.fromCache&&l&&l.source==="server"?u.reject(new Y(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new _S(Gv(a.path),d,{includeMetadataChanges:!0,ka:!0});return yS(s,f)}(await RS(t),t.asyncQueue,e,n,r)),r.promise}function j6(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new PS({next:h=>{d.Ou(),o.enqueueAndForget(()=>wS(s,f)),h.fromCache&&l.source==="server"?u.reject(new Y(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new _S(a,d,{includeMetadataChanges:!0,ka:!0});return yS(s,f)}(await RS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firestore.googleapis.com",V1=!0;class j1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DS,this.ssl=V1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:V1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g5)throw new Y(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new q3;switch(r.type){case"firstParty":return new X3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=L1.get(n);r&&(X("ComponentProvider","Removing Datastore"),L1.delete(n),r.terminate())}(this),Promise.resolve()}}function F6(t,e,n,r={}){var i;t=Kn(t,Xh);const s=va(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(xI(`https://${l}`),bI("Firestore",!0)),o.host!==DS&&o.host!==l&&Hi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Ls(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=jt.MOCK_USER;else{d=tV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Y(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jt(h)}t._authCredentials=new K3(new gC(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ta(this.firestore,e,this._query)}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cc(n,st._jsonSchema))return new st(e,r||null,new ie(Ve.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:dt("string",st._jsonSchemaVersion),referencePath:dt("string")};class ji extends Ta{constructor(e,n,r){super(e,n,Gv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new ie(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function gp(t,e,...n){if(t=Et(t),yC("collection","path",e),t instanceof Xh){const r=Ve.fromString(e,...n);return X_(r),new ji(t,null,r)}{if(!(t instanceof st||t instanceof ji))throw new Y(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return X_(r),new ji(t.firestore,null,r)}}function sr(t,e,...n){if(t=Et(t),arguments.length===1&&(e=Uv.newId()),yC("doc","path",e),t instanceof Xh){const r=Ve.fromString(e,...n);return Y_(r),new st(t,null,new ie(r))}{if(!(t instanceof st||t instanceof ji))throw new Y(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Y_(r),new st(t.firestore,t instanceof ji?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="AsyncQueue";class U1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new uS(this,"async_queue_retry"),this.oc=()=>{const r=pp();r&&X(F1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=pp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=pp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new jr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!xa(e))throw e;X(F1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,qr("INTERNAL UNHANDLED ERROR: ",B1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=oy.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&oe(47125,{hc:B1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function B1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ys extends Xh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new U1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U1(e),this._firestoreClient=void 0,await e}}}function U6(t,e){const n=typeof t=="object"?t:SI(),r=typeof t=="string"?t:qd,i=Av(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ZL("firestore");s&&F6(i,...s)}return i}function dy(t){if(t._terminated)throw new Y(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B6(t),t._firestoreClient}function B6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new fF(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new O6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(Pt.fromBase64String(e))}catch(n){throw new Y(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cn(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cc(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:dt("string",Cn._jsonSchemaVersion),bytes:dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(Cc(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:dt("string",vr._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cc(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new yr(e.vectorValues);throw new Y(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:dt("string",yr._jsonSchemaVersion),vectorValues:dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=/^__.*__$/;class $6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}class OS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ec:t})}}class fy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return rh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(MS(this.Ec)&&z6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class W6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kh(e)}Dc(e,n,r,i=!1){return new fy({Ec:e,methodName:n,bc:r,path:Ct.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(t){const e=t._freezeSettings(),n=Kh(t._databaseId);return new W6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LS(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);py("Data must be an object, but it was:",o,r);const a=VS(r,o);let l,u;if(s.merge)l=new pn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=og(e,f,n);if(!o.contains(h))throw new Y(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);FS(d,h)||d.push(h)}l=new pn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new $6(new tn(a),l,u)}class ef extends hy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function H6(t,e,n,r){const i=t.Dc(1,e,n);py("Data must be an object, but it was:",i,r);const s=[],o=tn.empty();ss(r,(l,u)=>{const d=my(e,l,n);u=Et(u);const f=i.gc(d);if(u instanceof ef)s.push(d);else{const h=Nc(u,f);h!=null&&(s.push(d),o.set(d,h))}});const a=new pn(s);return new OS(o,a,i.fieldTransforms)}function G6(t,e,n,r,i,s){const o=t.Dc(1,e,n),a=[og(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(og(e,s[h])),l.push(s[h+1]);const u=[],d=tn.empty();for(let h=a.length-1;h>=0;--h)if(!FS(u,a[h])){const _=a[h];let T=l[h];T=Et(T);const v=o.gc(_);if(T instanceof ef)u.push(_);else{const b=Nc(T,v);b!=null&&(u.push(_),d.set(_,b))}}const f=new pn(u);return new OS(d,f,o.fieldTransforms)}function q6(t,e,n,r=!1){return Nc(n,t.Dc(r?4:3,e))}function Nc(t,e){if(jS(t=Et(t)))return py("Unsupported field value:",e,t),VS(t,e);if(t instanceof hy)return function(r,i){if(!MS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Nc(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ne.fromDate(r);return{timestampValue:Zd(i.serializer,s)}}if(r instanceof Ne){const s=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zd(i.serializer,s)}}if(r instanceof vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cn)return{bytesValue:ZC(i.serializer,r._byteString)};if(r instanceof st){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yr)return function(o,a){return{mapValue:{fields:{[SC]:{stringValue:PC},[Kd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return qv(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Fh(r)}`)}(t,e)}function VS(t,e){const n={};return EC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(t,(r,i)=>{const s=Nc(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof vr||t instanceof Cn||t instanceof st||t instanceof hy||t instanceof yr)}function py(t,e,n){if(!jS(n)||!wC(n)){const r=Fh(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function og(t,e,n){if((e=Et(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return my(t,e);throw rh("Field path arguments must be of type string or ",t,!1,void 0,n)}const K6=new RegExp("[~\\*/\\[\\]]");function my(t,e,n){if(e.search(K6)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y(U.INVALID_ARGUMENT,a+t+l)}function FS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q6 extends US{data(){return super.data()}}function gy(t,e){return typeof e=="string"?my(t,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vy{}class X6 extends vy{}function z1(t,e,...n){let r=[];e instanceof vy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof yy).length,a=s.filter(l=>l instanceof tf).length;if(o>1||o>0&&a>0)throw new Y(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class tf extends X6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tf(e,n,r)}_apply(e){const n=this._parse(e);return BS(e._query,n),new Ta(e.firestore,e.converter,Qm(e._query,n))}_parse(e){const n=Zh(e.firestore);return function(s,o,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){H1(f,d);const T=[];for(const v of f)T.push(W1(l,s,v));h={arrayValue:{values:T}}}else h=W1(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||H1(f,d),h=q6(a,o,f,d==="in"||d==="not-in");return ut.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $1(t,e,n){const r=e,i=gy("where",t);return tf._create(i,r,n)}class yy extends vy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)BS(o,l),o=Qm(o,l)}(e._query,n),new Ta(e.firestore,e.converter,Qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W1(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new Y(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VC(e)&&n.indexOf("/")!==-1)throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!ie.isDocumentKey(r))throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s1(t,new ie(r))}if(n instanceof st)return s1(t,n._key);throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function H1(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class J6{convertValue(e,n="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ss(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Kd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>rt(o.doubleValue));return new yr(s)}convertGeoPoint(e){return new vr(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=qi(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);ke(sS(r),9688,{name:e});const i=new tc(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class As extends US{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=As._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:dt("string",As._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};class td extends As{data(e={}){return super.data(e)}}class Lo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new td(this._firestore,this._userDataWriter,r.key,r,new al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new td(i._firestore,i._userDataWriter,a.doc.key,a.doc,new al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new td(i._firestore,i._userDataWriter,a.doc.key,a.doc,new al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Z6(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){t=Kn(t,st);const e=Kn(t.firestore,Ys);return V6(dy(e),t._key).then(n=>t9(e,t,n))}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:dt("string",Lo._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};class $S extends J6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function G1(t){t=Kn(t,Ta);const e=Kn(t.firestore,Ys),n=dy(e),r=new $S(e);return Y6(t._query),j6(n,t._query).then(i=>new Lo(e,r,t,i))}function WS(t,e,n){t=Kn(t,st);const r=Kn(t.firestore,Ys),i=zS(t.converter,e);return nf(r,[LS(Zh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pn.none())])}function HS(t,e,n,...r){t=Kn(t,st);const i=Kn(t.firestore,Ys),s=Zh(i);let o;return o=typeof(e=Et(e))=="string"||e instanceof Jh?G6(s,"updateDoc",t._key,e,n,r):H6(s,"updateDoc",t._key,e),nf(i,[o.toMutation(t._key,Pn.exists(!0))])}function q1(t){return nf(Kn(t.firestore,Ys),[new Kv(t._key,Pn.none())])}function e9(t,e){const n=Kn(t.firestore,Ys),r=sr(t),i=zS(t.converter,e);return nf(n,[LS(Zh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function nf(t,e){return function(r,i){const s=new jr;return r.asyncQueue.enqueueAndForget(async()=>I6(await L6(r),i,s)),s.promise}(dy(t),e)}function t9(t,e,n){const r=n.docs.get(e._key),i=new $S(t);return new As(t,i,e._key,r,new al(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_a=i})(ya),ra(new Vs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ys(new Q3(r.getProvider("auth-internal")),new J3(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Li(H_,G_,e),Li(H_,G_,"esm2017")})();const n9={apiKey:"AIzaSyA4POYjU4SleOGZdRuZNRuUn_4KVL3nMgY",authDomain:"webnest-df2cc.firebaseapp.com",projectId:"webnest-df2cc",storageBucket:"webnest-df2cc.firebasestorage.app",messagingSenderId:"19116686866",appId:"1:19116686866:web:adaafbf3ec2beedc5162cb",measurementId:"G-FPV57YZ023"},GS=CI(n9),co=$3(GS),xn=U6(GS),wy=new Rr;wy.addScope("email");wy.addScope("profile");const qS=w.createContext({user:null,loading:!0}),r9=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(!0);return w.useEffect(()=>Rj(co,o=>{n(o),i(!1)}),[]),m.jsx(qS.Provider,{value:{user:e,loading:r},children:t})},_y=()=>{const t=w.useContext(qS);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},i9=Ih("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Le=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Os:"button";return m.jsx(o,{className:Ce(i9({variant:e,size:n,className:t})),ref:s,...i})});Le.displayName="Button";const tt=w.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:Ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));tt.displayName="Input";const lr=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));lr.displayName="Card";const cr=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Ce("flex flex-col space-y-1.5 p-6",t),...e}));cr.displayName="CardHeader";const ur=w.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:Ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));ur.displayName="CardTitle";const rf=w.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:Ce("text-sm text-muted-foreground",t),...e}));rf.displayName="CardDescription";const dr=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Ce("p-6 pt-0",t),...e}));dr.displayName="CardContent";const s9=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Ce("flex items-center p-6 pt-0",t),...e}));s9.displayName="CardFooter";const rd={async signInWithEmail(t,e){return await Aj(co,t,e)},async signUpWithEmail(t,e){return await Sj(co,t,e)},async signInWithGoogle(){return await Jj(co,wy)},async logout(){return await Nj(co)},getCurrentUser(){return co.currentUser}},o9=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),[o,a]=w.useState(!1),{toast:l}=hc(),u=async f=>{f.preventDefault(),a(!0);try{i?(await rd.signUpWithEmail(t,n),l({title:"Konto erstellt!",description:"Willkommen bei Webnest!"})):(await rd.signInWithEmail(t,n),l({title:"Angemeldet!",description:"Schön, dich wiederzusehen!"}))}catch(h){l({title:"Fehler",description:h.message||"Ein Fehler ist aufgetreten",variant:"destructive"})}finally{a(!1)}},d=async()=>{a(!0);try{await rd.signInWithGoogle(),l({title:"Mit Google angemeldet!",description:"Willkommen bei Webnest!"})}catch(f){l({title:"Fehler",description:f.message||"Google-Anmeldung fehlgeschlagen",variant:"destructive"})}finally{a(!1)}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 p-4",children:[m.jsx("div",{className:"absolute inset-0 bg-black/20"}),m.jsxs(lr,{className:"w-full max-w-md relative z-10 bg-white/90 backdrop-blur-sm shadow-2xl",children:[m.jsxs(cr,{className:"text-center",children:[m.jsx(ur,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Webnest"}),m.jsx(rf,{className:"text-gray-600",children:i?"Erstelle dein kostenloses Konto":"Melde dich in deinem Konto an"})]}),m.jsxs(dr,{className:"space-y-4",children:[m.jsxs("form",{onSubmit:u,className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(xN,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),m.jsx(tt,{type:"email",placeholder:"E-Mail-Adresse",value:t,onChange:f=>e(f.target.value),className:"pl-10",required:!0})]}),m.jsxs("div",{className:"relative",children:[m.jsx(_N,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),m.jsx(tt,{type:"password",placeholder:"Passwort",value:n,onChange:f=>r(f.target.value),className:"pl-10",required:!0})]}),m.jsx(Le,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:o,children:o?"Lädt...":i?"Registrieren":"Anmelden"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"bg-white px-2 text-muted-foreground",children:"oder"})})]}),m.jsxs(Le,{onClick:d,variant:"outline",className:"w-full",disabled:o,children:[m.jsx(mN,{className:"mr-2 h-4 w-4"}),"Mit Google anmelden"]}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:()=>s(!i),className:"text-sm text-blue-600 hover:underline",children:i?"Bereits ein Konto? Hier anmelden":"Noch kein Konto? Hier registrieren"})})]})]})]})},a9=Ih("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ey({className:t,variant:e,...n}){return m.jsx("div",{className:Ce(a9({variant:e}),t),...n})}const Vo={async createUserProfile(t,e,n){const r=new Date,i={uid:t,email:e,displayName:n,tokens:10,language:"de",darkMode:!1,customPaths:[],createdAt:r,updatedAt:r};return await WS(sr(xn,"users",t),{...i,createdAt:r,updatedAt:r}),i},async getUserProfile(t){var r,i;const e=sr(xn,"users",t),n=await nd(e);if(n.exists()){const s=n.data();return{...s,createdAt:((r=s.createdAt)==null?void 0:r.toDate())||new Date,updatedAt:((i=s.updatedAt)==null?void 0:i.toDate())||new Date}}return null},async updateUserProfile(t,e){const n=sr(xn,"users",t);await HS(n,{...e,updatedAt:new Date})},async deductTokens(t,e){const n=await this.getUserProfile(t);return!n||n.tokens<e?!1:(await this.updateUserProfile(t,{tokens:n.tokens-e}),!0)},async addTokens(t,e){const n=await this.getUserProfile(t);n&&await this.updateUserProfile(t,{tokens:n.tokens+e})}},pt={async createWebsite(t){if(!await Vo.deductTokens(t.userId,2))throw new Error("Nicht genügend Tokens");const n=new Date;return(await e9(gp(xn,"websites"),{...t,createdAt:Ne.fromDate(n),updatedAt:Ne.fromDate(n)})).id},async getWebsite(t){var r,i;const e=sr(xn,"websites",t),n=await nd(e);if(n.exists()){const s=n.data();return{id:n.id,...s,createdAt:((r=s.createdAt)==null?void 0:r.toDate())||new Date,updatedAt:((i=s.updatedAt)==null?void 0:i.toDate())||new Date}}return null},async getWebsiteByCustomPath(t){console.log("websiteService: getWebsiteByCustomPath called with:",t);const e=sr(xn,"userdns",t),n=await nd(e);if(console.log("websiteService: DNS lookup result - exists:",n.exists()),!n.exists())return console.log("websiteService: No DNS entry found for:",t),null;const i=n.data().websiteId;console.log("websiteService: Found DNS entry, websiteId:",i);const s=await this.getWebsite(i);return console.log("websiteService: Website lookup result:",s?"found":"not found"),s&&console.log("websiteService: Website isPublished:",s.isPublished),!s||!s.isPublished?null:s},async getUserWebsites(t){const e=z1(gp(xn,"websites"),$1("userId","==",t));return(await G1(e)).docs.map(i=>{var o,a;const s=i.data();return{id:i.id,...s,createdAt:((o=s.createdAt)==null?void 0:o.toDate())||new Date,updatedAt:((a=s.updatedAt)==null?void 0:a.toDate())||new Date}}).sort((i,s)=>s.createdAt.getTime()-i.createdAt.getTime())},async updateWebsite(t,e){const n=sr(xn,"websites",t);await HS(n,{...e,updatedAt:Ne.fromDate(new Date)})},async deleteWebsite(t){const e=await this.getWebsite(t);if(e){await Vo.addTokens(e.userId,1);const r=await this.getCustomPathForWebsite(t);if(r){const i=sr(xn,"userdns",r);await q1(i),console.log("Deleted DNS entry for custom path:",r)}}const n=sr(xn,"websites",t);await q1(n)},async setCustomPath(t,e){const n=await this.getWebsite(t);if(!n)throw new Error("Website nicht gefunden");const r=sr(xn,"userdns",e);if((await nd(r)).exists())throw new Error("Custom Path bereits vergeben");if(!await Vo.deductTokens(n.userId,5))throw new Error("Nicht genügend Tokens für Custom Path");await WS(r,{websiteId:t,userId:n.userId,createdAt:Ne.fromDate(new Date)})},async getCustomPathForWebsite(t){const e=z1(gp(xn,"userdns"),$1("websiteId","==",t)),n=await G1(e);return n.empty?null:n.docs[0].id},generateHTML(t){let e=`
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meine Website</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }
        .dark-mode {
            background-color: #1a1a1a;
            color: #ffffff;
        }
        .topbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 1rem;
        }
        .dark-mode .topbar {
            background: #2d2d2d;
        }
        .topbar-buttons {
            display: flex;
            gap: 0.5rem;
        }
        .youtube-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            margin: 1rem 0;
        }
        .youtube-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        input {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin: 4px 0;
        }
        .dark-mode input {
            background: #333;
            color: white;
            border-color: #555;
        }
        a {
            color: inherit;
            text-decoration: underline;
        }
        .dark-mode a {
            color: #6cb6ff;
        }
    </style>
</head>
<body>
    <script>
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        }
        
        // Load dark mode preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
        }
        
        function getYouTubeVideoId(url) {
            const regex = /(?:youtube.com/watch?v=|youtu.be/)([^&
?#]+)/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }
    <\/script>
`;return t.forEach(n=>{switch(n.type){case"text":e+=`    <p style="color: ${n.color}; font-size: ${n.fontSize}px;">${n.content||"Text"}</p>
`;break;case"button":const r=n.customJS?n.customJS:'alert("Button geklickt!")';e+=`    <button style="background-color: ${n.backgroundColor}; color: white;" onclick="${r}">${n.text||"Button"}</button>
`;break;case"image":e+=`    <img src="${n.src||"/placeholder.svg"}" alt="${n.alt||"Bild"}" style="max-width: 100%; height: auto; border-radius: 4px;">
`;break;case"input":e+=`    <input type="text" placeholder="${n.placeholder||"Eingabe..."}" style="width: 100%;">
`;break;case"link-text":e+=`    <p><a href="${n.url||"#"}" style="color: ${n.color}; font-size: ${n.fontSize}px;" target="_blank">${n.text||"Link Text"}</a></p>
`;break;case"youtube":const i=n.url?this.extractYouTubeVideoId(n.url):null;i?e+=`    <div class="youtube-container">
        <iframe src="https://www.youtube.com/embed/${i}" frameborder="0" allowfullscreen></iframe>
    </div>
`:e+=`    <div style="background: #f0f0f0; padding: 2rem; text-align: center; border-radius: 4px;">
        <p>YouTube Video nicht verfügbar</p>
        <p style="font-size: 12px; color: #666;">${n.url||"Keine URL"}</p>
    </div>
`;break;case"dark-toggle":e+=`    <button onclick="toggleDarkMode()" style="background-color: #333; color: white;">🌙 Dark Mode</button>
`;break;case"topbar":e+=`    <div class="topbar">
        <span style="font-weight: bold;">${n.label||"Navigation"}</span>
        <div class="topbar-buttons">`,(n.buttons||[]).forEach(s=>{const o=s.customJS||'alert("Button geklickt!")';e+=`            <button style="background-color: ${s.backgroundColor}; color: white;" onclick="${o}">${s.text}</button>
`}),e+=`        </div>
    </div>
`;break}}),e+=`
</body>
</html>`,btoa(e)},parseHTML(t){if(console.log("parseHTML: Starting to parse HTML content"),!t)return console.log("parseHTML: No htmlContent provided, returning empty array"),[];try{const e=atob(t);console.log("parseHTML: Decoded HTML length:",e.length),console.log("parseHTML: First 200 chars of decoded HTML:",e.substring(0,200));const i=new DOMParser().parseFromString(e,"text/html").body;if(!i)return console.log("parseHTML: No body element found in HTML"),[];console.log("parseHTML: Found body element with",i.children.length,"children");const s=[];let o=1;const a=(f,h)=>{const _=f.getAttribute("style");if(!_)return"";const T=_.match(new RegExp(`${h}:\\s*([^;]+)`));return T?T[1].trim():""},l=f=>{const h=/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/,_=f.match(h);return _?_[1]:null},u=f=>{f.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(y=>{const E=y;s.push({id:o.toString(),type:"text",content:E.textContent||"Heading",color:a(E,"color")||"#333333",fontSize:parseInt(a(E,"font-size"))||(E.tagName==="H1"?32:E.tagName==="H2"?28:E.tagName==="H3"?24:20)}),o++}),f.querySelectorAll("p").forEach(y=>{const E=y;E.closest("h1, h2, h3, h4, h5, h6")||(s.push({id:o.toString(),type:"text",content:E.textContent||"Text",color:a(E,"color")||"#333333",fontSize:parseInt(a(E,"font-size"))||16}),o++)}),f.querySelectorAll("button").forEach(y=>{var M;const E=y,P=E.getAttribute("onclick")||'alert("Button geklickt!")';((M=E.textContent)==null?void 0:M.includes("🌙"))||P.includes("toggleDarkMode")?s.push({id:o.toString(),type:"dark-toggle"}):s.push({id:o.toString(),type:"button",text:E.textContent||"Button",backgroundColor:a(E,"background-color")||"#667eea",customJS:P}),o++}),f.querySelectorAll("img").forEach(y=>{const E=y;s.push({id:o.toString(),type:"image",src:E.getAttribute("src")||"/placeholder.svg",alt:E.getAttribute("alt")||"Bild"}),o++}),f.querySelectorAll("input").forEach(y=>{const E=y;s.push({id:o.toString(),type:"input",placeholder:E.getAttribute("placeholder")||"Eingabe..."}),o++}),f.querySelectorAll("a").forEach(y=>{const E=y;E.closest("p")||(s.push({id:o.toString(),type:"link-text",text:E.textContent||"Link Text",url:E.getAttribute("href")||"#",color:a(E,"color")||"#667eea",fontSize:parseInt(a(E,"font-size"))||16}),o++)})};return e.includes("<section")||e.includes("<h1")||e.includes("<h2")?(console.log("parseHTML: Detected template HTML structure - converting to builder elements"),u(i),console.log("parseHTML: Converted template to elements:",s),s):(Array.from(i.children).forEach(f=>{var T,v,b,x;const h=f,_=h.tagName.toLowerCase();switch(console.log("parseHTML: Processing element:",_,"with content:",(T=h.textContent)==null?void 0:T.substring(0,50)),_){case"p":const y=h.querySelector("a");y?(console.log("parseHTML: Found link-text element"),s.push({id:o.toString(),type:"link-text",text:y.textContent||"Link Text",url:y.getAttribute("href")||"#",color:a(y,"color")||"#667eea",fontSize:parseInt(a(y,"font-size"))||16})):(console.log("parseHTML: Found text element"),s.push({id:o.toString(),type:"text",content:h.textContent||"Text",color:a(h,"color")||"#333333",fontSize:parseInt(a(h,"font-size"))||16})),o++;break;case"button":console.log("parseHTML: Found button element");const E=h.getAttribute("onclick")||'alert("Button geklickt!")';((v=h.textContent)==null?void 0:v.includes("🌙"))||E.includes("toggleDarkMode")?s.push({id:o.toString(),type:"dark-toggle"}):s.push({id:o.toString(),type:"button",text:h.textContent||"Button",backgroundColor:a(h,"background-color")||"#667eea",customJS:E}),o++;break;case"img":console.log("parseHTML: Found image element"),s.push({id:o.toString(),type:"image",src:h.getAttribute("src")||"/placeholder.svg",alt:h.getAttribute("alt")||"Bild"}),o++;break;case"input":console.log("parseHTML: Found input element"),s.push({id:o.toString(),type:"input",placeholder:h.getAttribute("placeholder")||"Eingabe..."}),o++;break;case"div":if(h.classList.contains("youtube-container")){console.log("parseHTML: Found YouTube container");const O=h.querySelector("iframe");if(O){const I=`https://www.youtube.com/watch?v=${((b=(O.getAttribute("src")||"").split("/").pop())==null?void 0:b.split("?")[0])||""}`;s.push({id:o.toString(),type:"youtube",url:I}),o++}}else if(h.classList.contains("topbar")){console.log("parseHTML: Found topbar element");const O=((x=h.querySelector("span"))==null?void 0:x.textContent)||"Navigation",M=[];h.querySelectorAll(".topbar-buttons button").forEach(I=>{M.push({text:I.textContent||"Button",backgroundColor:a(I,"background-color")||"#667eea",customJS:I.getAttribute("onclick")||'alert("Button geklickt!")'})}),s.push({id:o.toString(),type:"topbar",label:O,buttons:M}),o++}else console.log("parseHTML: Found div element but not recognized as special type");break;default:console.log("parseHTML: Unrecognized element type:",_);break}}),console.log("parseHTML: Final parsed elements:",s),s)}catch(e){return console.error("Error parsing HTML:",e),[]}},extractYouTubeVideoId(t){const e=/(?:youtube\.com\/(?:[^\/]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,n=t.match(e);return n?n[1]:null},generateTemplateHTML(t){const e={landing:`
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Willkommen - Landing Page</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; line-height: 1.6; color: #333; }
        .hero { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 100px 20px; text-align: center; }
        .hero h1 { font-size: 3em; margin-bottom: 1rem; }
        .hero p { font-size: 1.2em; margin-bottom: 2rem; }
        .btn { background: #ff6b6b; color: white; padding: 15px 30px; border: none; border-radius: 5px; font-size: 1.1em; cursor: pointer; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .features { padding: 80px 20px; background: #f8f9fa; }
        .features h2 { text-align: center; margin-bottom: 3rem; font-size: 2.5em; }
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .feature { background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); text-align: center; }
        .feature h3 { color: #667eea; margin-bottom: 1rem; }
    </style>
</head>
<body>
    <section class="hero">
        <div class="container">
            <h1>Willkommen zur Zukunft</h1>
            <p>Entdecken Sie unsere innovative Lösung für Ihr Unternehmen</p>
            <button class="btn" onclick="alert('Mehr erfahren!')">Jetzt starten</button>
        </div>
    </section>
    <section class="features">
        <div class="container">
            <h2>Unsere Vorteile</h2>
            <div class="feature-grid">
                <div class="feature">
                    <h3>🚀 Schnell</h3>
                    <p>Blitzschnelle Performance für optimale Nutzererfahrung</p>
                </div>
                <div class="feature">
                    <h3>🔒 Sicher</h3>
                    <p>Höchste Sicherheitsstandards für Ihre Daten</p>
                </div>
                <div class="feature">
                    <h3>💡 Innovativ</h3>
                    <p>Modernste Technologien für beste Ergebnisse</p>
                </div>
            </div>
        </div>
    </section>
</body>
</html>`,business:`
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ihr Unternehmen - Business Template</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; line-height: 1.6; color: #333; }
        header { background: #2c3e50; color: white; padding: 1rem 0; }
        nav { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .logo { font-size: 1.5em; font-weight: bold; }
        .nav-links { display: flex; list-style: none; gap: 2rem; }
        .nav-links a { color: white; text-decoration: none; }
        .hero { background: #34495e; color: white; padding: 80px 20px; text-align: center; }
        .hero h1 { font-size: 2.5em; margin-bottom: 1rem; }
        .services { padding: 80px 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .service-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 2rem; }
        .service { background: #ecf0f1; padding: 2rem; border-radius: 8px; text-align: center; }
        .contact { background: #3498db; color: white; padding: 60px 20px; text-align: center; }
        .btn { background: #e74c3c; color: white; padding: 12px 24px; border: none; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Ihr Unternehmen</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#contact">Kontakt</a></li>
            </ul>
        </nav>
    </header>
    <section class="hero">
        <div class="container">
            <h1>Professionelle Lösungen</h1>
            <p>Wir helfen Ihrem Unternehmen beim Wachstum</p>
        </div>
    </section>
    <section class="services">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 2rem;">Unsere Services</h2>
            <div class="service-grid">
                <div class="service">
                    <h3>Beratung</h3>
                    <p>Strategische Unternehmensberatung für nachhaltiges Wachstum</p>
                </div>
                <div class="service">
                    <h3>Entwicklung</h3>
                    <p>Maßgeschneiderte Softwarelösungen für Ihr Business</p>
                </div>
                <div class="service">
                    <h3>Support</h3>
                    <p>24/7 Support für alle Ihre technischen Anfragen</p>
                </div>
            </div>
        </div>
    </section>
    <section class="contact">
        <div class="container">
            <h2>Kontaktieren Sie uns</h2>
            <p>Bereit für den nächsten Schritt? Lassen Sie uns sprechen!</p>
            <button class="btn" onclick="alert('Kontakt aufnehmen!')">Jetzt Kontakt</button>
        </div>
    </section>
</body>
</html>`,portfolio:`
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mein Portfolio</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; line-height: 1.6; color: #333; }
        .hero { background: linear-gradient(45deg, #ff6b6b, #4ecdc4); color: white; padding: 100px 20px; text-align: center; }
        .hero h1 { font-size: 3em; margin-bottom: 1rem; }
        .hero p { font-size: 1.2em; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .about { padding: 80px 20px; background: #f8f9fa; }
        .about-content { display: grid; grid-template-columns: 1fr 2fr; gap: 3rem; align-items: center; }
        .profile-img { width: 200px; height: 200px; border-radius: 50%; background: #ddd; }
        .projects { padding: 80px 20px; }
        .project-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem; }
        .project { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .project-img { height: 200px; background: #667eea; }
        .project-content { padding: 1.5rem; }
        .skills { background: #2c3e50; color: white; padding: 60px 20px; text-align: center; }
        .skill-list { display: flex; justify-content: center; gap: 2rem; margin-top: 2rem; flex-wrap: wrap; }
        .skill { background: #34495e; padding: 10px 20px; border-radius: 20px; }
    </style>
</head>
<body>
    <section class="hero">
        <div class="container">
            <h1>Max Mustermann</h1>
            <p>Webentwickler & Designer</p>
        </div>
    </section>
    <section class="about">
        <div class="container">
            <div class="about-content">
                <div class="profile-img"></div>
                <div>
                    <h2>Über mich</h2>
                    <p>Ich bin ein leidenschaftlicher Webentwickler mit über 5 Jahren Erfahrung in der Entwicklung moderner Webanwendungen. Meine Spezialität liegt in der Verbindung von ansprechendem Design und funktionaler Programmierung.</p>
                </div>
            </div>
        </div>
    </section>
    <section class="projects">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 2rem;">Meine Projekte</h2>
            <div class="project-grid">
                <div class="project">
                    <div class="project-img"></div>
                    <div class="project-content">
                        <h3>E-Commerce Platform</h3>
                        <p>Vollständige Online-Shop-Lösung mit React und Node.js</p>
                    </div>
                </div>
                <div class="project">
                    <div class="project-img"></div>
                    <div class="project-content">
                        <h3>Mobile App Design</h3>
                        <p>UI/UX Design für eine innovative Fitness-App</p>
                    </div>
                </div>
                <div class="project">
                    <div class="project-img"></div>
                    <div class="project-content">
                        <h3>Corporate Website</h3>
                        <p>Responsive Unternehmenswebsite mit CMS</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="skills">
        <div class="container">
            <h2>Meine Skills</h2>
            <div class="skill-list">
                <div class="skill">JavaScript</div>
                <div class="skill">React</div>
                <div class="skill">Node.js</div>
                <div class="skill">CSS/SASS</div>
                <div class="skill">MongoDB</div>
                <div class="skill">UI/UX Design</div>
            </div>
        </div>
    </section>
</body>
</html>`,shop:`
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Shop</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; line-height: 1.6; color: #333; }
        header { background: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); padding: 1rem 0; }
        nav { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .logo { font-size: 1.8em; font-weight: bold; color: #e74c3c; }
        .nav-links { display: flex; list-style: none; gap: 2rem; }
        .nav-links a { color: #333; text-decoration: none; }
        .hero { background: #f8f9fa; padding: 60px 20px; text-align: center; }
        .hero h1 { font-size: 2.5em; margin-bottom: 1rem; color: #2c3e50; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .products { padding: 80px 20px; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 2rem; }
        .product { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: transform 0.3s; }
        .product:hover { transform: translateY(-5px); }
        .product-img { height: 200px; background: linear-gradient(45deg, #3498db, #2ecc71); }
        .product-content { padding: 1.5rem; }
        .product h3 { margin-bottom: 0.5rem; }
        .price { font-size: 1.2em; font-weight: bold; color: #e74c3c; margin: 0.5rem 0; }
        .btn { background: #e74c3c; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; width: 100%; }
        .btn:hover { background: #c0392b; }
        .features { background: #2c3e50; color: white; padding: 60px 20px; text-align: center; }
        .feature-list { display: flex; justify-content: center; gap: 3rem; margin-top: 2rem; flex-wrap: wrap; }
        .feature-item { display: flex; flex-direction: column; align-items: center; }
        .feature-icon { font-size: 2em; margin-bottom: 1rem; }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">ShopName</div>
            <ul class="nav-links">
                <li><a href="#products">Produkte</a></li>
                <li><a href="#about">Über uns</a></li>
                <li><a href="#contact">Kontakt</a></li>
                <li><a href="#cart">🛒 Warenkorb</a></li>
            </ul>
        </nav>
    </header>
    <section class="hero">
        <div class="container">
            <h1>Willkommen in unserem Shop</h1>
            <p>Entdecken Sie unsere hochwertigen Produkte zu unschlagbaren Preisen</p>
        </div>
    </section>
    <section class="products">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 2rem;">Unsere Bestseller</h2>
            <div class="product-grid">
                <div class="product">
                    <div class="product-img"></div>
                    <div class="product-content">
                        <h3>Premium Produkt 1</h3>
                        <p>Hochwertige Qualität für den täglichen Gebrauch</p>
                        <div class="price">€49,99</div>
                        <button class="btn" onclick="alert('Produkt zum Warenkorb hinzugefügt!')">In den Warenkorb</button>
                    </div>
                </div>
                <div class="product">
                    <div class="product-img"></div>
                    <div class="product-content">
                        <h3>Bestseller Artikel</h3>
                        <p>Unser meistverkauftes Produkt mit Top-Bewertungen</p>
                        <div class="price">€79,99</div>
                        <button class="btn" onclick="alert('Produkt zum Warenkorb hinzugefügt!')">In den Warenkorb</button>
                    </div>
                </div>
                <div class="product">
                    <div class="product-img"></div>
                    <div class="product-content">
                        <h3>Limitierte Edition</h3>
                        <p>Exklusives Design in begrenzter Auflage</p>
                        <div class="price">€129,99</div>
                        <button class="btn" onclick="alert('Produkt zum Warenkorb hinzugefügt!')">In den Warenkorb</button>
                    </div>
                </div>
                <div class="product">
                    <div class="product-img"></div>
                    <div class="product-content">
                        <h3>Eco-Friendly Option</h3>
                        <p>Nachhaltig produziert für umweltbewusste Kunden</p>
                        <div class="price">€39,99</div>
                        <button class="btn" onclick="alert('Produkt zum Warenkorb hinzugefügt!')">In den Warenkorb</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="features">
        <div class="container">
            <h2>Warum bei uns kaufen?</h2>
            <div class="feature-list">
                <div class="feature-item">
                    <div class="feature-icon">🚚</div>
                    <h3>Kostenloser Versand</h3>
                    <p>Ab 50€ Bestellwert</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">🔒</div>
                    <h3>Sicher bezahlen</h3>
                    <p>SSL-verschlüsselt</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">↩️</div>
                    <h3>30 Tage Rückgabe</h3>
                    <p>Ohne Wenn und Aber</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">⭐</div>
                    <h3>Top Bewertungen</h3>
                    <p>4.8/5 Sterne</p>
                </div>
            </div>
        </div>
    </section>
</body>
</html>`,blank:`
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neue Website</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #ffffff;
            color: #333333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Willkommen auf Ihrer neuen Website!</h1>
        <p>Beginnen Sie hier mit der Gestaltung Ihrer Website.</p>
    </div>
</body>
</html>`},n=e[t];return btoa(n||e.blank)},testParseHTML(){const t="CjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJkZSI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgogICAgPHRpdGxlPk1laW5lIFdlYnNpdGU8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIGJvZHkgewogICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzLCBjb2xvciAwLjNzOwogICAgICAgIH0KICAgICAgICAuZGFyay1tb2RlIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzFhMWExYTsKICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgfQogICAgICAgIC50b3BiYXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIHBhZGRpbmc6IDFyZW07CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTsKICAgICAgICB9CiAgICAgICAgLmRhcmstbW9kZSAudG9wYmFyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzJkMmQyZDsKICAgICAgICB9CiAgICAgICAgLnRvcGJhci1idXR0b25zIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZ2FwOiAwLjVyZW07CiAgICAgICAgfQogICAgICAgIC55b3V0dWJlLWNvbnRhaW5lciB7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMDsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDU2LjI1JTsKICAgICAgICAgICAgbWFyZ2luOiAxcmVtIDA7CiAgICAgICAgfQogICAgICAgIC55b3V0dWJlLWNvbnRhaW5lciBpZnJhbWUgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICB9CiAgICAgICAgYnV0dG9uIHsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICB9CiAgICAgICAgaW5wdXQgewogICAgICAgICAgICBwYWRkaW5nOiA4cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgbWFyZ2luOiA0cHggMDsKICAgICAgICB9CiAgICAgICAgLmRhcmstbW9kZSBpbnB1dCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMzMzM7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjNTU1OwogICAgICAgIH0KICAgICAgICBhIHsKICAgICAgICAgICAgY29sb3I6IGluaGVyaXQ7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogICAgICAgIH0KICAgICAgICAuZGFyay1tb2RlIGEgewogICAgICAgICAgICBjb2xvcjogIzZjYjZmZjsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPHNjcmlwdD4KICAgICAgICBmdW5jdGlvbiB0b2dnbGVEYXJrTW9kZSgpIHsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrLW1vZGUnKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RhcmtNb2RlJywgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmstbW9kZScpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gTG9hZCBkYXJrIG1vZGUgcHJlZmVyZW5jZQogICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGFya01vZGUnKSA9PT0gJ3RydWUnKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZGFyay1tb2RlJyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGdldFlvdVR1YmVWaWRlb0lkKHVybCkgewogICAgICAgICAgICBjb25zdCByZWdleCA9IC8oPzp5b3V0dWJlLmNvbS93YXRjaD92PXx5b3V0dS5iZS8pKFteJGo/I10rKS87CiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKHJlZ2V4KTsKICAgICAgICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiBudWxsOwogICAgICAgIH0KICAgIDwvc2NyaXB0PgogICAgPHAgc3R5bGU9ImNvbG9yOiAjMzMzMzMzOyBmb250LXNpemU6IDE2cHg7Ij5IYWxsbywgaWNoIGJpbiBlczwvcD4KCjwvYm9keT4KPC9odG1sPg==";console.log("=== TESTING PARSE HTML ===");const e=this.parseHTML(t);return console.log("Test result:",e),console.log("=== END TEST ==="),e}},KS=()=>{const{user:t}=_y(),[e,n]=w.useState(null),[r,i]=w.useState(!0);w.useEffect(()=>{s()},[t]);const s=async()=>{if(!t){n(null),i(!1);return}try{let l=await Vo.getUserProfile(t.uid);l||(l=await Vo.createUserProfile(t.uid,t.email||"",t.displayName||void 0)),n(l)}catch(l){console.error("Error loading user profile:",l)}finally{i(!1)}};return{profile:e,loading:r,updateProfile:async l=>{if(!(!t||!e))try{await Vo.updateUserProfile(t.uid,l),n({...e,...l})}catch(u){console.error("Error updating profile:",u)}},refreshProfile:()=>{s()}}};var vp="focusScope.autoFocusOnMount",yp="focusScope.autoFocusOnUnmount",K1={bubbles:!1,cancelable:!0},l9="FocusScope",xy=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=w.useState(null),u=yn(i),d=yn(s),f=w.useRef(null),h=Fe(e,v=>l(v)),_=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let v=function(E){if(_.paused||!a)return;const P=E.target;a.contains(P)?f.current=P:li(f.current,{select:!0})},b=function(E){if(_.paused||!a)return;const P=E.relatedTarget;P!==null&&(a.contains(P)||li(f.current,{select:!0}))},x=function(E){if(document.activeElement===document.body)for(const O of E)O.removedNodes.length>0&&li(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),y.disconnect()}}},[r,a,_.paused]),w.useEffect(()=>{if(a){Y1.add(_);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(vp,K1);a.addEventListener(vp,u),a.dispatchEvent(x),x.defaultPrevented||(c9(p9(QS(a)),{select:!0}),document.activeElement===v&&li(a))}return()=>{a.removeEventListener(vp,u),setTimeout(()=>{const x=new CustomEvent(yp,K1);a.addEventListener(yp,d),a.dispatchEvent(x),x.defaultPrevented||li(v??document.body,{select:!0}),a.removeEventListener(yp,d),Y1.remove(_)},0)}}},[a,u,d,_]);const T=w.useCallback(v=>{if(!n&&!r||_.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const y=v.currentTarget,[E,P]=u9(y);E&&P?!v.shiftKey&&x===P?(v.preventDefault(),n&&li(E,{select:!0})):v.shiftKey&&x===E&&(v.preventDefault(),n&&li(P,{select:!0})):x===y&&v.preventDefault()}},[n,r,_.paused]);return m.jsx(xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:T})});xy.displayName=l9;function c9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(li(r,{select:e}),document.activeElement!==n)return}function u9(t){const e=QS(t),n=Q1(e,t),r=Q1(e.reverse(),t);return[n,r]}function QS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Q1(t,e){for(const n of t)if(!d9(n,{upTo:e}))return n}function d9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function h9(t){return t instanceof HTMLInputElement&&"select"in t}function li(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&h9(t)&&e&&t.select()}}var Y1=f9();function f9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=X1(t,e),t.unshift(e)},remove(e){var n;t=X1(t,e),(n=t[0])==null||n.resume()}}}function X1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function p9(t){return t.filter(e=>e.tagName!=="A")}var wp=0;function YS(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??J1()),document.body.insertAdjacentElement("beforeend",t[1]??J1()),wp++,()=>{wp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wp--}},[])}function J1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var id="right-scroll-bar-position",sd="width-before-scroll-bar",m9="with-scroll-bars-hidden",g9="--removed-body-scroll-bar-size";function _p(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function v9(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var y9=typeof window<"u"?w.useLayoutEffect:w.useEffect,Z1=new WeakMap;function w9(t,e){var n=v9(null,function(r){return t.forEach(function(i){return _p(i,r)})});return y9(function(){var r=Z1.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||_p(a,null)}),s.forEach(function(a){i.has(a)||_p(a,o)})}Z1.set(n,t)},[t]),n}function _9(t){return t}function E9(t,e){e===void 0&&(e=_9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function x9(t){t===void 0&&(t={});var e=E9(null);return e.options=ar({async:!0,ssr:!1},t),e}var XS=function(t){var e=t.sideCar,n=Ec(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ar({},n))};XS.isSideCarExport=!0;function b9(t,e){return t.useMedium(e),XS}var JS=x9(),Ep=function(){},sf=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Ep,onWheelCapture:Ep,onTouchMoveCapture:Ep}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,_=t.noIsolation,T=t.inert,v=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,y=t.gapMode,E=Ec(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=h,O=w9([n,e]),M=ar(ar({},E),i);return w.createElement(w.Fragment,null,d&&w.createElement(P,{sideCar:JS,removeScrollBar:u,shards:f,noIsolation:_,inert:T,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?w.cloneElement(w.Children.only(a),ar(ar({},M),{ref:O})):w.createElement(x,ar({},M,{className:l,ref:O}),a))});sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sf.classNames={fullWidth:sd,zeroRight:id};var T9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=T9();return e&&t.setAttribute("nonce",e),t}function C9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function S9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var A9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=I9())&&(C9(e,n),S9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},P9=function(){var t=A9();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ZS=function(){var t=P9(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},k9={left:0,top:0,right:0,gap:0},xp=function(t){return parseInt(t||"",10)||0},R9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[xp(n),xp(r),xp(i)]},N9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return k9;var e=R9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},D9=ZS(),jo="data-scroll-locked",O9=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(m9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(jo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(id,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(id," .").concat(id,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sd," .").concat(sd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jo,`] {
    `).concat(g9,": ").concat(a,`px;
  }
`)},eE=function(){var t=parseInt(document.body.getAttribute(jo)||"0",10);return isFinite(t)?t:0},M9=function(){w.useEffect(function(){return document.body.setAttribute(jo,(eE()+1).toString()),function(){var t=eE()-1;t<=0?document.body.removeAttribute(jo):document.body.setAttribute(jo,t.toString())}},[])},L9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;M9();var s=w.useMemo(function(){return N9(i)},[i]);return w.createElement(D9,{styles:O9(s,!e,i,n?"":"!important")})},ag=!1;if(typeof window<"u")try{var Cu=Object.defineProperty({},"passive",{get:function(){return ag=!0,!0}});window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{ag=!1}var no=ag?{passive:!1}:!1,V9=function(t){return t.tagName==="TEXTAREA"},eA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!V9(t)&&n[e]==="visible")},j9=function(t){return eA(t,"overflowY")},F9=function(t){return eA(t,"overflowX")},tE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=tA(t,r);if(i){var s=nA(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},U9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},B9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},tA=function(t,e){return t==="v"?j9(e):F9(e)},nA=function(t,e){return t==="v"?U9(e):B9(e)},z9=function(t,e){return t==="h"&&e==="rtl"?-1:1},$9=function(t,e,n,r,i){var s=z9(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,h=0;do{var _=nA(t,a),T=_[0],v=_[1],b=_[2],x=v-b-s*T;(T||x)&&tA(t,a)&&(f+=x,h+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},Su=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nE=function(t){return[t.deltaX,t.deltaY]},rE=function(t){return t&&"current"in t?t.current:t},W9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},H9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},G9=0,ro=[];function q9(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(G9++)[0],s=w.useState(ZS)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=A4([t.lockRef.current],(t.shards||[]).map(rE),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Su(v),y=n.current,E="deltaX"in v?v.deltaX:y[0]-x[0],P="deltaY"in v?v.deltaY:y[1]-x[1],O,M=v.target,C=Math.abs(E)>Math.abs(P)?"h":"v";if("touches"in v&&C==="h"&&M.type==="range")return!1;var I=tE(C,M);if(!I)return!0;if(I?O=C:(O=C==="v"?"h":"v",I=tE(C,M)),!I)return!1;if(!r.current&&"changedTouches"in v&&(E||P)&&(r.current=O),!O)return!0;var A=r.current||O;return $9(A,b,v,A==="h"?E:P,!0)},[]),l=w.useCallback(function(v){var b=v;if(!(!ro.length||ro[ro.length-1]!==s)){var x="deltaY"in b?nE(b):Su(b),y=e.current.filter(function(O){return O.name===b.type&&(O.target===b.target||b.target===O.shadowParent)&&W9(O.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var E=(o.current.shards||[]).map(rE).filter(Boolean).filter(function(O){return O.contains(b.target)}),P=E.length>0?a(b,E[0]):!o.current.noIsolation;P&&b.cancelable&&b.preventDefault()}}},[]),u=w.useCallback(function(v,b,x,y){var E={name:v,delta:b,target:x,should:y,shadowParent:K9(x)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(P){return P!==E})},1)},[]),d=w.useCallback(function(v){n.current=Su(v),r.current=void 0},[]),f=w.useCallback(function(v){u(v.type,nE(v),v.target,a(v,t.lockRef.current))},[]),h=w.useCallback(function(v){u(v.type,Su(v),v.target,a(v,t.lockRef.current))},[]);w.useEffect(function(){return ro.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,no),document.addEventListener("touchmove",l,no),document.addEventListener("touchstart",d,no),function(){ro=ro.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,no),document.removeEventListener("touchmove",l,no),document.removeEventListener("touchstart",d,no)}},[]);var _=t.removeScrollBar,T=t.inert;return w.createElement(w.Fragment,null,T?w.createElement(s,{styles:H9(i)}):null,_?w.createElement(L9,{gapMode:t.gapMode}):null)}function K9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Q9=b9(JS,q9);var by=w.forwardRef(function(t,e){return w.createElement(sf,ar({},t,{ref:e,sideCar:Q9}))});by.classNames=sf.classNames;var Y9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},io=new WeakMap,Au=new WeakMap,Pu={},bp=0,rA=function(t){return t&&(t.host||rA(t.parentNode))},X9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=rA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},J9=function(t,e,n,r){var i=X9(e,Array.isArray(t)?t:[t]);Pu[n]||(Pu[n]=new WeakMap);var s=Pu[n],o=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var _=h.getAttribute(r),T=_!==null&&_!=="false",v=(io.get(h)||0)+1,b=(s.get(h)||0)+1;io.set(h,v),s.set(h,b),o.push(h),v===1&&T&&Au.set(h,!0),b===1&&h.setAttribute(n,"true"),T||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),bp++,function(){o.forEach(function(f){var h=io.get(f)-1,_=s.get(f)-1;io.set(f,h),s.set(f,_),h||(Au.has(f)||f.removeAttribute(r),Au.delete(f)),_||f.removeAttribute(n)}),bp--,bp||(io=new WeakMap,io=new WeakMap,Au=new WeakMap,Pu={})}},iA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Y9(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),J9(r,i,n,"aria-hidden")):function(){return null}},Ty="Dialog",[sA,_B]=fc(Ty),[Z9,Yn]=sA(Ty),oA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=w.useRef(null),l=w.useRef(null),[u=!1,d]=zl({prop:r,defaultProp:i,onChange:s});return m.jsx(Z9,{scope:e,triggerRef:a,contentRef:l,contentId:ko(),titleId:ko(),descriptionId:ko(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};oA.displayName=Ty;var aA="DialogTrigger",eU=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Yn(aA,n),s=Fe(e,i.triggerRef);return m.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Sy(i.open),...r,ref:s,onClick:ue(t.onClick,i.onOpenToggle)})});eU.displayName=aA;var Iy="DialogPortal",[tU,lA]=sA(Iy,{forceMount:void 0}),cA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Yn(Iy,e);return m.jsx(tU,{scope:e,forceMount:n,children:w.Children.map(r,o=>m.jsx(ha,{present:n||s.open,children:m.jsx(xh,{asChild:!0,container:i,children:o})}))})};cA.displayName=Iy;var ih="DialogOverlay",uA=w.forwardRef((t,e)=>{const n=lA(ih,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Yn(ih,t.__scopeDialog);return s.modal?m.jsx(ha,{present:r||s.open,children:m.jsx(nU,{...i,ref:e})}):null});uA.displayName=ih;var nU=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Yn(ih,n);return m.jsx(by,{as:Os,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(xe.div,{"data-state":Sy(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),zs="DialogContent",dA=w.forwardRef((t,e)=>{const n=lA(zs,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Yn(zs,t.__scopeDialog);return m.jsx(ha,{present:r||s.open,children:s.modal?m.jsx(rU,{...i,ref:e}):m.jsx(iU,{...i,ref:e})})});dA.displayName=zs;var rU=w.forwardRef((t,e)=>{const n=Yn(zs,t.__scopeDialog),r=w.useRef(null),i=Fe(e,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return iA(s)},[]),m.jsx(hA,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,s=>s.preventDefault())})}),iU=w.forwardRef((t,e)=>{const n=Yn(zs,t.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return m.jsx(hA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),hA=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Yn(zs,n),l=w.useRef(null),u=Fe(e,l);return YS(),m.jsxs(m.Fragment,{children:[m.jsx(xy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(pc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Sy(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(sU,{titleId:a.titleId}),m.jsx(aU,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Cy="DialogTitle",fA=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Yn(Cy,n);return m.jsx(xe.h2,{id:i.titleId,...r,ref:e})});fA.displayName=Cy;var pA="DialogDescription",mA=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Yn(pA,n);return m.jsx(xe.p,{id:i.descriptionId,...r,ref:e})});mA.displayName=pA;var gA="DialogClose",vA=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Yn(gA,n);return m.jsx(xe.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>i.onOpenChange(!1))})});vA.displayName=gA;function Sy(t){return t?"open":"closed"}var yA="DialogTitleWarning",[EB,wA]=C2(yA,{contentName:zs,titleName:Cy,docsSlug:"dialog"}),sU=({titleId:t})=>{const e=wA(yA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},oU="DialogDescriptionWarning",aU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wA(oU).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},lU=oA,cU=cA,_A=uA,EA=dA,xA=fA,bA=mA,uU=vA;const TA=lU,dU=cU,IA=w.forwardRef(({className:t,...e},n)=>m.jsx(_A,{ref:n,className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));IA.displayName=_A.displayName;const Ay=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(dU,{children:[m.jsx(IA,{}),m.jsxs(EA,{ref:r,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(uU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(uT,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ay.displayName=EA.displayName;const Py=({className:t,...e})=>m.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Py.displayName="DialogHeader";const ky=w.forwardRef(({className:t,...e},n)=>m.jsx(xA,{ref:n,className:Ce("text-lg font-semibold leading-none tracking-tight",t),...e}));ky.displayName=xA.displayName;const Ry=w.forwardRef(({className:t,...e},n)=>m.jsx(bA,{ref:n,className:Ce("text-sm text-muted-foreground",t),...e}));Ry.displayName=bA.displayName;const hU=[{id:"blank",name:"Leere Website",description:"Starte komplett von vorne",icon:Em,preview:"Eine leere weiße Seite zum freien Gestalten"},{id:"landing",name:"Landing Page",description:"Perfekt für Produktvorstellungen und Marketing",icon:CN,preview:"Hero-Section mit Call-to-Action, Produktbild und modernem Design"},{id:"business",name:"Business Website",description:"Professionelle Unternehmenswebsite",icon:hN,preview:"Klassisches Business-Layout mit Services und Kontaktmöglichkeiten"},{id:"portfolio",name:"Portfolio",description:"Zeige deine Arbeiten und Projekte",icon:cT,preview:"Kreatives Portfolio-Design für Designer und Entwickler mit Projektbeispielen"},{id:"shop",name:"Online Shop",description:"E-Commerce Website für Produkte",icon:PN,preview:"Shop-Layout mit Produktgalerie, Preisen und Newsletter-Anmeldung"}],fU=({onSelectTemplate:t,onBack:e})=>{const[n,r]=w.useState(null),[i,s]=w.useState(""),[o,a]=w.useState(!1),l=d=>{r(d),s(""),a(!0)},u=()=>{n&&i.trim()&&(t(n.id,i.trim()),a(!1))};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100",children:m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsxs("div",{className:"flex items-center mb-8",children:[m.jsx(Le,{onClick:e,variant:"ghost",className:"mr-4",children:m.jsx(dv,{className:"h-4 w-4"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Template auswählen"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Starte mit einem professionellen Design oder einer leeren Seite"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:hU.map(d=>{const f=d.icon,h=d.id==="blank";return m.jsxs(lr,{className:`bg-white/80 backdrop-blur-sm hover:shadow-xl transition-all cursor-pointer hover:scale-105 ${h?"border-2 border-dashed border-gray-300":""}`,onClick:()=>l(d),children:[m.jsxs(cr,{className:"text-center",children:[m.jsx("div",{className:`mx-auto w-16 h-16 ${h?"bg-gray-100 border-2 border-dashed border-gray-300":"bg-gradient-to-br from-purple-500 to-pink-500"} rounded-full flex items-center justify-center mb-4`,children:m.jsx(f,{className:`h-8 w-8 ${h?"text-gray-400":"text-white"}`})}),m.jsx(ur,{className:"text-xl",children:d.name}),m.jsx(rf,{children:d.description})]}),m.jsx(dr,{children:m.jsx("div",{className:`${h?"bg-white border-2 border-dashed border-gray-200":"bg-gray-100"} rounded-lg p-4 h-32 flex items-center justify-center text-center text-sm text-gray-600`,children:d.preview})})]},d.id)})}),m.jsx(TA,{open:o,onOpenChange:a,children:m.jsxs(Ay,{children:[m.jsxs(Py,{children:[m.jsx(ky,{children:"Neues Projekt erstellen"}),m.jsxs(Ry,{children:["Gib deinem Projekt einen Namen um mit dem ",n==null?void 0:n.name," zu starten."]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(tt,{placeholder:"z.B. Meine Awesome Website",value:i,onChange:d=>s(d.target.value),autoFocus:!0}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Le,{onClick:()=>a(!1),variant:"outline",className:"flex-1",children:"Abbrechen"}),m.jsx(Le,{onClick:u,disabled:!i.trim(),className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-600",children:"Projekt erstellen"})]})]})]})})]})})};var pU="Label",CA=w.forwardRef((t,e)=>m.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));CA.displayName=pU;var SA=CA;const mU=Ih("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),et=w.forwardRef(({className:t,...e},n)=>m.jsx(SA,{ref:n,className:Ce(mU(),t),...e}));et.displayName=SA.displayName;const od=w.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:Ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));od.displayName="Textarea";const gU=({element:t,onUpdate:e,onDelete:n})=>{const r=()=>{const a=t.buttons||[];a.length<5&&e({buttons:[...a,{text:"Button",backgroundColor:"#667eea"}]})},i=a=>{const l=t.buttons||[];e({buttons:l.filter((u,d)=>d!==a)})},s=(a,l)=>{const d=[...t.buttons||[]];d[a]={...d[a],...l},e({buttons:d})},o=()=>{switch(t.type){case"text":return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(et,{htmlFor:"content",children:"Text Inhalt"}),m.jsx(od,{id:"content",value:t.content||"",onChange:a=>e({content:a.target.value}),placeholder:"Text eingeben..."})]}),m.jsxs("div",{children:[m.jsx(et,{htmlFor:"color",children:"Textfarbe"}),m.jsx(tt,{id:"color",type:"color",value:t.color||"#333333",onChange:a=>e({color:a.target.value})})]}),m.jsxs("div",{children:[m.jsx(et,{htmlFor:"fontSize",children:"Schriftgröße (px)"}),m.jsx(tt,{id:"fontSize",type:"number",value:t.fontSize||16,onChange:a=>e({fontSize:parseInt(a.target.value)}),min:"8",max:"72"})]})]});case"button":return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(et,{htmlFor:"text",children:"Button Text"}),m.jsx(tt,{id:"text",value:t.text||"",onChange:a=>e({text:a.target.value}),placeholder:"Button Text..."})]}),m.jsxs("div",{children:[m.jsx(et,{htmlFor:"backgroundColor",children:"Hintergrundfarbe"}),m.jsx(tt,{id:"backgroundColor",type:"color",value:t.backgroundColor||"#667eea",onChange:a=>e({backgroundColor:a.target.value})})]}),m.jsxs("div",{children:[m.jsx(et,{htmlFor:"customJS",children:"Custom JavaScript"}),m.jsx(od,{id:"customJS",value:t.customJS||"",onChange:a=>e({customJS:a.target.value}),placeholder:"alert('Hello World!');"})]})]});case"link-text":return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(et,{htmlFor:"text",children:"Link Text"}),m.jsx(tt,{id:"text",value:t.text||"",onChange:a=>e({text:a.target.value}),placeholder:"Link Text..."})]}),m.jsxs("div",{children:[m.jsx(et,{htmlFor:"url",children:"URL"}),m.jsx(tt,{id:"url",value:t.url||"",onChange:a=>e({url:a.target.value}),placeholder:"https://example.com"})]}),m.jsxs("div",{children:[m.jsx(et,{htmlFor:"color",children:"Textfarbe"}),m.jsx(tt,{id:"color",type:"color",value:t.color||"#667eea",onChange:a=>e({color:a.target.value})})]}),m.jsxs("div",{children:[m.jsx(et,{htmlFor:"fontSize",children:"Schriftgröße (px)"}),m.jsx(tt,{id:"fontSize",type:"number",value:t.fontSize||16,onChange:a=>e({fontSize:parseInt(a.target.value)}),min:"8",max:"72"})]})]});case"youtube":return m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{children:[m.jsx(et,{htmlFor:"url",children:"YouTube URL"}),m.jsx(tt,{id:"url",value:t.url||"",onChange:a=>e({url:a.target.value}),placeholder:"https://www.youtube.com/watch?v=..."})]})});case"topbar":return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(et,{htmlFor:"label",children:"Label Text"}),m.jsx(tt,{id:"label",value:t.label||"",onChange:a=>e({label:a.target.value}),placeholder:"Navigation"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsxs(et,{children:["Buttons (",(t.buttons||[]).length,"/5)"]}),m.jsx(Le,{onClick:r,size:"sm",disabled:(t.buttons||[]).length>=5,children:m.jsx(xm,{className:"h-3 w-3"})})]}),(t.buttons||[]).map((a,l)=>m.jsxs("div",{className:"border p-3 rounded mb-2",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsxs("span",{className:"text-sm font-medium",children:["Button ",l+1]}),m.jsx(Le,{onClick:()=>i(l),size:"sm",variant:"destructive",children:m.jsx(TN,{className:"h-3 w-3"})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(tt,{value:a.text||"",onChange:u=>s(l,{text:u.target.value}),placeholder:"Button Text"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(tt,{type:"color",value:a.backgroundColor||"#667eea",onChange:u=>s(l,{backgroundColor:u.target.value}),className:"w-16"}),m.jsx(od,{value:a.customJS||"",onChange:u=>s(l,{customJS:u.target.value}),placeholder:"JavaScript Code...",className:"text-xs",rows:2})]})]})]},l))]})]});case"dark-toggle":return m.jsx("div",{className:"text-center py-4",children:m.jsx("p",{className:"text-gray-500",children:"Dark Mode Toggle - Keine Einstellungen erforderlich"})});case"image":return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(et,{htmlFor:"src",children:"Bild URL"}),m.jsx(tt,{id:"src",value:t.src||"",onChange:a=>e({src:a.target.value}),placeholder:"https://example.com/image.jpg"})]}),m.jsxs("div",{children:[m.jsx(et,{htmlFor:"alt",children:"Alt Text"}),m.jsx(tt,{id:"alt",value:t.alt||"",onChange:a=>e({alt:a.target.value}),placeholder:"Bildbeschreibung..."})]})]});case"input":return m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{children:[m.jsx(et,{htmlFor:"placeholder",children:"Platzhalter Text"}),m.jsx(tt,{id:"placeholder",value:t.placeholder||"",onChange:a=>e({placeholder:a.target.value}),placeholder:"Eingabe..."})]})});default:return null}};return m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h4",{className:"font-medium capitalize",children:[t.type," Eigenschaften"]}),m.jsx(Le,{onClick:n,size:"sm",variant:"destructive",children:m.jsx(lT,{className:"h-3 w-3"})})]}),o()]})},vU=[{type:"text",icon:DN,label:"Text"},{type:"button",icon:IN,label:"Button"},{type:"image",icon:yN,label:"Bild"},{type:"input",icon:RN,label:"Eingabefeld"},{type:"link-text",icon:wN,label:"Link Text"},{type:"youtube",icon:dT,label:"YouTube"},{type:"dark-toggle",icon:aT,label:"Dark Toggle"},{type:"topbar",icon:bN,label:"Topbar"}],yU=({website:t,onSave:e,onBack:n})=>{var H,ne;const[r,i]=w.useState([]),[s,o]=w.useState(null),[a,l]=w.useState(!1),[u,d]=w.useState(!1),[f,h]=w.useState(!1),[_,T]=w.useState("classic"),[v,b]=w.useState(""),[x,y]=w.useState(!1),[E,P]=w.useState(null),{toast:O}=hc();console.log("WebsiteBuilder: Component mounted with website:",{id:t.id,name:t.name,hasHtmlContent:!!t.htmlContent,htmlContentLength:((H=t.htmlContent)==null?void 0:H.length)||0,htmlContentPreview:((ne=t.htmlContent)==null?void 0:ne.substring(0,100))||"none"}),console.log("WebsiteBuilder: Testing parseHTML function..."),w.useEffect(()=>{if(console.log("WebsiteBuilder: useEffect triggered"),console.log("WebsiteBuilder: Loading website with htmlContent:",t.htmlContent?"exists":"empty"),t.htmlContent)try{console.log("WebsiteBuilder: Attempting to parse HTML content...");const j=pt.parseHTML(t.htmlContent);console.log("WebsiteBuilder: Parsed elements:",j),i(j),console.log("WebsiteBuilder: Elements state set to:",j)}catch(j){console.error("Error parsing website HTML:",j),O({title:"Warnung",description:"Konnte gespeicherte Website nicht laden. Starte mit leerer Website.",variant:"destructive"})}else console.log("WebsiteBuilder: No htmlContent found, starting with empty elements")},[t.htmlContent,O]),w.useEffect(()=>{(async()=>{if(t.id){const K=await pt.getCustomPathForWebsite(t.id);P(K),K&&T("custom")}})()},[t.id]);const M=j=>{const K={id:Date.now().toString(),type:j,content:j==="text"?"Neuer Text":void 0,text:j==="button"||j==="link-text"?"Button Text":void 0,src:j==="image"?"/placeholder.svg":void 0,alt:j==="image"?"Bild":void 0,placeholder:j==="input"?"Eingabe...":void 0,url:j==="link-text"||j==="youtube"?"https://example.com":void 0,color:"#333333",backgroundColor:"#667eea",fontSize:16,label:j==="topbar"?"Navigation":void 0,buttons:j==="topbar"?[]:void 0};i([...r,K]),o(K)},C=(j,K)=>{i(r.map(L=>L.id===j?{...L,...K}:L)),(s==null?void 0:s.id)===j&&o({...s,...K})},I=j=>{i(r.filter(K=>K.id!==j)),(s==null?void 0:s.id)===j&&o(null)},A=async()=>{l(!0);try{const j=pt.generateHTML(r);if(t.isPublished){await pt.updateWebsite(t.id,{htmlContent:j,isPublished:!0});const K=await pt.getCustomPathForWebsite(t.id),L=K?`/view/${K}`:`/view/${t.id}`;O({title:"Gespeichert & Aktualisiert!",description:`Website wurde gespeichert und automatisch aktualisiert unter ${L}`})}else await pt.updateWebsite(t.id,{htmlContent:j,isPublished:!1}),O({title:"Gespeichert!",description:"Website wurde erfolgreich gespeichert"});e()}catch{O({title:"Fehler",description:"Website konnte nicht gespeichert werden",variant:"destructive"})}finally{l(!1)}},k=async()=>{if(t.id){const j=await pt.getCustomPathForWebsite(t.id);P(j),j&&T("custom")}h(!0)},N=async()=>{d(!0);try{const j=pt.generateHTML(r);if(_==="custom"&&(v.trim()||E)){const K=v.trim()||E;v.trim()&&!E&&await pt.setCustomPath(t.id,v.trim()),await pt.updateWebsite(t.id,{htmlContent:j,isPublished:!0}),O({title:t.isPublished?"Aktualisiert!":"Veröffentlicht!",description:`Website ist jetzt unter /view/${K} erreichbar`}),window.open(`/view/${K}`,"_blank")}else await pt.updateWebsite(t.id,{htmlContent:j,isPublished:!0}),O({title:t.isPublished?"Aktualisiert!":"Veröffentlicht!",description:t.isPublished?"Website wurde erfolgreich aktualisiert":`Website ist jetzt unter /view/${t.id} erreichbar`}),window.open(`/view/${t.id}`,"_blank");e(),h(!1)}catch(j){O({title:"Fehler",description:j instanceof Error?j.message:"Website konnte nicht veröffentlicht werden",variant:"destructive"})}finally{d(!1)}},D=async j=>{if(j.trim()){y(!0);try{await pt.getWebsiteByCustomPath(j.trim())&&O({title:"Pfad bereits vergeben",description:"Dieser Custom Path ist bereits in Verwendung",variant:"destructive"})}catch(K){console.error("Error checking custom path:",K)}finally{y(!1)}}},R=j=>{const L=`cursor-pointer border-2 transition-all ${(s==null?void 0:s.id)===j.id?"border-blue-500 bg-blue-50":"border-transparent hover:border-gray-300"}`,$=()=>o(j);switch(j.type){case"text":return m.jsx("p",{className:`p-2 mb-4 ${L}`,style:{color:j.color,fontSize:`${j.fontSize}px`},onClick:$,children:j.content||"Text"},j.id);case"button":return m.jsx("button",{className:`px-4 py-2 rounded mb-4 text-white font-medium ${L}`,style:{backgroundColor:j.backgroundColor},onClick:$,children:j.text||"Button"},j.id);case"image":return m.jsx("img",{src:j.src||"/placeholder.svg",alt:j.alt||"Bild",className:`max-w-full h-auto mb-4 rounded ${L}`,onClick:$},j.id);case"input":return m.jsx("input",{type:"text",placeholder:j.placeholder||"Eingabe...",className:`w-full p-2 border border-gray-300 rounded mb-4 ${L}`,onClick:$,readOnly:!0},j.id);case"link-text":return m.jsx("p",{className:`p-2 mb-4 ${L}`,onClick:$,children:m.jsx("span",{style:{color:j.color,fontSize:`${j.fontSize}px`},className:"underline cursor-pointer",children:j.text||"Link Text"})},j.id);case"youtube":return m.jsx("div",{className:`mb-4 ${L}`,onClick:$,children:m.jsxs("div",{className:"bg-gray-100 p-4 rounded text-center",children:[m.jsx(dT,{className:"mx-auto h-8 w-8 text-red-500 mb-2"}),m.jsx("p",{className:"text-sm text-gray-600",children:"YouTube Video"}),m.jsx("p",{className:"text-xs text-gray-400",children:j.url||"URL eingeben"})]})},j.id);case"dark-toggle":return m.jsx("button",{className:`px-4 py-2 bg-gray-800 text-white rounded mb-4 ${L}`,onClick:$,children:"🌙 Dark Mode"},j.id);case"topbar":return m.jsx("div",{className:`mb-4 ${L}`,onClick:$,children:m.jsx("div",{className:"bg-white border rounded p-3",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"font-medium",children:j.label||"Navigation"}),m.jsx("div",{className:"flex gap-2",children:(j.buttons||[]).map((J,Q)=>m.jsx("button",{className:"px-3 py-1 text-white rounded text-sm",style:{backgroundColor:J.backgroundColor},children:J.text},Q))})]})})},j.id);default:return null}};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[m.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[m.jsxs("div",{className:"p-4 border-b",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx(Le,{onClick:()=>window.location.reload(),variant:"ghost",size:"sm",children:m.jsx(dv,{className:"h-4 w-4"})}),m.jsx(Ey,{variant:"outline",children:t.name})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(Le,{onClick:A,disabled:a,size:"sm",variant:"outline",children:[m.jsx(SN,{className:"mr-1 h-3 w-3"}),a?"Speichert...":t.isPublished?"Speichern & Aktualisieren":"Speichern"]}),m.jsxs(Le,{onClick:k,disabled:u,size:"sm",children:[m.jsx($l,{className:"mr-1 h-3 w-3"}),u?t.isPublished?"Aktualisiert...":"Veröffentlicht...":t.isPublished?"Aktualisieren":"Veröffentlichen"]})]})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"font-medium mb-3",children:"Elemente"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:vU.map(({type:j,icon:K,label:L})=>m.jsxs(Le,{onClick:()=>M(j),variant:"outline",size:"sm",className:"h-12 flex-col",children:[m.jsx(K,{className:"h-4 w-4 mb-1"}),m.jsx("span",{className:"text-xs",children:L})]},j))})]}),s&&m.jsx("div",{className:"flex-1 border-t",children:m.jsx(gU,{element:s,onUpdate:j=>C(s.id,j),onDelete:()=>I(s.id)})})]}),m.jsx("div",{className:"flex-1 p-8",children:m.jsxs(lr,{className:"w-full max-w-4xl mx-auto min-h-96",children:[m.jsx(cr,{children:m.jsx(ur,{className:"text-center",children:"Website Vorschau"})}),m.jsx(dr,{className:"p-8",children:r.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-500",children:[m.jsx(oT,{className:"mx-auto h-12 w-12 mb-4"}),m.jsx("p",{children:"Füge Elemente hinzu, um deine Website zu erstellen!"})]}):m.jsx("div",{className:"space-y-2",children:r.map(R)})})]})})]}),m.jsx(TA,{open:f,onOpenChange:h,children:m.jsxs(Ay,{className:"sm:max-w-md",children:[m.jsxs(Py,{children:[m.jsx(ky,{children:t.isPublished?"Website aktualisieren":"Website veröffentlichen"}),m.jsxs(Ry,{children:["Wähle aus, wie du deine Website ",t.isPublished?"aktualisieren":"veröffentlichen"," möchtest."]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"radio",id:"classic",name:"publishType",value:"classic",checked:_==="classic",onChange:j=>T(j.target.value),className:"h-4 w-4"}),m.jsxs(et,{htmlFor:"classic",className:"flex-1",children:[m.jsx("div",{className:"font-medium",children:"Classic Publish (Gratis)"}),m.jsxs("div",{className:"text-sm text-gray-500",children:["Website wird unter /view/",t.id," veröffentlicht"]})]})]}),m.jsxs("div",{className:"flex items-start space-x-2",children:[m.jsx("input",{type:"radio",id:"custom",name:"publishType",value:"custom",checked:_==="custom",onChange:j=>T(j.target.value),className:"h-4 w-4 mt-1"}),m.jsxs("div",{className:"flex-1",children:[m.jsx(et,{htmlFor:"custom",className:"font-medium",children:"Custom Project Name (5 Tokens)"}),E?m.jsxs("div",{className:"text-sm text-green-600 mb-2",children:["✅ Bereits gesetzt: ",E,m.jsx("br",{}),m.jsxs("span",{className:"text-xs text-gray-500",children:["Website wird unter /view/",E," veröffentlicht"]})]}):m.jsx("div",{className:"text-sm text-gray-500 mb-2",children:'Wähle deinen eigenen Projektnamen (z.B. "meine-awesome-website")'}),_==="custom"&&!E&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(tt,{placeholder:"meine-awesome-website",value:v,onChange:j=>b(j.target.value),onBlur:()=>D(v)}),m.jsxs("div",{className:"text-xs text-gray-500",children:["Deine Website wird dann unter /view/",v||"projektname"," erreichbar sein"]})]})]})]})]}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[m.jsx(Le,{variant:"outline",onClick:()=>h(!1),disabled:u,children:"Abbrechen"}),m.jsx(Le,{onClick:N,disabled:u||_==="custom"&&!v.trim()&&!E,children:u?t.isPublished?"Aktualisiert...":"Veröffentlicht...":t.isPublished?"Aktualisieren":"Veröffentlichen"})]})]})})]})};function AA(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ny="Switch",[wU,xB]=fc(Ny),[_U,EU]=wU(Ny),PA=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,_]=w.useState(null),T=Fe(e,E=>_(E)),v=w.useRef(!1),b=h?d||!!h.closest("form"):!0,[x=!1,y]=zl({prop:i,defaultProp:s,onChange:u});return m.jsxs(_U,{scope:n,checked:x,disabled:a,children:[m.jsx(xe.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":NA(x),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:T,onClick:ue(t.onClick,E=>{y(P=>!P),b&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})}),b&&m.jsx(xU,{control:h,bubbles:!v.current,name:r,value:l,checked:x,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});PA.displayName=Ny;var kA="SwitchThumb",RA=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=EU(kA,n);return m.jsx(xe.span,{"data-state":NA(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});RA.displayName=kA;var xU=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=w.useRef(null),o=AA(n),a=RT(e);return w.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[o,n,r]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function NA(t){return t?"checked":"unchecked"}var DA=PA,bU=RA;const OA=w.forwardRef(({className:t,...e},n)=>m.jsx(DA,{className:Ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:m.jsx(bU,{className:Ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));OA.displayName=DA.displayName;function iE(t,[e,n]){return Math.min(n,Math.max(e,t))}var TU=w.createContext(void 0);function IU(t){const e=w.useContext(TU);return t||e||"ltr"}var CU=[" ","Enter","ArrowUp","ArrowDown"],SU=[" ","Enter"],Dc="Select",[of,af,AU]=Rb(Dc),[Ia,bB]=fc(Dc,[AU,Ph]),lf=Ph(),[PU,as]=Ia(Dc),[kU,RU]=Ia(Dc),MA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:_,form:T}=t,v=lf(e),[b,x]=w.useState(null),[y,E]=w.useState(null),[P,O]=w.useState(!1),M=IU(u),[C=!1,I]=zl({prop:r,defaultProp:i,onChange:s}),[A,k]=zl({prop:o,defaultProp:a,onChange:l}),N=w.useRef(null),D=b?T||!!b.closest("form"):!0,[R,H]=w.useState(new Set),ne=Array.from(R).map(j=>j.props.value).join(";");return m.jsx(nM,{...v,children:m.jsxs(PU,{required:_,scope:e,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:E,valueNodeHasChildren:P,onValueNodeHasChildrenChange:O,contentId:ko(),value:A,onValueChange:k,open:C,onOpenChange:I,dir:M,triggerPointerDownPosRef:N,disabled:h,children:[m.jsx(of.Provider,{scope:e,children:m.jsx(kU,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(j=>{H(K=>new Set(K).add(j))},[]),onNativeOptionRemove:w.useCallback(j=>{H(K=>{const L=new Set(K);return L.delete(j),L})},[]),children:n})}),D?m.jsxs(oP,{"aria-hidden":!0,required:_,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:j=>k(j.target.value),disabled:h,form:T,children:[A===void 0?m.jsx("option",{value:""}):null,Array.from(R)]},ne):null]})})};MA.displayName=Dc;var LA="SelectTrigger",VA=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=lf(n),o=as(LA,n),a=o.disabled||r,l=Fe(e,o.onTriggerChange),u=af(n),d=w.useRef("touch"),[f,h,_]=aP(v=>{const b=u().filter(E=>!E.disabled),x=b.find(E=>E.value===o.value),y=lP(b,v,x);y!==void 0&&o.onValueChange(y.value)}),T=v=>{a||(o.onOpenChange(!0),_()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return m.jsx(BT,{asChild:!0,...s,children:m.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":sP(o.value)?"":void 0,...i,ref:l,onClick:ue(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&T(v)}),onPointerDown:ue(i.onPointerDown,v=>{d.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(T(v),v.preventDefault())}),onKeyDown:ue(i.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(b&&v.key===" ")&&CU.includes(v.key)&&(T(),v.preventDefault())})})})});VA.displayName=LA;var jA="SelectValue",FA=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=as(jA,n),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=Fe(e,l.onValueNodeChange);return zt(()=>{u(d)},[u,d]),m.jsx(xe.span,{...a,ref:f,style:{pointerEvents:"none"},children:sP(l.value)?m.jsx(m.Fragment,{children:o}):s})});FA.displayName=jA;var NU="SelectIcon",UA=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.jsx(xe.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});UA.displayName=NU;var DU="SelectPortal",BA=t=>m.jsx(xh,{asChild:!0,...t});BA.displayName=DU;var $s="SelectContent",zA=w.forwardRef((t,e)=>{const n=as($s,t.__scopeSelect),[r,i]=w.useState();if(zt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Gs.createPortal(m.jsx($A,{scope:t.__scopeSelect,children:m.jsx(of.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),s):null}return m.jsx(WA,{...t,ref:e})});zA.displayName=$s;var Mn=10,[$A,ls]=Ia($s),OU="SelectContentImpl",WA=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:_,sticky:T,hideWhenDetached:v,avoidCollisions:b,...x}=t,y=as($s,n),[E,P]=w.useState(null),[O,M]=w.useState(null),C=Fe(e,te=>P(te)),[I,A]=w.useState(null),[k,N]=w.useState(null),D=af(n),[R,H]=w.useState(!1),ne=w.useRef(!1);w.useEffect(()=>{if(E)return iA(E)},[E]),YS();const j=w.useCallback(te=>{const[Te,...He]=D().map(ve=>ve.ref.current),[me]=He.slice(-1),Ee=document.activeElement;for(const ve of te)if(ve===Ee||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===Te&&O&&(O.scrollTop=0),ve===me&&O&&(O.scrollTop=O.scrollHeight),ve==null||ve.focus(),document.activeElement!==Ee))return},[D,O]),K=w.useCallback(()=>j([I,E]),[j,I,E]);w.useEffect(()=>{R&&K()},[R,K]);const{onOpenChange:L,triggerPointerDownPosRef:$}=y;w.useEffect(()=>{if(E){let te={x:0,y:0};const Te=me=>{var Ee,ve;te={x:Math.abs(Math.round(me.pageX)-(((Ee=$.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(me.pageY)-(((ve=$.current)==null?void 0:ve.y)??0))}},He=me=>{te.x<=10&&te.y<=10?me.preventDefault():E.contains(me.target)||L(!1),document.removeEventListener("pointermove",Te),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",He,{capture:!0})}}},[E,L,$]),w.useEffect(()=>{const te=()=>L(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[L]);const[J,Q]=aP(te=>{const Te=D().filter(Ee=>!Ee.disabled),He=Te.find(Ee=>Ee.ref.current===document.activeElement),me=lP(Te,te,He);me&&setTimeout(()=>me.ref.current.focus())}),ee=w.useCallback((te,Te,He)=>{const me=!ne.current&&!He;(y.value!==void 0&&y.value===Te||me)&&(A(te),me&&(ne.current=!0))},[y.value]),re=w.useCallback(()=>E==null?void 0:E.focus(),[E]),Se=w.useCallback((te,Te,He)=>{const me=!ne.current&&!He;(y.value!==void 0&&y.value===Te||me)&&N(te)},[y.value]),We=r==="popper"?lg:HA,pe=We===lg?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:_,sticky:T,hideWhenDetached:v,avoidCollisions:b}:{};return m.jsx($A,{scope:n,content:E,viewport:O,onViewportChange:M,itemRefCallback:ee,selectedItem:I,onItemLeave:re,itemTextRefCallback:Se,focusSelectedItem:K,selectedItemText:k,position:r,isPositioned:R,searchRef:J,children:m.jsx(by,{as:Os,allowPinchZoom:!0,children:m.jsx(xy,{asChild:!0,trapped:y.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ue(i,te=>{var Te;(Te=y.trigger)==null||Te.focus({preventScroll:!0}),te.preventDefault()}),children:m.jsx(pc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:m.jsx(We,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:te=>te.preventDefault(),...x,...pe,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ue(x.onKeyDown,te=>{const Te=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Te&&te.key.length===1&&Q(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let me=D().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(te.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ee=te.target,ve=me.indexOf(Ee);me=me.slice(ve+1)}setTimeout(()=>j(me)),te.preventDefault()}})})})})})})});WA.displayName=OU;var MU="SelectItemAlignedPosition",HA=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=as($s,n),o=ls($s,n),[a,l]=w.useState(null),[u,d]=w.useState(null),f=Fe(e,C=>d(C)),h=af(n),_=w.useRef(!1),T=w.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=o,E=w.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&v&&b&&x){const C=s.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(s.dir!=="rtl"){const Ee=k.left-I.left,ve=A.left-Ee,ft=C.left-ve,xt=C.width+ft,En=Math.max(xt,I.width),Wt=window.innerWidth-Mn,xr=iE(ve,[Mn,Math.max(Mn,Wt-En)]);a.style.minWidth=xt+"px",a.style.left=xr+"px"}else{const Ee=I.right-k.right,ve=window.innerWidth-A.right-Ee,ft=window.innerWidth-C.right-ve,xt=C.width+ft,En=Math.max(xt,I.width),Wt=window.innerWidth-Mn,xr=iE(ve,[Mn,Math.max(Mn,Wt-En)]);a.style.minWidth=xt+"px",a.style.right=xr+"px"}const N=h(),D=window.innerHeight-Mn*2,R=v.scrollHeight,H=window.getComputedStyle(u),ne=parseInt(H.borderTopWidth,10),j=parseInt(H.paddingTop,10),K=parseInt(H.borderBottomWidth,10),L=parseInt(H.paddingBottom,10),$=ne+j+R+L+K,J=Math.min(b.offsetHeight*5,$),Q=window.getComputedStyle(v),ee=parseInt(Q.paddingTop,10),re=parseInt(Q.paddingBottom,10),Se=C.top+C.height/2-Mn,We=D-Se,pe=b.offsetHeight/2,te=b.offsetTop+pe,Te=ne+j+te,He=$-Te;if(Te<=Se){const Ee=N.length>0&&b===N[N.length-1].ref.current;a.style.bottom="0px";const ve=u.clientHeight-v.offsetTop-v.offsetHeight,ft=Math.max(We,pe+(Ee?re:0)+ve+K),xt=Te+ft;a.style.height=xt+"px"}else{const Ee=N.length>0&&b===N[0].ref.current;a.style.top="0px";const ft=Math.max(Se,ne+v.offsetTop+(Ee?ee:0)+pe)+He;a.style.height=ft+"px",v.scrollTop=Te-Se+v.offsetTop}a.style.margin=`${Mn}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[h,s.trigger,s.valueNode,a,u,v,b,x,s.dir,r]);zt(()=>E(),[E]);const[P,O]=w.useState();zt(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const M=w.useCallback(C=>{C&&T.current===!0&&(E(),y==null||y(),T.current=!1)},[E,y]);return m.jsx(VU,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:_,onScrollButtonChange:M,children:m.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:m.jsx(xe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});HA.displayName=MU;var LU="SelectPopperPosition",lg=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Mn,...s}=t,o=lf(n);return m.jsx(zT,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lg.displayName=LU;var[VU,Dy]=Ia($s,{}),cg="SelectViewport",GA=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=ls(cg,n),o=Dy(cg,n),a=Fe(e,s.onViewportChange),l=w.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(of.Slot,{scope:n,children:m.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ue(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const _=Math.abs(l.current-d.scrollTop);if(_>0){const T=window.innerHeight-Mn*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(v,b);if(x<T){const y=x+_,E=Math.min(T,y),P=y-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});GA.displayName=cg;var qA="SelectGroup",[jU,FU]=Ia(qA),UU=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ko();return m.jsx(jU,{scope:n,id:i,children:m.jsx(xe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});UU.displayName=qA;var KA="SelectLabel",QA=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=FU(KA,n);return m.jsx(xe.div,{id:i.id,...r,ref:e})});QA.displayName=KA;var sh="SelectItem",[BU,YA]=Ia(sh),XA=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=as(sh,n),l=ls(sh,n),u=a.value===r,[d,f]=w.useState(s??""),[h,_]=w.useState(!1),T=Fe(e,y=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,y,r,i)}),v=ko(),b=w.useRef("touch"),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(BU,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:w.useCallback(y=>{f(E=>E||((y==null?void 0:y.textContent)??"").trim())},[]),children:m.jsx(of.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:m.jsx(xe.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:T,onFocus:ue(o.onFocus,()=>_(!0)),onBlur:ue(o.onBlur,()=>_(!1)),onClick:ue(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:ue(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:ue(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:ue(o.onPointerMove,y=>{var E;b.current=y.pointerType,i?(E=l.onItemLeave)==null||E.call(l):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,y=>{var E;y.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:ue(o.onKeyDown,y=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&y.key===" "||(SU.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});XA.displayName=sh;var ll="SelectItemText",JA=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=as(ll,n),a=ls(ll,n),l=YA(ll,n),u=RU(ll,n),[d,f]=w.useState(null),h=Fe(e,x=>f(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,x,l.value,l.disabled)}),_=d==null?void 0:d.textContent,T=w.useMemo(()=>m.jsx("option",{value:l.value,disabled:l.disabled,children:_},l.value),[l.disabled,l.value,_]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return zt(()=>(v(T),()=>b(T)),[v,b,T]),m.jsxs(m.Fragment,{children:[m.jsx(xe.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gs.createPortal(s.children,o.valueNode):null]})});JA.displayName=ll;var ZA="SelectItemIndicator",eP=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return YA(ZA,n).isSelected?m.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});eP.displayName=ZA;var ug="SelectScrollUpButton",tP=w.forwardRef((t,e)=>{const n=ls(ug,t.__scopeSelect),r=Dy(ug,t.__scopeSelect),[i,s]=w.useState(!1),o=Fe(e,r.onScrollButtonChange);return zt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?m.jsx(rP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});tP.displayName=ug;var dg="SelectScrollDownButton",nP=w.forwardRef((t,e)=>{const n=ls(dg,t.__scopeSelect),r=Dy(dg,t.__scopeSelect),[i,s]=w.useState(!1),o=Fe(e,r.onScrollButtonChange);return zt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?m.jsx(rP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});nP.displayName=dg;var rP=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=ls("SelectScrollButton",n),o=w.useRef(null),a=af(n),l=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>l(),[l]),zt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),m.jsx(xe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ue(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ue(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ue(i.onPointerLeave,()=>{l()})})}),zU="SelectSeparator",iP=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});iP.displayName=zU;var hg="SelectArrow",$U=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=lf(n),s=as(hg,n),o=ls(hg,n);return s.open&&o.position==="popper"?m.jsx($T,{...i,...r,ref:e}):null});$U.displayName=hg;function sP(t){return t===""||t===void 0}var oP=w.forwardRef((t,e)=>{const{value:n,...r}=t,i=w.useRef(null),s=Fe(e,i),o=AA(n);return w.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),m.jsx(mc,{asChild:!0,children:m.jsx("select",{...r,ref:s,defaultValue:n})})});oP.displayName="BubbleSelect";function aP(t){const e=yn(t),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function lP(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=WU(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function WU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HU=MA,cP=VA,GU=FA,qU=UA,KU=BA,uP=zA,QU=GA,dP=QA,hP=XA,YU=JA,XU=eP,fP=tP,pP=nP,mP=iP;const JU=HU,ZU=GU,gP=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(cP,{ref:r,className:Ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,m.jsx(qU,{asChild:!0,children:m.jsx(iT,{className:"h-4 w-4 opacity-50"})})]}));gP.displayName=cP.displayName;const vP=w.forwardRef(({className:t,...e},n)=>m.jsx(fP,{ref:n,className:Ce("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(pN,{className:"h-4 w-4"})}));vP.displayName=fP.displayName;const yP=w.forwardRef(({className:t,...e},n)=>m.jsx(pP,{ref:n,className:Ce("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(iT,{className:"h-4 w-4"})}));yP.displayName=pP.displayName;const wP=w.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>m.jsx(KU,{children:m.jsxs(uP,{ref:i,className:Ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[m.jsx(vP,{}),m.jsx(QU,{className:Ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(yP,{})]})}));wP.displayName=uP.displayName;const eB=w.forwardRef(({className:t,...e},n)=>m.jsx(dP,{ref:n,className:Ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));eB.displayName=dP.displayName;const fg=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(hP,{ref:r,className:Ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(XU,{children:m.jsx(fN,{className:"h-4 w-4"})})}),m.jsx(YU,{children:e})]}));fg.displayName=hP.displayName;const tB=w.forwardRef(({className:t,...e},n)=>m.jsx(mP,{ref:n,className:Ce("-mx-1 my-1 h-px bg-muted",t),...e}));tB.displayName=mP.displayName;const nB=({onBack:t})=>{const{profile:e,updateProfile:n}=KS(),{toast:r}=hc(),[i,s]=w.useState(!1),o=async l=>{s(!0);try{await n({language:l}),r({title:"Sprache geändert",description:"Einstellungen wurden gespeichert"})}catch{r({title:"Fehler",description:"Sprache konnte nicht geändert werden",variant:"destructive"})}finally{s(!1)}},a=async l=>{s(!0);try{await n({darkMode:l}),l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),r({title:"Dark Mode geändert",description:"Einstellungen wurden gespeichert"})}catch{r({title:"Fehler",description:"Dark Mode konnte nicht geändert werden",variant:"destructive"})}finally{s(!1)}};return e?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsxs("div",{className:"flex items-center mb-8",children:[m.jsx(Le,{onClick:t,variant:"ghost",size:"sm",className:"mr-4",children:m.jsx(dv,{className:"h-4 w-4"})}),m.jsx("h1",{className:"text-3xl font-bold",children:"Benutzereinstellungen"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs(lr,{children:[m.jsx(cr,{children:m.jsxs(ur,{className:"flex items-center",children:[m.jsx(sT,{className:"mr-2 h-5 w-5 text-yellow-500"}),"Token Status"]})}),m.jsx(dr,{children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl font-bold text-yellow-500 mb-2",children:e.tokens}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Verfügbare Tokens"}),m.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[m.jsx("p",{children:"• Neue Website: 2 Tokens"}),m.jsx("p",{children:"• Custom Path: 5 Tokens"}),m.jsx("p",{children:"• Veröffentlichen: Kostenlos"}),m.jsx("p",{children:"• Löschen: 1 Token zurück"})]})]})})]}),m.jsxs(lr,{children:[m.jsx(cr,{children:m.jsxs(ur,{className:"flex items-center",children:[m.jsx(ON,{className:"mr-2 h-5 w-5"}),"Profil"]})}),m.jsxs(dr,{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(et,{children:"E-Mail"}),m.jsx(tt,{value:e.email,disabled:!0})]}),m.jsxs("div",{children:[m.jsx(et,{children:"Name"}),m.jsx(tt,{value:e.displayName||"",disabled:!0})]})]})]}),m.jsxs(lr,{children:[m.jsx(cr,{children:m.jsxs(ur,{className:"flex items-center",children:[m.jsx($l,{className:"mr-2 h-5 w-5"}),"Sprache"]})}),m.jsx(dr,{children:m.jsxs(JU,{value:e.language,onValueChange:o,disabled:i,children:[m.jsx(gP,{children:m.jsx(ZU,{})}),m.jsxs(wP,{children:[m.jsx(fg,{value:"de",children:"Deutsch"}),m.jsx(fg,{value:"en",children:"English"})]})]})})]}),m.jsxs(lr,{children:[m.jsx(cr,{children:m.jsxs(ur,{className:"flex items-center",children:[m.jsx(aT,{className:"mr-2 h-5 w-5"}),"Darstellung"]})}),m.jsx(dr,{children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(et,{htmlFor:"dark-mode",children:"Dark Mode"}),m.jsx(OA,{id:"dark-mode",checked:e.darkMode,onCheckedChange:a,disabled:i})]})})]})]})]})}):m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Lade Profil..."})},rB=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState(!1),[o,a]=w.useState(!1),[l,u]=w.useState(null),{user:d}=_y(),{profile:f,refreshProfile:h}=KS(),{toast:_}=hc();w.useEffect(()=>{T()},[d]);const T=async()=>{if(d)try{console.log("Loading websites for user:",d.uid);const E=await pt.getUserWebsites(d.uid);console.log("Loaded websites:",E),e(E)}catch(E){console.error("Error loading websites:",E),_({title:"Fehler",description:"Websites konnten nicht geladen werden",variant:"destructive"})}finally{r(!1)}},v=async()=>{try{await rd.logout(),_({title:"Abgemeldet",description:"Bis zum nächsten Mal!"})}catch{_({title:"Fehler",description:"Abmeldung fehlgeschlagen",variant:"destructive"})}},b=async E=>{if(confirm("Website wirklich löschen? Du erhältst 50% der verwendeten Tokens zurück."))try{await pt.deleteWebsite(E),e(t.filter(P=>P.id!==E)),h(),_({title:"Gelöscht",description:"Website wurde erfolgreich gelöscht und Tokens erstattet"})}catch{_({title:"Fehler",description:"Website konnte nicht gelöscht werden",variant:"destructive"})}},x=async(E,P)=>{if(!(!d||!f)){if(f.tokens<2){_({title:"Nicht genügend Tokens",description:"Du benötigst 2 Tokens um eine neue Website zu erstellen",variant:"destructive"});return}try{console.log("Creating website with template:",E,"for user:",d.uid);const O=pt.generateTemplateHTML(E),M=await pt.createWebsite({name:P,userId:d.uid,htmlContent:O,isPublished:!1});console.log("Created website with ID:",M),s(!1),await T(),h(),_({title:"Projekt erstellt!",description:`${P} wurde erfolgreich erstellt`})}catch(O){console.error("Error creating website:",O),_({title:"Fehler",description:O instanceof Error?O.message:"Projekt konnte nicht erstellt werden",variant:"destructive"})}}},y=async()=>{if(!(!d||!f)){if(f.tokens<2){_({title:"Nicht genügend Tokens",description:"Du benötigst 2 Tokens um eine neue Website zu erstellen",variant:"destructive"});return}try{const E=`Neue Website ${new Date().toLocaleDateString("de-DE")}`;console.log("Creating blank website for user:",d.uid);const P=await pt.createWebsite({name:E,userId:d.uid,htmlContent:"",isPublished:!1});console.log("Created blank website with ID:",P),await T(),h(),_({title:"Leere Website erstellt!",description:`${E} wurde erfolgreich erstellt`})}catch(E){console.error("Error creating blank website:",E),_({title:"Fehler",description:E instanceof Error?E.message:"Leere Website konnte nicht erstellt werden",variant:"destructive"})}}};return o?m.jsx(nB,{onBack:()=>a(!1)}):l?m.jsx(yU,{website:l,onSave:()=>{u(null),T()},onBack:()=>u(null)}):i?m.jsx(fU,{onSelectTemplate:x,onBack:()=>s(!1)}):m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Webnest Dashboard"}),m.jsxs("p",{className:"text-gray-600 mt-2",children:["Hallo ",(d==null?void 0:d.displayName)||(d==null?void 0:d.email),"!"]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[f&&m.jsxs("div",{className:"flex items-center bg-yellow-100 px-3 py-2 rounded-full",children:[m.jsx(sT,{className:"h-4 w-4 text-yellow-600 mr-2"}),m.jsxs("span",{className:"font-medium text-yellow-800",children:[f.tokens," Tokens"]})]}),m.jsxs(Le,{onClick:()=>a(!0),variant:"outline",children:[m.jsx(AN,{className:"mr-2 h-4 w-4"}),"Einstellungen"]}),m.jsxs(Le,{onClick:v,variant:"outline",children:[m.jsx(EN,{className:"mr-2 h-4 w-4"}),"Abmelden"]})]})]}),m.jsxs("div",{className:"mb-6 flex gap-3",children:[m.jsxs(Le,{onClick:()=>s(!0),className:"bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700",disabled:!f||f.tokens<2,children:[m.jsx(xm,{className:"mr-2 h-4 w-4"}),"Mit Template erstellen (2 Tokens)"]}),m.jsxs(Le,{onClick:y,variant:"outline",className:"border-2",disabled:!f||f.tokens<2,children:[m.jsx(Em,{className:"mr-2 h-4 w-4"}),"Leere Website erstellen (2 Tokens)"]})]}),n?m.jsx("div",{className:"text-center",children:"Lade Websites..."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(E=>m.jsxs(lr,{className:"bg-white/70 backdrop-blur-sm hover:shadow-lg transition-shadow",children:[m.jsx(cr,{children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx(ur,{className:"text-xl",children:E.name}),m.jsxs(rf,{children:["Erstellt am ",new Date(E.createdAt).toLocaleDateString("de-DE")]})]}),m.jsx(Ey,{variant:E.isPublished?"default":"secondary",children:E.isPublished?"Veröffentlicht":"Entwurf"})]})}),m.jsx(dr,{children:m.jsxs("div",{className:"flex gap-2 flex-wrap",children:[m.jsxs(Le,{size:"sm",onClick:()=>u(E),className:"flex-1",children:[m.jsx(kN,{className:"mr-1 h-3 w-3"}),"Bearbeiten"]}),E.isPublished&&m.jsxs(Le,{size:"sm",variant:"outline",onClick:()=>window.open(`/view/${E.id}`,"_blank"),children:[m.jsx(oT,{className:"mr-1 h-3 w-3"}),"Ansehen"]}),m.jsx(Le,{size:"sm",variant:"destructive",onClick:()=>b(E.id),children:m.jsx(lT,{className:"h-3 w-3"})})]})})]},E.id))}),t.length===0&&!n&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx($l,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Noch keine Websites"}),m.jsx("p",{className:"text-gray-500 mb-4",children:"Erstelle deine erste Website mit unseren Templates oder starte mit einer leeren Seite!"}),m.jsxs("div",{className:"flex gap-3 justify-center",children:[m.jsxs(Le,{onClick:()=>s(!0),children:[m.jsx(xm,{className:"mr-2 h-4 w-4"}),"Mit Template erstellen"]}),m.jsxs(Le,{onClick:y,variant:"outline",children:[m.jsx(Em,{className:"mr-2 h-4 w-4"}),"Leere Website erstellen"]})]})]})]})})},iB=()=>{const{user:t,loading:e}=_y();return e?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("p",{children:"Lädt..."})]})}):t?m.jsx(rB,{}):m.jsx(o9,{})},sB=()=>{const t=yc();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),m.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},oB=()=>{const{id:t}=_L(),[e,n]=w.useState(""),[r,i]=w.useState(!0),[s,o]=w.useState(""),[a,l]=w.useState(!1);w.useEffect(()=>{u()},[t]);const u=async()=>{if(console.log("WebsiteViewer: loadWebsite called with id:",t),i(!0),o(""),l(!1),n(""),!t){o("Keine Website-ID angegeben"),i(!1);return}try{let d=null;if(console.log("WebsiteViewer: Trying custom path lookup for:",t),d=await pt.getWebsiteByCustomPath(t),console.log("WebsiteViewer: Custom path lookup result:",d?"found":"not found"),d||(console.log("WebsiteViewer: Trying direct ID lookup for:",t),d=await pt.getWebsite(t),console.log("WebsiteViewer: Direct ID lookup result:",d?"found":"not found")),!d){console.log("WebsiteViewer: No website found, showing not found page"),l(!0),i(!1);return}if(console.log("WebsiteViewer: Website found:",{id:d.id,name:d.name,isPublished:d.isPublished,hasHtmlContent:!!d.htmlContent}),!d.isPublished){o("Website ist nicht veröffentlicht"),i(!1);return}if(d.htmlContent){const f=atob(d.htmlContent);n(f)}else o("Kein Inhalt verfügbar")}catch(d){console.error("Error loading website:",d),o("Fehler beim Laden der Website")}finally{i(!1)}};return r?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("p",{children:"Website wird geladen..."})]})}):a?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:m.jsxs(lr,{className:"w-full max-w-4xl",children:[m.jsxs(cr,{className:"text-center",children:[m.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:m.jsx($l,{className:"h-8 w-8 text-blue-600"})}),m.jsx(ur,{className:"text-3xl font-bold text-gray-900 mb-2",children:"Website nicht gefunden"}),m.jsxs("p",{className:"text-gray-600 text-lg",children:["Die Website ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:t})," existiert nicht."]})]}),m.jsxs(dr,{className:"space-y-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Erstelle deine eigene Website!"}),m.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Mit Webnest kannst du schnell und einfach professionelle Websites erstellen. Keine Programmierkenntnisse erforderlich - nur deine Kreativität!"}),m.jsx(d_,{to:"/",children:m.jsxs(Le,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:[m.jsx(MN,{className:"mr-2 h-5 w-5"}),"Jetzt Website erstellen"]})})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[m.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(vN,{className:"h-6 w-6 text-green-600"})}),m.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Einfach zu bedienen"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Drag & Drop Editor mit intuitiver Benutzeroberfläche"})]}),m.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm",children:[m.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(NN,{className:"h-6 w-6 text-purple-600"})}),m.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Professionelle Templates"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Vorgefertigte Designs für verschiedene Branchen"})]}),m.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm",children:[m.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(cT,{className:"h-6 w-6 text-orange-600"})}),m.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Sofort online"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Veröffentliche deine Website mit einem Klick"})]})]}),m.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg p-8 text-white text-center",children:[m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Preise"}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[m.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[m.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Classic Publish"}),m.jsx("p",{className:"text-3xl font-bold mb-2",children:"Gratis"}),m.jsx("p",{className:"text-blue-100 text-sm",children:"Website mit automatischer URL"})]}),m.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[m.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Custom Domain"}),m.jsx("p",{className:"text-3xl font-bold mb-2",children:"5 Tokens"}),m.jsx("p",{className:"text-blue-100 text-sm",children:'Eigene URL wie "meine-website"'})]})]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx(Ey,{variant:"outline",className:"mb-4",children:"🎉 Über 1000+ Websites bereits erstellt"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-gray-600",children:"Bereit, deine eigene Website zu erstellen?"}),m.jsx(d_,{to:"/",children:m.jsxs(Le,{size:"lg",variant:"outline",className:"border-2",children:[m.jsx($l,{className:"mr-2 h-5 w-5"}),"Los geht's!"]})})]})]})]})]})}):s?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:m.jsxs("div",{className:"text-center",children:[m.jsx(gN,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Fehler"}),m.jsx("p",{className:"text-gray-600",children:s})]})}):m.jsx("div",{className:"min-h-screen",dangerouslySetInnerHTML:{__html:e}})},aB=()=>m.jsx(oB,{}),lB=new zM,cB=()=>m.jsx(WM,{client:lB,children:m.jsxs(wM,{children:[m.jsx(vD,{}),m.jsx(GD,{}),m.jsx(r9,{children:m.jsx(BL,{children:m.jsxs(OL,{children:[m.jsx(Hu,{path:"/",element:m.jsx(iB,{})}),m.jsx(Hu,{path:"/view/:id",element:m.jsx(aB,{})}),m.jsx(Hu,{path:"*",element:m.jsx(sB,{})})]})})})]})});Ab(document.getElementById("root")).render(m.jsx(cB,{}));
